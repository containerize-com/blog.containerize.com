---
title: "Как настроить и настроить nginx как обратный прокси" 
seoTitle: "Как настроить и настроить nginx как обратный прокси" 
description: "Этот урок о том, как настроить и настроить Nginx как обратный прокси. Nginx считается одним из самых популярных веб-серверов с открытым исходным кодом." 
date: Fri, 07 May 2021 07:38:05 +0000
author: yasir saeed
summary: "Nginx-это веб-сервер с открытым исходным кодом, который также может выступать в качестве обратного прокси. Этот урок поможет вам узнать, как настроить и настраивать Nginx как обратный прокси." 
url: /ru/how-to-setup-and-configure-nginx-as-reverse-proxy/
categories: ['Web Server Solution Stack']
---

## Nginx-это веб-сервер с открытым исходным кодом, который также может выступать в качестве обратного прокси. Этот урок поможет вам узнать, как настроить и настраивать Nginx как обратный прокси.

{{< figure align=center src="images/nginx-as-reverse-proxy.png" alt="Используйте NGINX в качестве сервера обратного прокси -сервера">}}


## Обзор:
Nginx и Apache - два наиболее **популярных веб -серверов с открытым исходным кодом **, часто используемых с PHP. Обратный прокси или шлюз действует как соединение между клиентом и сервером. Информация об обмене клиентом и сервером друг с другом для работы непрерывно и эффективно. Наиболее распространенные обратные прокси -  **nginx и apache**  , и оба могут быть настроены на одной и той же виртуальной машине при размещении нескольких веб -сайтов. Обратный прокси защищает веб -серверы от атак, а шлюз подключения представляется клиенту, как обычный веб -сервер, где не требуются специальные конфигурации обратного прокси Nginx. Клиент отправляет запрос, в то время как обратный прокси решает, куда передать запрошенную информацию, а затем предоставляя конечный результат вывода клиенту.
После большой оценки нашего сериала о учебных пособиях Redis мы получили много запросов на начало серии по учебным пособиям Nginx. Итак, на прошлой неделе мы начали с учебника о том, как использовать [Nginx Reverse Proxy Proxy Load Balancer][1] для ваших приложений. Этот простой пример конфигурации NGINX обратного прокси обеспечивает множество достоверных преимуществ NGINX обратного прокси. Nginx Simple Reverse Proxy - это наиболее активно используемый прокси -сервер с открытым исходным кодом в Интернете. В этом уроке мы будем **настроить и исследовать, как использовать Nginx в качестве обратного прокси**  и как его настроить в виде обратного прокси на одном сервере. Итак, начнем!
  * Что такое прокси сервер?
  * Передовый прокси -сервер вперед против обратного
  * Настройка обратного прокси -сервера
  * Каковы преимущества Nginx Reverse Proxy?
  * Заключение

## Что такое прокси сервер?
**Прокси -сервер**  действует как шлюз между вами и Интернетом. Это промежуточный сервер, отделяющий конечных пользователей от веб -сайтов, которые они просматривают. Прокси -серверы обеспечивают различные уровни функциональности, безопасности и конфиденциальности в соответствии с вашим вариантом использования или политикой компании.
С помощью прокси -сервера интернет -трафик протекает через прокси -сервер на пути к запрошенному вами адресу. Затем запрос возвращается через тот же прокси -сервер (в основном), а затем прокси -сервер пересылает данные, полученные с веб -сайта.

## вперед против обратного прокси:

{{< figure align=center src="images/forward-proxy-server-1024x482.png" alt="nginx как обратный прокси -сервер">}}

Как правило, когда мы говорим о прокси, большую часть времени мы подразумеваем форвардную прокси. **Правовые прокси**  отлично подходят для избежания ограничений страны, таких как великий брандмауэр Китая. Клиент просто подключается к заблокированным ресурсам через прямой прокси. Первоначальные прокси могут скрыть личности пользователя, изменив свой IP -адрес. Таким образом, в основном Nginx, как Proxy, находится между клиентом и Интернетом, поэтому конечный сервер не знает о фактическом клиенте.

{{< figure align=center src="images/reverse-proxy-server-1024x482.png" alt="nginx как обратный прокси">}}

**Обратные прокси  **также действуют как посредники, но они сидят на другой стороне соединения. Обратные прокси отлично подходят для **  балансировки нагрузки** , веб -оптимизации и безопасности. Обратный прокси -прокси обычно используется для распространения нагрузки между несколькими серверами, плавно показать контент с разных веб -сайтов или передавать запросы на обработку на серверы приложений по протоколам, отличным от HTTP.

## Настройте Nginx как обратный прокси:
Когда Nginx прокси -запрос отправляет запрос на указанный прокси -сервер, получает ответ и отправляет его обратно клиенту. Можно прокси-запросы на HTTP-сервер или не HTTP-сервер, используя указанный протокол. Поддерживаемые протоколы включают **FASTCGI, UWSGI, SCGI и MEMCACHED** .
Чтобы перенести запрос на прокси -сервер HTTP, директива **proxy_pass  **указана внутри **  местоположения** . Например:
```
location /path/to/location/ {
    proxy_pass http://www.backendserver.com/link/;
}
```
Эта конфигурация примера Nginx Reverse Proxy приводит к передаче всех запросов, обработанных в этом месте, на прокси -сервер на указанном адресе. Этот адрес может быть указан как доменное имя или IP -адрес. Адрес может также включать порт:
```
location ~ \.php {
    proxy_pass http://127.0.0.1:8000;
}
```
Вы даже можете передать модифицированные или пользовательские заголовки на прокси -сервер в Nginx **Proxy \ _Set \ _Header**  Хост ниже в примере.
```
location /path/to/location/ {
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_pass http://localhost:8000;
}
```
Nginx также поддерживает буферизацию, которая помогает улучшить производительность. С помощью буферизации Nginx сохранит ответ, который он получает от прокси -сервера, если клиент нуждается в нем для загрузки.
Вместо того, чтобы обеспечить все запросы на один сервер, вы также можете **настроить несколько серверов бэкэнд**  и позволить загрузке баланса NGINX между этими прокси -серверами. Мы уже рассмотрели это в нашем уроке о балансировке нагрузки NGINX][1].

## Каковы преимущества Nginx Reverse Proxy?
Ниже приведены преимущества настройки Nginx Reverse Proxy Server:
  *Nginx - один из самых популярных **веб -серверов с открытым исходным кодом** , который также является самым популярным прокси -инструментом. Nginx Reverse Proxy Config очень проста в реализации, поскольку он предоставляет пользователю высококлассную безопасность от DDOS и DOS -атак.
  *Это помогает создать сбалансированную нагрузку среди веб -сайтов с высоким трафиком и серверов, таких как **Dropbox, Netflix и Zynga** .
  * Он обеспечивает механизм кэширования для более медленного внутреннего сервера и сайтов с высоким трафиком для настройки виртуального хоста Nginx обратного прокси. Это не требует настройки нового процесса для каждого веб -запроса со стороны клиента.
  * Он также выступает в качестве обратного прокси -сервера для нескольких протоколов, таких как HTTP, HTTPS, TCP, UDP, SMTP, IMAP и POP3 и т. Д.
  *Nginx может **обрабатывать более 10000 подключений**  с низкой площадью памяти и может работать с несколькими веб -серверами на одном IP -адресе.
  * Это также помогает кэшировать содержание страниц и выполнить шифрование SSL, чтобы снизить нагрузку с сервера веб -хоста. Nginx является одним из лучших веб -серверов для повышения производительности статического контента, сжав его и увеличивая время загрузки.
  * Это отличный инструмент для нескольких серверных средств, и он также может быть полезен для различных задач, таких как анонимный сохранение одного сервера.

## Заключение:
В этом **nginx обратно прокси -учебник  **мы исследовали, что такое прокси -сервер Nginx, и настройка Nginx Reverse Proxy. Разница между внешним и обратным прокси -сервером Nginx. Примером мы также узнали, как настроить nginx как обратный прокси. Теперь вы в полной мере понимаете, как установить **  nginx обратная конфигурация прокси шаг** . Приведенное выше учебник помогает вам начать с настройки обратного прокси. В наших будущих учебных пособиях мы обсудим более интересные темы о Nginx.
_ Что является вашим самым любимым сервером _reverse Proxy_, который прост, динамичный и полнофункциональный?. Есть ли у вас какие -либо вопросы о Leading_ _open Source _reverse Prox__y, **балансировщик нагрузки для HTTP и TCP**  на основе приложений_?

## Исследовать
Вы можете найти более связанные ниже статьи
  * [Как настроить Apache как обратный прокси для Ubuntu/Debian][3]
  * [Закрепите nginx с Let's Encrypt на Ubuntu 20.04][4]
  * [Как использовать Nginx в качестве балансировщика нагрузки для вашего приложения][1]
  * [Как установить и защитить PhpMyAdmin с Nginx на Ubuntu][5]
  * [Настройка поддержки HTTP/2 в Nginx на Ubuntu/Debian][6]
  * [Установите несколько версий PHP с Nginx на Ubuntu][7]
  * [Настройка Nginx с пассажиром на производственном сервере AWS][8]

  
[1]: https://blog.containerize.com/web-server-solution-stack/how-to-use-nginx-as-load-balancer-for-your-application/
[2]: mailto:yasir.saeed@aspose.com
[3]: https://blog.containerize.com/web-server-solution-stack/how-to-configure-apache-as-a-reverse-proxy-for-ubuntudebian/
[4]: https://blog.containerize.com/web-server-solution-stack/how-to-secure-nginx-with-letsencrypt-on-ubuntu-20-04/
[5]: https://blog.containerize.com/web-server-solution-stack/how-to-install-and-secure-phpmyadmin-with-nginx-on-ubuntu/
[6]: https://blog.containerize.com/web-server-solution-stack/how-to-configure-http2-support-in-nginx-on-ubuntudebian/
[7]: https://blog.containerize.com/web-server-solution-stack/how-to-install-multiple-php-versions-with-nginx-on-ubuntu/
[8]: https://blog.containerize.com/web-server-solution-stack/how-to-setup-nginx-with-passenger-on-aws-production-server/
