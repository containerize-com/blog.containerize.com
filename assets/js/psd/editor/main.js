"use strict";(self.webpackChunkeditor=self.webpackChunkeditor||[]).push([[179],{26:()=>{function Qn(n){return"function"==typeof n}let Vi=!1;const ft={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else Vi&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Vi=n},get useDeprecatedSynchronousErrorHandling(){return Vi}};function mn(n){setTimeout(()=>{throw n},0)}const es={closed:!0,next(n){},error(n){if(ft.useDeprecatedSynchronousErrorHandling)throw n;mn(n)},complete(){}},r0=Array.isArray||(n=>n&&"number"==typeof n.length);function vu(n){return null!==n&&"object"==typeof n}const ts=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class we{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof we)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(Qn(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){e=o instanceof ts?Du(o.errors):[o]}}if(r0(s)){let o=-1,a=s.length;for(;++o<a;){const l=s[o];if(vu(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof ts?e=e.concat(Du(c.errors)):e.push(c)}}}if(e)throw new ts(e)}add(e){let t=e;if(!e)return we.EMPTY;switch(typeof e){case"function":t=new we(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof we)){const s=t;t=new we,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof we){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var n;function Du(n){return n.reduce((e,t)=>e.concat(t instanceof ts?t.errors:t),[])}we.EMPTY=((n=new we).closed=!0,n);const ns="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class qe extends we{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=es;break;case 1:if(!e){this.destination=es;break}if("object"==typeof e){e instanceof qe?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Mu(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Mu(this,e,t,i)}}[ns](){return this}static create(e,t,i){const r=new qe(e,t,i);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Mu extends qe{constructor(e,t,i,r){super(),this._parentSubscriber=e;let s,o=this;Qn(t)?s=t:t&&(s=t.next,i=t.error,r=t.complete,t!==es&&(o=Object.create(t),Qn(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;ft.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=ft;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):mn(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;mn(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);ft.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),ft.useDeprecatedSynchronousErrorHandling)throw i;mn(i)}}__tryOrSetError(e,t,i){if(!ft.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(r){return ft.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(mn(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const $i="function"==typeof Symbol&&Symbol.observable||"@@observable";function bu(n){return n}let $e=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const{operator:s}=this,o=function o0(n,e,t){if(n){if(n instanceof qe)return n;if(n[ns])return n[ns]()}return n||e||t?new qe(n,e,t):new qe(es)}(t,i,r);if(o.add(s?s.call(o,this.source):this.source||ft.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),ft.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){ft.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=i),function s0(n){for(;n;){const{closed:e,destination:t,isStopped:i}=n;if(e||i)return!1;n=t&&t instanceof qe?t:null}return!0}(t)?t.error(i):console.warn(i)}}forEach(t,i){return new(i=Au(i))((r,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,r)})}_subscribe(t){const{source:i}=this;return i&&i.subscribe(t)}[$i](){return this}pipe(...t){return 0===t.length?this:function Tu(n){return 0===n.length?bu:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=Au(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function Au(n){if(n||(n=ft.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const Gi=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class a0 extends we{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class xu extends qe{constructor(e){super(e),this.destination=e}}let Oo=(()=>{class n extends $e{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ns](){return new xu(this)}lift(t){const i=new Eu(this,this);return i.operator=t,i}next(t){if(this.closed)throw new Gi;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(t)}}error(t){if(this.closed)throw new Gi;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new Gi;this.isStopped=!0;const{observers:t}=this,i=t.length,r=t.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Gi;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Gi;return this.hasError?(t.error(this.thrownError),we.EMPTY):this.isStopped?(t.complete(),we.EMPTY):(this.observers.push(t),new a0(this,t))}asObservable(){const t=new $e;return t.source=this,t}}return n.create=(e,t)=>new Eu(e,t),n})();class Eu extends Oo{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):we.EMPTY}}function Su(n){return n&&"function"==typeof n.schedule}function Yi(n,e){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new l0(n,e))}}class l0{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new c0(e,this.project,this.thisArg))}}class c0 extends qe{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const Nu=n=>e=>{for(let t=0,i=n.length;t<i&&!e.closed;t++)e.next(n[t]);e.complete()},is=function d0(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),Lu=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Pu(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const ku=n=>{if(n&&"function"==typeof n[$i])return(n=>e=>{const t=n[$i]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(Lu(n))return Nu(n);if(Pu(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,mn),e))(n);if(n&&"function"==typeof n[is])return(n=>e=>{const t=n[is]();for(;;){let i;try{i=t.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${vu(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Fo(n,e){return new $e(t=>{const i=new we;let r=0;return i.add(e.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||i.add(this.schedule())):t.complete()})),i})}class w0 extends qe{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class v0 extends qe{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Ro(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(Ro((r,s)=>function _0(n,e){return e?function I0(n,e){if(null!=n){if(function y0(n){return n&&"function"==typeof n[$i]}(n))return function f0(n,e){return new $e(t=>{const i=new we;return i.add(e.schedule(()=>{const r=n[$i]();i.add(r.subscribe({next(s){i.add(e.schedule(()=>t.next(s)))},error(s){i.add(e.schedule(()=>t.error(s)))},complete(){i.add(e.schedule(()=>t.complete()))}}))})),i})}(n,e);if(Pu(n))return function g0(n,e){return new $e(t=>{const i=new we;return i.add(e.schedule(()=>n.then(r=>{i.add(e.schedule(()=>{t.next(r),i.add(e.schedule(()=>t.complete()))}))},r=>{i.add(e.schedule(()=>t.error(r)))}))),i})}(n,e);if(Lu(n))return Fo(n,e);if(function C0(n){return n&&"function"==typeof n[is]}(n)||"string"==typeof n)return function m0(n,e){if(!n)throw new Error("Iterable cannot be null");return new $e(t=>{const i=new we;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=n[is](),i.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=r.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),i})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof $e?n:new $e(ku(n))}(n(r,s)).pipe(Yi((o,a)=>e(r,o,s,a))),t)):("number"==typeof e&&(t=e),i=>i.lift(new M0(n,t)))}class M0{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new b0(e,this.project,this.concurrent))}}class b0 extends v0{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new w0(this),i=this.destination;i.add(t);const r=function D0(n,e){if(e.closed)return;if(n instanceof $e)return n.subscribe(e);let t;try{t=ku(n)(e)}catch(i){e.error(i)}return t}(e,t);r!==t&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Ou(n,e){return e?Fo(n,e):new $e(Nu(n))}function Fu(){return function(e){return e.lift(new x0(e))}}class x0{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const r=new E0(e,i),s=t.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class E0 extends qe{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,r=e._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class S0 extends $e{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new we,e.add(this.source.subscribe(new L0(this.getSubject(),this))),e.closed&&(this._connection=null,e=we.EMPTY)),e}refCount(){return Fu()(this)}}const N0=(()=>{const n=S0.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class L0 extends xu{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}class O0{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:i}=this,r=this.subjectFactory(),s=i(r).subscribe(e);return s.add(t.subscribe(r)),s}}function F0(){return new Oo}function ue(n){for(let e in n)if(n[e]===ue)return e;throw Error("Could not find renamed property on target object.")}function de(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(de).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function jo(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const z0=ue({__forward_ref__:ue});function Uo(n){return n.__forward_ref__=Uo,n.toString=function(){return de(this())},n}function U(n){return function Bo(n){return"function"==typeof n&&n.hasOwnProperty(z0)&&n.__forward_ref__===Uo}(n)?n():n}class B extends Error{constructor(e,t){super(function rs(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function $(n){return"string"==typeof n?n:null==n?"":String(n)}function ss(n,e){throw new B(-201,!1)}function ot(n,e){null==n&&function se(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Y(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ho(n){return Ru(n,os)||Ru(n,ju)}function Ru(n,e){return n.hasOwnProperty(e)?n[e]:null}function zu(n){return n&&(n.hasOwnProperty(Vo)||n.hasOwnProperty(Y0))?n[Vo]:null}const os=ue({\u0275prov:ue}),Vo=ue({\u0275inj:ue}),ju=ue({ngInjectableDef:ue}),Y0=ue({ngInjectorDef:ue});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let $o;function gt(n){const e=$o;return $o=n,e}function Uu(n,e,t){const i=Ho(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&H.Optional?null:void 0!==e?e:void ss(de(n))}function yn(n){return{toString:n}.toString()}var At=(()=>((At=At||{})[At.OnPush=0]="OnPush",At[At.Default=1]="Default",At))(),Ut=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(Ut||(Ut={})),Ut))();const ce=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xn={},re=[],as=ue({\u0275cmp:ue}),Go=ue({\u0275dir:ue}),Yo=ue({\u0275pipe:ue}),Bu=ue({\u0275mod:ue}),en=ue({\u0275fac:ue}),Wi=ue({__NG_ELEMENT_ID__:ue});let Z0=0;function q(n){return yn(()=>{const t=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===At.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||re,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ut.Emulated,id:"c"+Z0++,styles:n.styles||re,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return r.inputs=$u(n.inputs,i),r.outputs=$u(n.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(Hu).filter(Vu):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Ye).filter(Vu):null,r})}function Hu(n){return ae(n)||Ge(n)}function Vu(n){return null!==n}const X0={};function at(n){return yn(()=>{const e={type:n.type,bootstrap:n.bootstrap||re,declarations:n.declarations||re,imports:n.imports||re,exports:n.exports||re,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(X0[n.id]=n.type),e})}function $u(n,e){if(null==n)return Xn;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const mt=q;function ae(n){return n[as]||null}function Ge(n){return n[Go]||null}function Ye(n){return n[Yo]||null}const Q=11;function tt(n){return Array.isArray(n)&&"object"==typeof n[1]}function Et(n){return Array.isArray(n)&&!0===n[1]}function Qo(n){return 0!=(8&n.flags)}function ds(n){return 2==(2&n.flags)}function hs(n){return 1==(1&n.flags)}function St(n){return null!==n.template}function tC(n){return 0!=(256&n[2])}function On(n,e){return n.hasOwnProperty(en)?n[en]:null}class rC{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Fn(){return Wu}function Wu(n){return n.type.prototype.ngOnChanges&&(n.setInput=oC),sC}function sC(){const n=Qu(this),e=n?.current;if(e){const t=n.previous;if(t===Xn)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function oC(n,e,t,i){const r=Qu(n)||function aC(n,e){return n[Zu]=e}(n,{previous:Xn,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[t],l=o[a];s[a]=new rC(l&&l.currentValue,e,o===Xn),n[i]=e}Fn.ngInherit=!0;const Zu="__ngSimpleChanges__";function Qu(n){return n[Zu]||null}function Me(n){for(;Array.isArray(n);)n=n[0];return n}function ps(n,e){return Me(e[n])}function It(n,e){return Me(e[n.index])}function ea(n,e){return n.data[e]}function ut(n,e){const t=e[n];return tt(t)?t:t[0]}function Xu(n){return 4==(4&n[2])}function ta(n){return 64==(64&n[2])}function Cn(n,e){return null==e?null:n[e]}function Ju(n){n[18]=0}function na(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const V={lFrame:od(null),bindingsEnabled:!0};function Ku(){return V.bindingsEnabled}function w(){return V.lFrame.lView}function ne(){return V.lFrame.tView}function F(n){return V.lFrame.contextLView=n,n[8]}function R(n){return V.lFrame.contextLView=null,n}function Ee(){let n=ed();for(;null!==n&&64===n.type;)n=n.parent;return n}function ed(){return V.lFrame.currentTNode}function Bt(n,e){const t=V.lFrame;t.currentTNode=n,t.isParent=e}function ia(){return V.lFrame.isParent}function ra(){V.lFrame.isParent=!1}function ni(){return V.lFrame.bindingIndex++}function nn(n){const e=V.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function wC(n,e){const t=V.lFrame;t.bindingIndex=t.bindingRootIndex=n,sa(e)}function sa(n){V.lFrame.currentDirectiveIndex=n}function id(){return V.lFrame.currentQueryIndex}function aa(n){V.lFrame.currentQueryIndex=n}function DC(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function rd(n,e,t){if(t&H.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&H.Host||(r=DC(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,n=s}const i=V.lFrame=sd();return i.currentTNode=e,i.lView=n,!0}function la(n){const e=sd(),t=n[1];V.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sd(){const n=V.lFrame,e=null===n?null:n.child;return null===e?od(n):e}function od(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ad(){const n=V.lFrame;return V.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ld=ad;function ca(){const n=ad();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ze(){return V.lFrame.selectedIndex}function In(n){V.lFrame.selectedIndex=n}function Ie(){const n=V.lFrame;return ea(n.tView,n.selectedIndex)}function gs(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function ms(n,e,t){ud(n,e,3,t)}function ys(n,e,t,i){(3&n[2])===t&&ud(n,e,t,i)}function ua(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function ud(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(NC(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function NC(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class qi{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Cs(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];hd(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function dd(n){return 3===n||4===n||6===n}function hd(n){return 64===n.charCodeAt(0)}function Is(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||pd(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function pd(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function fd(n){return-1!==n}function ii(n){return 32767&n}function ri(n,e){let t=function FC(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let ha=!0;function _s(n){const e=ha;return ha=n,e}let RC=0;const Ht={};function er(n,e){const t=fa(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,pa(i.data,n),pa(e,null),pa(i.blueprint,null));const r=ws(n,e),s=n.injectorIndex;if(fd(r)){const o=ii(r),a=ri(r,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function pa(n,e){n.push(0,0,0,0,0,0,0,0,e)}function fa(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ws(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=Dd(r),null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function vs(n,e,t){!function zC(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Wi)&&(i=t[Wi]),null==i&&(i=t[Wi]=RC++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function yd(n,e,t){if(t&H.Optional)return n;ss()}function Cd(n,e,t,i){if(t&H.Optional&&void 0===i&&(i=null),0==(t&(H.Self|H.Host))){const r=n[9],s=gt(void 0);try{return r?r.get(e,i,t&H.Optional):Uu(e,i,t&H.Optional)}finally{gt(s)}}return yd(i,0,t)}function Id(n,e,t,i=H.Default,r){if(null!==n){if(1024&e[2]){const o=function $C(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=_d(s,o,t,i|H.Self,Ht);if(a!==Ht)return a;let l=s.parent;if(!l){const c=o[21];if(c){const u=c.get(t,Ht,i);if(u!==Ht)return u}l=Dd(o),o=o[15]}s=l}return r}(n,e,t,i,Ht);if(o!==Ht)return o}const s=_d(n,e,t,i,Ht);if(s!==Ht)return s}return Cd(e,t,i,r)}function _d(n,e,t,i,r){const s=function BC(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Wi)?n[Wi]:void 0;return"number"==typeof e?e>=0?255&e:HC:e}(t);if("function"==typeof s){if(!rd(e,n,i))return i&H.Host?yd(r,0,i):Cd(e,t,i,r);try{const o=s(i);if(null!=o||i&H.Optional)return o;ss()}finally{ld()}}else if("number"==typeof s){let o=null,a=fa(n,e),l=-1,c=i&H.Host?e[16][6]:null;for((-1===a||i&H.SkipSelf)&&(l=-1===a?ws(n,e):e[a+8],-1!==l&&vd(i,!1)?(o=e[1],a=ii(l),e=ri(l,e)):a=-1);-1!==a;){const u=e[1];if(wd(s,a,u.data)){const d=UC(a,e,t,o,i,c);if(d!==Ht)return d}l=e[a+8],-1!==l&&vd(i,e[1].data[a+8]===c)&&wd(s,a,e)?(o=u,a=ii(l),e=ri(l,e)):a=-1}}return r}function UC(n,e,t,i,r,s){const o=e[1],a=o.data[n+8],u=Ds(a,o,t,null==i?ds(a)&&ha:i!=o&&0!=(3&a.type),r&H.Host&&s===a);return null!==u?tr(e,o,u,a):Ht}function Ds(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let p=i?a:a+u;p<h;p++){const g=o[p];if(p<l&&t===g||p>=l&&g.type===t)return p}if(r){const p=o[l];if(p&&St(p)&&p.type===t)return l}return null}function tr(n,e,t,i){let r=n[t];const s=e.data;if(function LC(n){return n instanceof qi}(r)){const o=r;o.resolving&&function j0(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new B(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ie(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():$(n)}(s[t]));const a=_s(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?gt(o.injectImpl):null;rd(n,i,H.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function SC(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=Wu(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&gt(l),_s(a),o.resolving=!1,ld()}}return r}function wd(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function vd(n,e){return!(n&H.Self||n&H.Host&&e)}class si{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Id(this._tNode,this._lView,e,i,t)}}function HC(){return new si(Ee(),w())}function Dd(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const ai="__parameters__";function ci(n,e,t){return yn(()=>{const i=function ya(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(ai)?l[ai]:Object.defineProperty(l,ai,{value:[]})[ai];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class J{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Y({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function dt(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),dt(i,e)):e!==n&&e.push(i)}return e}function rn(n,e){n.forEach(t=>Array.isArray(t)?rn(t,e):e(t))}function bd(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ms(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function rr(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function ht(n,e,t){let i=ui(n,e);return i>=0?n[1|i]=t:(i=~i,function ZC(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Ia(n,e){const t=ui(n,e);if(t>=0)return n[1|t]}function ui(n,e){return function xd(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const sr={},wa="__NG_DI_FLAG__",Ts="ngTempTokenPath",nI=/\n/gm,Ed="__source";let or;function di(n){const e=or;return or=n,e}function rI(n,e=H.Default){if(void 0===or)throw new B(-203,!1);return null===or?Uu(n,void 0,e):or.get(n,e&H.Optional?null:void 0,e)}function N(n,e=H.Default){return(function W0(){return $o}()||rI)(U(n),e)}function va(n){const e=[];for(let t=0;t<n.length;t++){const i=U(n[t]);if(Array.isArray(i)){if(0===i.length)throw new B(900,!1);let r,s=H.Default;for(let o=0;o<i.length;o++){const a=i[o],l=oI(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(N(r,s))}else e.push(N(i))}return e}function ar(n,e){return n[wa]=e,n.prototype[wa]=e,n}function oI(n){return n[wa]}const As=ar(ci("Optional"),8),xs=ar(ci("SkipSelf"),4);let Ma;function wn(n){return n instanceof class Hd{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}const qd=new J("ENVIRONMENT_INITIALIZER"),Kd=new J("INJECTOR",-1),eh=new J("INJECTOR_DEF_TYPES");class th{get(e,t=sr){if(t===sr){const i=new Error(`NullInjectorError: No provider for ${de(e)}!`);throw i.name="NullInjectorError",i}return t}}function GI(...n){return{\u0275providers:nh(0,n)}}function nh(n,...e){const t=[],i=new Set;let r;return rn(e,s=>{const o=s;Na(o,t,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&ih(r,t),t}function ih(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];rn(r,s=>{e.push(s)})}}function Na(n,e,t,i){if(!(n=U(n)))return!1;let r=null,s=zu(n);const o=!s&&ae(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=zu(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Na(c,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{rn(s.imports,u=>{Na(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&ih(c,e)}if(!a){const c=On(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:re},{provide:eh,useValue:r,multi:!0},{provide:qd,useValue:()=>N(r),multi:!0})}const l=s.providers;null==l||a||rn(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}const YI=ue({provide:String,useValue:ue});function La(n){return null!==n&&"object"==typeof n&&YI in n}function Rn(n){return"function"==typeof n}const Pa=new J("Set Injector scope."),Os={},ZI={};let ka;function Fs(){return void 0===ka&&(ka=new th),ka}class fi{}class oh extends fi{constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fa(e,o=>this.processProvider(o)),this.records.set(Kd,gi(void 0,this)),r.has("environment")&&this.records.set(fi,gi(void 0,this));const s=this.records.get(Pa);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(eh.multi,re,H.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=di(this),i=gt(void 0);try{return e()}finally{di(t),gt(i)}}get(e,t=sr,i=H.Default){this.assertNotDestroyed();const r=di(this),s=gt(void 0);try{if(!(i&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function KI(n){return"function"==typeof n||"object"==typeof n&&n instanceof J}(e)&&Ho(e);a=l&&this.injectableDefInScope(l)?gi(Oa(e),Os):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&H.Self?Fs():this.parent).get(e,t=i&H.Optional&&t===sr?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ts]=o[Ts]||[]).unshift(de(e)),r)throw o;return function aI(n,e,t,i){const r=n[Ts];throw e[Ed]&&r.unshift(e[Ed]),n.message=function lI(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=de(e);if(Array.isArray(e))r=e.map(de).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):de(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(nI,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Ts]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{gt(s),di(r)}}resolveInjectorInitializers(){const e=di(this),t=gt(void 0);try{const i=this.get(qd.multi,re,H.Self);for(const r of i)r()}finally{di(e),gt(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(de(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){let t=Rn(e=U(e))?e:U(e&&e.provide);const i=function XI(n){return La(n)?gi(void 0,n.useValue):gi(function ah(n,e,t){let i;if(Rn(n)){const r=U(n);return On(r)||Oa(r)}if(La(n))i=()=>U(n.useValue);else if(function sh(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...va(n.deps||[]));else if(function rh(n){return!(!n||!n.useExisting)}(n))i=()=>N(U(n.useExisting));else{const r=U(n&&(n.useClass||n.provide));if(!function JI(n){return!!n.deps}(n))return On(r)||Oa(r);i=()=>new r(...va(n.deps))}return i}(n),Os)}(e);if(Rn(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=gi(void 0,Os,!0),r.factory=()=>va(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Os&&(t.value=ZI,t.value=t.factory()),"object"==typeof t.value&&t.value&&function qI(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=U(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Oa(n){const e=Ho(n),t=null!==e?e.factory:On(n);if(null!==t)return t;if(n instanceof J)throw new B(204,!1);if(n instanceof Function)return function QI(n){const e=n.length;if(e>0)throw rr(e,"?"),new B(204,!1);const t=function $0(n){const e=n&&(n[os]||n[ju]);if(e){const t=function G0(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new B(204,!1)}function gi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function e_(n){return!!n.\u0275providers}function Fa(n,e){for(const t of n)Array.isArray(t)?Fa(t,e):e_(t)?Fa(t.\u0275providers,e):e(t)}class lh{}class i_{resolveComponentFactory(e){throw function n_(n){const e=Error(`No component factory found for ${de(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Rs=(()=>{class n{}return n.NULL=new i_,n})();function r_(){return mi(Ee(),w())}function mi(n,e){return new $t(It(n,e))}let $t=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=r_,n})();function s_(n){return n instanceof $t?n.nativeElement:n}class uh{}let pr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function o_(){const n=w(),t=ut(Ee().index,n);return(tt(t)?t:n)[Q]}(),n})(),a_=(()=>{class n{}return n.\u0275prov=Y({token:n,providedIn:"root",factory:()=>null}),n})();class Ra{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const l_=new Ra("14.1.0"),za={};function Va(n){return n.ngOriginalError}class yi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Va(e);for(;t&&Va(t);)t=Va(t);return t||null}}const $a=new Map;let w_=0;const Ya="__ngContext__";function Be(n,e){tt(e)?(n[Ya]=e[20],function D_(n){$a.set(n[20],n)}(e)):n[Ya]=e}function fr(n){const e=n[Ya];return"number"==typeof e?function gh(n){return $a.get(n)||null}(e):e||null}function Wa(n){const e=fr(n);return e?tt(e)?e:e.lView:null}const L_=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(ce))();function gr(n){return n.ownerDocument.defaultView}function zs(n){return n.ownerDocument}var nt=(()=>((nt=nt||{})[nt.Important=1]="Important",nt[nt.DashCase=2]="DashCase",nt))();function Qa(n,e){return undefined(n,e)}function mr(n){const e=n[3];return Et(e)?e[3]:e}function Xa(n){return Dh(n[13])}function Ja(n){return Dh(n[4])}function Dh(n){for(;null!==n&&!Et(n);)n=n[4];return n}function Ii(n,e,t,i,r){if(null!=i){let s,o=!1;Et(i)?s=i:tt(i)&&(o=!0,i=i[0]);const a=Me(i);0===n&&null!==t?null==r?Eh(e,t,a):zn(e,t,a,r||null,!0):1===n&&null!==t?zn(e,t,a,r||null,!0):2===n?function Fh(n,e,t){const i=js(n,e);i&&function Z_(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function J_(n,e,t,i,r){const s=t[7];s!==Me(t)&&Ii(e,n,i,s,r);for(let a=10;a<t.length;a++){const l=t[a];yr(l[1],l,n,e,i,s)}}(e,n,s,t,r)}}function Ka(n,e,t){return n.createElement(e,t)}function bh(n,e){const t=n[9],i=t.indexOf(e),r=e[3];512&e[2]&&(e[2]&=-513,na(r,-1)),t.splice(i,1)}function el(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&bh(r,i),e>0&&(n[t-1][4]=i[4]);const s=Ms(n,10+e);!function U_(n,e){yr(n,e,e[Q],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function Th(n,e){if(!(128&e[2])){const t=e[Q];t.destroyNode&&yr(n,e,t,3,null,null),function V_(n){let e=n[13];if(!e)return tl(n[1],n);for(;e;){let t=null;if(tt(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)tt(e)&&tl(e[1],e),e=e[3];null===e&&(e=n),tt(e)&&tl(e[1],e),t=e&&e[4]}e=t}}(e)}}function tl(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function W_(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof qi)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,e),function Y_(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Me(e[o]),l=i[r=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();e[7]=null}}(n,e),1===e[1].type&&e[Q].destroy();const t=e[17];if(null!==t&&Et(e[3])){t!==e[3]&&bh(t,e);const i=e[19];null!==i&&i.detachView(n)}!function M_(n){$a.delete(n[20])}(e)}}function Ah(n,e,t){return function xh(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Ut.None||r===Ut.Emulated)return null}return It(i,t)}(n,e.parent,t)}function zn(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Eh(n,e,t){n.appendChild(e,t)}function Sh(n,e,t,i,r){null!==i?zn(n,e,t,i,r):Eh(n,e,t)}function js(n,e){return n.parentNode(e)}function Nh(n,e,t){return Ph(n,e,t)}let Ph=function Lh(n,e,t){return 40&n.type?It(n,t):null};function Us(n,e,t,i){const r=Ah(n,i,e),s=e[Q],a=Nh(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)Sh(s,r,t[l],a,!1);else Sh(s,r,t,a,!1)}function Bs(n,e){if(null!==e){const t=e.type;if(3&t)return It(e,n);if(4&t)return il(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Bs(n,i);{const r=n[e.index];return Et(r)?il(-1,r):Me(r)}}if(32&t)return Qa(e,n)()||Me(n[e.index]);{const i=Oh(n,e);return null!==i?Array.isArray(i)?i[0]:Bs(mr(n[16]),i):Bs(n,e.next)}}return null}function Oh(n,e){return null!==e?n[16][6].projection[e.projection]:null}function il(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return Bs(i,r)}return e[7]}function rl(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&Be(Me(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)rl(n,e,t.child,i,r,s,!1),Ii(e,n,r,a,s);else if(32&l){const c=Qa(t,i);let u;for(;u=c();)Ii(e,n,r,u,s);Ii(e,n,r,a,s)}else 16&l?Rh(n,e,i,t,r,s):Ii(e,n,r,a,s);t=o?t.projectionNext:t.next}}function yr(n,e,t,i,r,s){rl(t,i,n.firstChild,e,r,s,!1)}function Rh(n,e,t,i,r,s){const o=t[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ii(e,n,r,l[c],s);else rl(n,e,l,o[3],r,s,!0)}function zh(n,e,t){n.setAttribute(e,"style",t)}function sl(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function jh(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const Uh="ng-template";function K_(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==jh(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Bh(n){return 4===n.type&&n.value!==Uh}function ew(n,e,t){return e===(4!==n.type||t?n.value:Uh)}function tw(n,e,t){let i=4;const r=n.attrs||[],s=function rw(n){for(let e=0;e<n.length;e++)if(dd(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!ew(n,l,t)||""===l&&1===e.length){if(Nt(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!K_(n.attrs,c,t)){if(Nt(i))return!1;o=!0}continue}const d=nw(8&i?"class":l,r,Bh(n),t);if(-1===d){if(Nt(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const p=8&i?h:null;if(p&&-1!==jh(p,c,0)||2&i&&c!==h){if(Nt(i))return!1;o=!0}}}}else{if(!o&&!Nt(i)&&!Nt(l))return!1;if(o&&Nt(l))continue;o=!1,i=l|1&i}}return Nt(i)||o}function Nt(n){return 0==(1&n)}function nw(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function sw(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Hh(n,e,t=!1){for(let i=0;i<e.length;i++)if(tw(n,e[i],t))return!0;return!1}function ow(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Vh(n,e){return n?":not("+e.trim()+")":e}function aw(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Nt(o)&&(e+=Vh(s,r),r=""),i=o,s=s||!Nt(i);t++}return""!==r&&(e+=Vh(s,r)),e}const G={};function C(n){$h(ne(),w(),Ze()+n,!1)}function $h(n,e,t,i){if(!i)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&ms(e,s,t)}else{const s=n.preOrderHooks;null!==s&&ys(e,s,0,t)}In(t)}function Zh(n,e=null,t=null,i){const r=Qh(n,e,t,i);return r.resolveInjectorInitializers(),r}function Qh(n,e=null,t=null,i,r=new Set){const s=[t||re,GI(n)];return i=i||("object"==typeof n?void 0:de(n)),new oh(s,e||Fs(),i||null,r)}let vn=(()=>{class n{static create(t,i){if(Array.isArray(t))return Zh({name:""},i,t,"");{const r=t.name??"";return Zh({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=sr,n.NULL=new th,n.\u0275prov=Y({token:n,providedIn:"any",factory:()=>N(Kd)}),n.__NG_ELEMENT_ID__=-1,n})();function b(n,e=H.Default){const t=w();return null===t?N(n,e):Id(Ee(),t,U(n),e)}function Vs(n,e){return n<<17|e<<2}function Lt(n){return n>>17&32767}function ul(n){return 2|n}function on(n){return(131068&n)>>2}function dl(n,e){return-131069&n|e<<2}function hl(n){return 1|n}function hp(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],s=t[i+1];if(-1!==s){const o=n.data[s];aa(r),o.contentQueries(2,e[s],s)}}}function Ys(n,e,t,i,r,s,o,a,l,c,u){const d=e.blueprint.slice();return d[0]=r,d[2]=76|i,(null!==u||n&&1024&n[2])&&(d[2]|=1024),Ju(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[Q]=a||n&&n[Q],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function v_(){return w_++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function wi(n,e,t,i,r){let s=n.data[e];if(null===s)s=function wl(n,e,t,i,r){const s=ed(),o=ia(),l=n.data[e]=function Gw(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,i,r),function _C(){return V.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function Ji(){const n=V.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Bt(s,!0),s}function vi(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ws(n,e,t){la(e);try{const i=n.viewQuery;null!==i&&Sl(1,i,t);const r=n.template;null!==r&&pp(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&hp(n,e),n.staticViewQueries&&Sl(2,n.viewQuery,t);const s=n.components;null!==s&&function Bw(n,e){for(let t=0;t<e.length;t++)a1(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,ca()}}function Cr(n,e,t,i){const r=e[2];if(128!=(128&r)){la(e);try{Ju(e),function td(n){return V.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&pp(n,e,t,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&ms(e,c,null)}else{const c=n.preOrderHooks;null!==c&&ys(e,c,0,null),ua(e,0)}if(function s1(n){for(let e=Xa(n);null!==e;e=Ja(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],s=r[3];0==(512&r[2])&&na(s,1),r[2]|=512}}}(e),function r1(n){for(let e=Xa(n);null!==e;e=Ja(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];ta(i)&&Cr(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&hp(n,e),o){const c=n.contentCheckHooks;null!==c&&ms(e,c)}else{const c=n.contentHooks;null!==c&&ys(e,c,1),ua(e,1)}!function jw(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)In(~r);else{const s=r,o=t[++i],a=t[++i];wC(o,s),a(2,e[s])}}}finally{In(-1)}}(n,e);const a=n.components;null!==a&&function Uw(n,e){for(let t=0;t<e.length;t++)o1(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Sl(2,l,i),o){const c=n.viewCheckHooks;null!==c&&ms(e,c)}else{const c=n.viewHooks;null!==c&&ys(e,c,2),ua(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,na(e[3],-1))}finally{ca()}}}function Hw(n,e,t,i){const r=e[10],o=Xu(e);try{!o&&r.begin&&r.begin(),o&&Ws(n,e,i),Cr(n,e,t,i)}finally{!o&&r.end&&r.end()}}function pp(n,e,t,i,r){const s=Ze(),o=2&i;try{In(-1),o&&e.length>22&&$h(n,e,22,!1),t(i,r)}finally{In(s)}}function vl(n,e,t){!Ku()||(function Xw(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||er(t,e),Be(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=St(l);c&&t1(e,t,l);const u=tr(e,n,a,t);Be(u,e),null!==o&&n1(0,a-r,u,l,0,o),c&&(ut(t.index,e)[8]=u)}}(n,e,t,It(t,e)),128==(128&t.flags)&&function Jw(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function vC(){return V.lFrame.currentDirectiveIndex}();try{In(s);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];sa(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&wp(l,c)}}finally{In(-1),sa(o)}}(n,e,t))}function Dl(n,e,t=It){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function gp(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Ml(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Ml(n,e,t,i,r,s,o,a,l,c){const u=22+i,d=u+r,h=function Vw(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:G);return t}(u,d),p="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function mp(n,e,t,i){const r=xp(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&Ep(n).push(i,r.length-1))}function yp(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function Cp(n,e){const i=e.directiveEnd,r=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===s||Bh(e)?null:i1(d,s);o.push(h),a=yp(d,c,a),l=yp(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}function pt(n,e,t,i,r,s,o,a){const l=It(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(Nl(n,t,u,i,r),ds(e)&&Ip(t,e.index)):3&e.type&&(i=function Yw(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(l,i,r))}function Ip(n,e){const t=ut(e,n);16&t[2]||(t[2]|=32)}function bl(n,e,t,i){let r=!1;if(Ku()){const s=function qw(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Hh(t,o.selectors,!1)&&(r||(r=[]),vs(er(t,e),n,o.type),St(o)?(vp(n,t),r.unshift(o)):r.push(o))}return r}(n,e,t),o=null===i?null:{"":-1};if(null!==s){r=!0,Dp(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=vi(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=Is(t.mergedAttrs,d.hostAttrs),Mp(n,t,e,c,d),e1(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}Cp(n,t)}o&&function Kw(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new B(-301,!1);i.push(e[r],s)}}}(t,i,o)}return t.mergedAttrs=Is(t.mergedAttrs,t.attrs),r}function _p(n,e,t,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function Qw(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function wp(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function vp(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function e1(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;St(e)&&(t[""]=n)}}function Dp(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Mp(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=On(r.type)),o=new qi(s,St(r),b);n.blueprint[i]=o,t[i]=o,_p(n,e,0,i,vi(n,t,r.hostVars,G),r)}function t1(n,e,t){const i=It(e,n),r=gp(t),s=n[10],o=Zs(n,Ys(n,r,null,t.onPush?32:16,i,e,s,s.createRenderer(i,t),null,null,null));n[e.index]=o}function Gt(n,e,t,i,r,s){const o=It(n,e);!function Tl(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const a=null==o?$(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}(e[Q],o,s,n.value,t,i,r)}function n1(n,e,t,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function i1(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function bp(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function o1(n,e){const t=ut(e,n);if(ta(t)){const i=t[1];48&t[2]?Cr(i,t,i.template,t[8]):t[5]>0&&Al(t)}}function Al(n){for(let i=Xa(n);null!==i;i=Ja(i))for(let r=10;r<i.length;r++){const s=i[r];if(512&s[2]){const o=s[1];Cr(o,s,o.template,s[8])}else s[5]>0&&Al(s)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=ut(t[i],n);ta(r)&&r[5]>0&&Al(r)}}function a1(n,e){const t=ut(e,n),i=t[1];(function l1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Ws(i,t,t[8])}function Zs(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function xl(n){for(;n;){n[2]|=32;const e=mr(n);if(tC(n)&&!e)return n;n=e}return null}function Ap(n){!function Tp(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=Wa(t);if(null!==i){const r=i[1];Hw(r,i,r.template,t)}}}(n[8])}function Sl(n,e,t){aa(0),e(n,t)}const u1=(()=>Promise.resolve(null))();function xp(n){return n[7]||(n[7]=[])}function Ep(n){return n.cleanup||(n.cleanup=[])}function Np(n,e){const t=n[9],i=t?t.get(yi,null):null;i&&i.handleError(e)}function Nl(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Qs(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=jo(r,a):2==s&&(i=jo(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Xs(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Me(s)),Et(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&Xs(l[1],l,c,i)}const o=t.type;if(8&o)Xs(n,e,t.child,i);else if(32&o){const a=Qa(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=Oh(e,t);if(Array.isArray(a))i.push(...a);else{const l=mr(e[16]);Xs(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class Ir{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Xs(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Et(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(el(e,i),Ms(t,i))}this._attachedToViewContainer=!1}Th(this._lView[1],this._lView)}onDestroy(e){mp(this._lView[1],this._lView,null,e)}markForCheck(){xl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function El(n,e,t){const i=e[10];i.begin&&i.begin();try{Cr(n,e,n.template,t)}catch(r){throw Np(e,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function H_(n,e){yr(n,e,e[Q],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e}}class d1 extends Ir{constructor(e){super(e),this._view=e}detectChanges(){Ap(this._view)}checkNoChanges(){}get context(){return null}}class Ll extends Rs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ae(e);return new _r(t,this.ngModule)}}function Lp(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class p1{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){const r=this.injector.get(e,za,i);return r!==za||t===za?r:this.parentInjector.get(e,t,i)}}class _r extends lh{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function lw(n){return n.map(aw).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Lp(this.componentDef.inputs)}get outputs(){return Lp(this.componentDef.outputs)}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof fi?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new p1(e,s):e,a=o.get(uh,null);if(null===a)throw new B(407,!1);const l=o.get(a_,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function $w(n,e,t){return n.selectRootElement(e,t===Ut.ShadowDom)}(c,i,this.componentDef.encapsulation):Ka(a.createRenderer(null,this.componentDef),u,function h1(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,p=function C1(n,e){return{components:[],scheduler:n||L_,clean:u1,playerHandler:e||null,flags:0}}(),g=Ml(0,null,null,1,0,null,null,null,null,null),I=Ys(null,g,p,h,null,null,a,c,l,o,null);let v,M;la(I);try{const L=function m1(n,e,t,i,r,s){const o=t[1];t[22]=n;const l=wi(o,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Qs(l,c,!0),null!==n&&(Cs(r,n,c),null!==l.classes&&sl(r,n,l.classes),null!==l.styles&&zh(r,n,l.styles)));const u=i.createRenderer(n,e),d=Ys(t,gp(e),null,e.onPush?32:16,t[22],l,i,u,s||null,null,null);return o.firstCreatePass&&(vs(er(l,t),o,e.type),vp(o,l),Dp(l,t.length,1)),Zs(t,d),t[22]=d}(d,this.componentDef,I,a,c);if(d)if(i)Cs(c,d,["ng-version",l_.full]);else{const{attrs:_,classes:P}=function cw(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Nt(r))break;r=s}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);_&&Cs(c,d,_),P&&P.length>0&&sl(c,d,P.join(" "))}if(M=ea(g,22),void 0!==t){const _=M.projection=[];for(let P=0;P<this.ngContentSelectors.length;P++){const X=t[P];_.push(null!=X?Array.from(X):null)}}v=function y1(n,e,t,i,r){const s=t[1],o=function Zw(n,e,t){const i=Ee();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Mp(n,i,e,vi(n,e,1,null),t),Cp(n,i));const r=tr(e,n,i.directiveStart,i);Be(r,e);const s=It(i,e);return s&&Be(s,e),r}(s,t,e);if(i.components.push(o),n[8]=o,null!==r)for(const l of r)l(o,e);if(e.contentQueries){const l=Ee();e.contentQueries(1,o,l.directiveStart)}const a=Ee();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(In(a.index),_p(t[1],a,0,a.directiveStart,a.directiveEnd,e),wp(e,o)),o}(L,this.componentDef,I,p,[I1]),Ws(g,I,null)}finally{ca()}return new g1(this.componentType,v,mi(M,I),I,M)}}class g1 extends class t_{}{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new d1(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const s=this._rootLView;Nl(s[1],s,r,e,t),Ip(s,this._tNode.index)}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function I1(){const n=Ee();gs(w()[1],n)}let Js=null;function jn(){if(!Js){const n=ce.Symbol;if(n&&n.iterator)Js=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Js=i)}}}return Js}function wr(n){return!!kl(n)&&(Array.isArray(n)||!(n instanceof Map)&&jn()in n)}function kl(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function He(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ks(n,e,t,i){const r=w();return He(r,ni(),e)&&(ne(),Gt(Ie(),r,n,e,t,i)),Ks}function Mi(n,e,t,i){return He(n,ni(),t)?e+$(t)+i:G}function S(n,e,t,i,r,s,o,a){const l=w(),c=ne(),u=n+22,d=c.firstCreatePass?function L1(n,e,t,i,r,s,o,a,l){const c=e.consts,u=wi(e,n,4,o||null,Cn(c,a));bl(e,t,u,Cn(c,l)),gs(e,u);const d=u.tViews=Ml(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];Bt(d,!1);const h=l[Q].createComment("");Us(c,l,h,d),Be(h,l),Zs(l,l[u]=bp(h,l,h,d)),hs(d)&&vl(c,l,d),null!=o&&Dl(l,d,a)}function Dr(n){return function ti(n,e){return n[e]}(function IC(){return V.lFrame.contextLView}(),22+n)}function y(n,e,t){const i=w();return He(i,ni(),e)&&pt(ne(),Ie(),i,n,e,i[Q],t,!1),y}function Ol(n,e,t,i,r){const o=r?"class":"style";Nl(n,t,e.inputs[o],o,i)}function f(n,e,t,i){const r=w(),s=ne(),o=22+n,a=r[Q],l=r[o]=Ka(a,e,function EC(){return V.lFrame.currentNamespace}()),c=s.firstCreatePass?function k1(n,e,t,i,r,s,o){const a=e.consts,c=wi(e,n,2,r,Cn(a,s));return bl(e,t,c,Cn(a,o)),null!==c.attrs&&Qs(c,c.attrs,!1),null!==c.mergedAttrs&&Qs(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,t,i):s.data[o];Bt(c,!0);const u=c.mergedAttrs;null!==u&&Cs(a,l,u);const d=c.classes;null!==d&&sl(a,l,d);const h=c.styles;return null!==h&&zh(a,l,h),64!=(64&c.flags)&&Us(s,r,l,c),0===function fC(){return V.lFrame.elementDepthCount}()&&Be(l,r),function gC(){V.lFrame.elementDepthCount++}(),hs(c)&&(vl(s,r,c),function fp(n,e,t){if(Qo(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,r)),null!==i&&Dl(r,c),f}function m(){let n=Ee();ia()?ra():(n=n.parent,Bt(n,!1));const e=n;!function mC(){V.lFrame.elementDepthCount--}();const t=ne();return t.firstCreatePass&&(gs(t,n),Qo(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function kC(n){return 0!=(16&n.flags)}(e)&&Ol(t,e,w(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function OC(n){return 0!=(32&n.flags)}(e)&&Ol(t,e,w(),e.stylesWithoutHost,!1),m}function O(n,e,t,i){return f(n,e,t,i),m(),O}function oe(){return w()}function zl(n){return!!n&&"function"==typeof n.then}const F1=function Gp(n){return!!n&&"function"==typeof n.subscribe};function T(n,e,t,i){const r=w(),s=ne(),o=Ee();return function Wp(n,e,t,i,r,s,o,a){const l=hs(i),u=n.firstCreatePass&&Ep(n),d=e[8],h=xp(e);let p=!0;if(3&i.type||a){const v=It(i,e),M=a?a(v):v,L=h.length,_=a?X=>a(Me(X[i.index])):i.index;let P=null;if(!a&&l&&(P=function R1(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,p=!1;else{s=Qp(i,e,d,s,!1);const X=t.listen(M,r,s);h.push(s,X),u&&u.push(r,_,L,L+1)}}else s=Qp(i,e,d,s,!1);const g=i.outputs;let I;if(p&&null!==g&&(I=g[r])){const v=I.length;if(v)for(let M=0;M<v;M+=2){const fe=e[I[M]][I[M+1]].subscribe(s),Zn=h.length;h.push(s,fe),u&&u.push(r,i.index,Zn,-(Zn+1))}}}(s,r,r[Q],o,n,e,0,i),T}function Zp(n,e,t,i){try{return!1!==t(i)}catch(r){return Np(n,r),!1}}function Qp(n,e,t,i,r){return function s(o){if(o===Function)return i;xl(2&n.flags?ut(n.index,e):e);let l=Zp(e,0,i,o),c=s.__ngNextListenerFn__;for(;c;)l=Zp(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function D(n=1){return function MC(n){return(V.lFrame.contextLView=function bC(n,e){for(;n>0;)e=e[15],n--;return e}(n,V.lFrame.contextLView))[8]}(n)}function z1(n,e){let t=null;const i=function iw(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?Hh(n,s,!0):ow(i,s))return r}else t=r}return t}function Bn(n){const e=w()[16][6];if(!e.projection){const i=e.projection=rr(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?z1(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Hn(n,e=0,t){const i=w(),r=ne(),s=wi(r,22+n,16,null,t||null);null===s.projection&&(s.projection=e),ra(),64!=(64&s.flags)&&function X_(n,e,t){Rh(e[Q],0,e,t,Ah(n,t,e),Nh(t.parent||e[6],t,e))}(r,i,s)}function jl(n,e,t){return Ul(n,"",e,"",t),jl}function Ul(n,e,t,i,r){const s=w(),o=Mi(s,e,t,i);return o!==G&&pt(ne(),Ie(),s,n,o,s[Q],r,!1),Ul}function sf(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?Lt(s):on(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];B1(n[a],e)&&(l=!0,n[a+1]=i?hl(u):ul(u)),a=i?Lt(u):on(u)}l&&(n[t+1]=i?ul(s):hl(s))}function B1(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ui(n,e)>=0}const Ne={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function of(n){return n.substring(Ne.key,Ne.keyEnd)}function af(n,e){const t=Ne.textEnd;return t===e?-1:(e=Ne.keyEnd=function G1(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ne.key=e,t),Li(n,e,t))}function Li(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ze(n,e,t){return Pt(n,e,t,!1),ze}function Pi(n,e){return Pt(n,e,null,!0),Pi}function Zt(n,e){for(let t=function V1(n){return function cf(n){Ne.key=0,Ne.keyEnd=0,Ne.value=0,Ne.valueEnd=0,Ne.textEnd=n.length}(n),af(n,Li(n,0,Ne.textEnd))}(e);t>=0;t=af(e,t))ht(n,of(e),!0)}function Pt(n,e,t,i){const r=w(),s=ne(),o=nn(2);s.firstUpdatePass&&pf(s,n,o,i),e!==G&&He(r,o,e)&&gf(s,s.data[Ze()],r,r[Q],n,r[o+1]=function nv(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=de(wn(n)))),n}(e,t),i,o)}function hf(n,e){return e>=n.expandoStartIndex}function pf(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[Ze()],o=hf(n,t);yf(s,i)&&null===e&&!o&&(e=!1),e=function X1(n,e,t,i){const r=function oa(n){const e=V.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Mr(t=Bl(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=Bl(r,n,e,t,i),null===s){let l=function J1(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==on(i))return n[Lt(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=Bl(null,n,e,l[1],i),l=Mr(l,e.attrs,i),function q1(n,e,t,i){n[Lt(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function K1(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Mr(i,n[s].hostAttrs,t);return Mr(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function j1(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Lt(o),l=on(o);n[i]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||ui(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const h=Lt(n[a+1]);n[i+1]=Vs(h,a),0!==h&&(n[h+1]=dl(n[h+1],i)),n[a+1]=function Ew(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Vs(a,0),0!==a&&(n[a+1]=dl(n[a+1],i)),a=i;else n[i+1]=Vs(l,0),0===a?a=i:n[l+1]=dl(n[l+1],i),l=i;c&&(n[i+1]=ul(n[i+1])),sf(n,u,i,!0),sf(n,u,i,!1),function U1(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ui(s,e)>=0&&(t[i+1]=hl(t[i+1]))}(e,u,n,i,s),o=Vs(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}function Bl(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=Mr(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Mr(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ht(n,o,!!t||e[++s]))}return void 0===n?null:n}function gf(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];eo(function rp(n){return 1==(1&n)}(c)?mf(l,e,t,r,on(c),o):void 0)||(eo(s)||function ip(n){return 2==(2&n)}(c)&&(s=mf(l,null,t,r,a,o)),function q_(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:nt.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=nt.Important),n.setStyle(t,i,r,s))}}(i,o,ps(Ze(),t),r,s))}function mf(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===G&&(h=d?re:void 0);let p=d?Ia(h,i):u===i?h:void 0;if(c&&!eo(p)&&(p=Ia(l,i)),eo(p)&&(a=p,o))return a;const g=n[r+1];r=o?Lt(g):on(g)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Ia(l,i))}return a}function eo(n){return void 0!==n}function yf(n,e){return 0!=(n.flags&(e?16:32))}function E(n,e=""){const t=w(),i=ne(),r=n+22,s=i.firstCreatePass?wi(i,r,1,e,null):i.data[r],o=t[r]=function qa(n,e){return n.createText(e)}(t[Q],e);Us(i,t,o,s),Bt(s,!1)}function Ot(n){return bn("",n,""),Ot}function bn(n,e,t){const i=w(),r=Mi(i,n,e,t);return r!==G&&function an(n,e,t){const i=ps(e,n);!function Mh(n,e,t){n.setValue(e,t)}(n[Q],i,t)}(i,Ze(),r),bn}function Tf(n,e,t){!function kt(n,e,t,i){const r=ne(),s=nn(2);r.firstUpdatePass&&pf(r,null,s,i);const o=w();if(t!==G&&He(o,s,t)){const a=r.data[Ze()];if(yf(a,i)&&!hf(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=jo(l,t||"")),Ol(r,a,o,t,i)}else!function tv(n,e,t,i,r,s,o,a){r===G&&(r=re);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,p=c<s.length?s[c+1]:void 0;let I,g=null;u===d?(l+=2,c+=2,h!==p&&(g=d,I=p)):null===d||null!==u&&u<d?(l+=2,g=u):(c+=2,g=d,I=p),null!==g&&gf(n,e,t,i,g,I,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[Q],o[s+1],o[s+1]=function ev(n,e,t){if(null==t||""===t)return re;const i=[],r=wn(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,s)}}(ht,Zt,Mi(w(),n,e,t),!0)}const Oi="en-US";let Uf=Oi;class Ri{}class hg extends Ri{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ll(this);const i=function lt(n,e){const t=n[Bu]||null;if(!t&&!0===e)throw new Error(`Type ${de(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function sn(n){return n instanceof Function?n():n}(i.bootstrap),this._r3Injector=Qh(e,t,[{provide:Ri,useValue:this},{provide:Rs,useValue:this.componentFactoryResolver}],de(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Zl extends class wD{}{constructor(e){super(),this.moduleType=e}create(e){return new hg(this.moduleType,e)}}function _g(n,e,t,i){return function wg(n,e,t,i,r,s){const o=e+t;return He(n,o,r)?function Yt(n,e,t){return n[e]=t}(n,o+1,s?i.call(s,r):i(r)):function Er(n,e){const t=n[e];return t===G?void 0:t}(n,o+1)}(w(),function We(){const n=V.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,i)}function Xl(n){return e=>{setTimeout(n,void 0,e)}}const ve=class XD extends Oo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Xl(s),r&&(r=Xl(r)),o&&(o=Xl(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof we&&e.add(a),a}};function JD(){return this._results[jn()]()}class Jl{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=jn(),i=Jl.prototype;i[t]||(i[t]=JD)}get changes(){return this._changes||(this._changes=new ve)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=dt(e);(this._changesDetected=!function YC(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ln=(()=>{class n{}return n.__NG_ELEMENT_ID__=eM,n})();const qD=ln,KD=class extends qD{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tViews,r=Ys(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(i)),Ws(i,r,e),new Ir(r)}};function eM(){return so(Ee(),w())}function so(n,e){return 4&n.type?new KD(e,n,mi(n,e)):null}let Qt=(()=>{class n{}return n.__NG_ELEMENT_ID__=tM,n})();function tM(){return xg(Ee(),w())}const nM=Qt,Tg=class extends nM{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return mi(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){const e=ws(this._hostTNode,this._hostLView);if(fd(e)){const t=ri(e,this._hostLView),i=ii(e);return new si(t[1].data[i+8],t)}return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Ag(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,r),o}createComponent(e,t,i,r,s){const o=e&&!function ir(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new _r(ae(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(fi,null);h&&(s=h)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[1];if(function pC(n){return Et(n[3])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[3],h=new Tg(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function $_(n,e,t,i){const r=10+i,s=t.length;i>0&&(t[r-1][4]=e),i<s-10?(e[4]=t[r],bd(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function G_(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(r,i,o,s);const a=il(s,o),l=i[Q],c=js(l,o[7]);return null!==c&&function B_(n,e,t,i,r,s){i[0]=r,i[6]=e,yr(n,i,t,1,r,s)}(r,o[6],l,i,c,a),e.attachToViewContainerRef(),bd(ql(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Ag(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=el(this._lContainer,t);i&&(Ms(ql(this._lContainer),t),Th(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=el(this._lContainer,t);return i&&null!=Ms(ql(this._lContainer),t)?new Ir(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Ag(n){return n[8]}function ql(n){return n[8]||(n[8]=[])}function xg(n,e){let t;const i=e[n.index];if(Et(i))t=i;else{let r;if(8&n.type)r=Me(i);else{const s=e[Q];r=s.createComment("");const o=It(n,e);zn(s,js(s,o),r,function Q_(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=bp(i,e,r,n),Zs(e,t)}return new Tg(t,n,e)}class Kl{constructor(e){this.queryList=e,this.matches=null}clone(){return new Kl(this.queryList)}setDirty(){this.queryList.setDirty()}}class ec{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new ec(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Fg(e,t).matches&&this.queries[t].setDirty()}}class Eg{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class tc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new tc(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class nc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new nc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,sM(t,s)),this.matchTNodeWithReadOption(e,t,Ds(t,e,s,!1,!1))}else i===ln?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ds(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===$t||r===Qt||r===ln&&4&t.type)this.addMatch(t.index,-2);else{const s=Ds(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function sM(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function aM(n,e,t,i){return-1===t?function oM(n,e){return 11&n.type?mi(n,e):4&n.type?so(n,e):null}(e,n):-2===t?function lM(n,e,t){return t===$t?mi(e,n):t===ln?so(e,n):t===Qt?xg(e,n):void 0}(n,e,i):tr(n,n[1],t,e)}function Sg(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:aM(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function ic(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=Sg(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&ic(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const p=d[h];ic(p[1],p,c,i)}}}}}return i}function Ng(n){const e=w(),t=ne(),i=id();aa(i+1);const r=Fg(t,i);if(n.dirty&&Xu(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?ic(t,e,i,[]):Sg(t,e,r,i);n.reset(s,s_),n.notifyOnChanges()}return!0}return!1}function Lg(n,e,t){const i=ne();i.firstCreatePass&&(function Og(n,e,t){null===n.queries&&(n.queries=new tc),n.queries.track(new nc(e,t))}(i,new Eg(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function kg(n,e,t){const i=new Jl(4==(4&t));mp(n,e,i,i.destroy),null===e[19]&&(e[19]=new ec),e[19].queries.push(new Kl(i))}(i,w(),e)}function Fg(n,e){return n.queries.getByIndex(e)}function Rg(n,e){return so(n,e)}function ao(...n){}const nm=new J("Application Initializer");let lo=(()=>{class n{constructor(t){this.appInits=t,this.resolve=ao,this.reject=ao,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(zl(s))t.push(s);else if(F1(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(N(nm,8))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pr=new J("AppId",{providedIn:"root",factory:function im(){return`${lc()}${lc()}${lc()}`}});function lc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rm=new J("Platform Initializer"),cc=new J("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),NM=new J("appBootstrapListener"),cn=new J("LocaleId",{providedIn:"root",factory:()=>function sI(n,e=H.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),N(n,e)}(cn,H.Optional|H.SkipSelf)||function LM(){return typeof $localize<"u"&&$localize.locale||Oi}()}),RM=(()=>Promise.resolve(0))();function uc(n){typeof Zone>"u"?RM.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Le{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ve(!1),this.onMicrotaskEmpty=new ve(!1),this.onStable=new ve(!1),this.onError=new ve(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function zM(){let n=ce.requestAnimationFrame,e=ce.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function BM(n){const e=()=>{!function UM(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ce,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,hc(n),n.isCheckStableRunning=!0,dc(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),hc(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return am(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),lm(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return am(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),lm(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,hc(n),dc(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Le.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(Le.isInAngularZone())throw new B(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,jM,ao,ao);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const jM={};function dc(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hc(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function am(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lm(n){n._nesting--,dc(n)}class HM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ve,this.onMicrotaskEmpty=new ve,this.onStable=new ve,this.onError=new ve}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const cm=new J(""),co=new J("");let gc,pc=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gc||(function VM(n){gc=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Le.assertNotInAngularZone(),uc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(N(Le),N(fc),N(co))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})(),fc=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return gc?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Tn=null;const um=new J("AllowMultipleToken"),mc=new J("PlatformDestroyListeners");function hm(n,e,t=[]){const i=`Platform: ${e}`,r=new J(i);return(s=[])=>{let o=yc();if(!o||o.injector.get(um,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function YM(n){if(Tn&&!Tn.get(um,!1))throw new B(400,!1);Tn=n;const e=n.get(fm);(function dm(n){const e=n.get(rm,null);e&&e.forEach(t=>t())})(n)}(function pm(n=[],e){return vn.create({name:e,providers:[{provide:Pa,useValue:"platform"},{provide:mc,useValue:new Set([()=>Tn=null])},...n]})}(a,i))}return function ZM(n){const e=yc();if(!e)throw new B(401,!1);return e}()}}function yc(){return Tn?.get(fm)??null}let fm=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function QM(n,e){let t;return t="noop"===n?new HM:("zone.js"===n?void 0:n)||new Le(e),t}(i?.ngZone,function gm(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:Le,useValue:r}];return r.run(()=>{const o=vn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(yi,null);if(!l)throw new B(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{uo(this._modules,a),c.unsubscribe()})}),function mm(n,e,t){try{const i=t();return zl(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(lo);return c.runInitializers(),c.donePromise.then(()=>(function Bf(n){ot(n,"Expected localeId to be defined"),"string"==typeof n&&(Uf=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(cn,Oi)||Oi),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const r=ym({},i);return function $M(n,e,t){const i=new Zl(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Cc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new B(403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new B(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(mc,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(N(vn))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function ym(n,e){return Array.isArray(e)?e.reduce(ym,n):{...n,...e}}let Cc=(()=>{class n{constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new $e(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new $e(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),uc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function A0(...n){let e=Number.POSITIVE_INFINITY,t=null,i=n[n.length-1];return Su(i)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof i&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof $e?n[0]:function T0(n=Number.POSITIVE_INFINITY){return Ro(bu,n)}(e)(Ou(n,t))}(s,o.pipe(function R0(){return n=>Fu()(function k0(n,e){return function(i){let r;if(r="function"==typeof n?n:function(){return n},"function"==typeof e)return i.lift(new O0(r,e));const s=Object.create(i,N0);return s.source=i,s.subjectFactory=r,s}}(F0)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof lh;if(!this._injector.get(lo).done)throw!r&&function Lr(n){const e=ae(n)||Ge(n)||Ye(n);return null!==e&&e.standalone}(t),new B(405,false);let o;o=r?t:this._injector.get(Rs).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function GM(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ri),c=o.create(vn.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(cm,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),uo(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new B(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;uo(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(NM,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>uo(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(N(Le),N(fi),N(yi))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uo(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Im=!0,Ic=(()=>{class n{}return n.__NG_ELEMENT_ID__=qM,n})();function qM(n){return function KM(n,e,t){if(ds(n)&&!t){const i=ut(n.index,e);return new Ir(i,i)}return 47&n.type?new Ir(e[16],e):null}(Ee(),w(),16==(16&n))}class Mm{constructor(){}supports(e){return wr(e)}create(e){return new sb(e)}}const rb=(n,e)=>e;class sb{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rb}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<Tm(i,r,s)?t:i,a=Tm(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const p=h<s.length?s[h]:s[h]=0,g=p+h;u<=g&&g<c&&(s[h]=p+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!wr(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function x1(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[jn()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new ob(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new bm),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ob{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ab{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class bm{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new ab,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tm(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class Am{constructor(){}supports(e){return e instanceof Map||kl(e)}create(){return new lb}}class lb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||kl(e)))throw new B(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new cb(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class cb{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xm(){return new fo([new Mm])}let fo=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||xm()),deps:[[n,new xs,new As]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new B(901,!1)}}return n.\u0275prov=Y({token:n,providedIn:"root",factory:xm}),n})();function Em(){return new kr([new Am])}let kr=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Em()),deps:[[n,new xs,new As]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new B(901,!1)}}return n.\u0275prov=Y({token:n,providedIn:"root",factory:Em}),n})();const hb=hm(null,"core",[]);let pb=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(N(Cc))},n.\u0275mod=at({type:n}),n.\u0275inj=Ke({}),n})(),go=null;function Or(){return go}const Rt=new J("DocumentToken");function jm(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let Um=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(wr(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${de(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(b(fo),b(kr),b($t),b(pr))},n.\u0275dir=mt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class rT{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dt=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new rT(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),Vm(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Vm(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(Qt),b(ln),b(fo))},n.\u0275dir=mt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Vm(n,e){n.context.$implicit=e.item}let Re=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new oT,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$m("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$m("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(Qt),b(ln))},n.\u0275dir=mt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class oT{constructor(){this.$implicit=null,this.ngIf=null}}function $m(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${de(e)}'.`)}let Ym=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:nt.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(b($t),b(kr),b(pr))},n.\u0275dir=mt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),An=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=at({type:n}),n.\u0275inj=Ke({}),n})();class Xm{}class Rc extends class FT extends class mb{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function gb(n){go||(go=n)}(new Rc)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function RT(){return zr=zr||document.querySelector("base"),zr?zr.getAttribute("href"):null}();return null==t?null:function zT(n){bo=bo||document.createElement("a"),bo.setAttribute("href",n);const e=bo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jm(document.cookie,e)}}let bo,zr=null;const Jm=new J("TRANSITION_ID"),UT=[{provide:nm,useFactory:function jT(n,e,t){return()=>{t.get(lo).donePromise.then(()=>{const i=Or(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Jm,Rt,vn],multi:!0}];let HT=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();const To=new J("EventManagerPlugins");let Ao=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(N(To),N(Le))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();class qm{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Or().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Km=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})(),jr=(()=>{class n extends Km{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(ey),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ey))}}return n.\u0275fac=function(t){return new(t||n)(N(Rt))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();function ey(n){Or().remove(n)}const zc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jc=/%COMP%/g;function xo(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?xo(n,r,t):(r=r.replace(jc,n),t.push(r))}return t}function iy(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Uc=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Bc(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case Ut.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ZT(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case Ut.ShadowDom:return new QT(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=xo(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(N(Ao),N(jr),N(Pr))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();class Bc{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(zc[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(sy(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(sy(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=zc[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=zc[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(nt.DashCase|nt.Important)?e.style.setProperty(t,i,r&nt.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&nt.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,iy(i)):this.eventManager.addEventListener(e,t,iy(i))}}function sy(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ZT extends Bc{constructor(e,t,i,r){super(e),this.component=i;const s=xo(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function GT(n){return"_ngcontent-%COMP%".replace(jc,n)}(r+"-"+i.id),this.hostAttr=function YT(n){return"_nghost-%COMP%".replace(jc,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class QT extends Bc{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=xo(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let XT=(()=>{class n extends qm{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(N(Rt))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();const oy=["alt","control","meta","shift"],qT={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ay={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},KT={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let e2=(()=>{class n extends qm{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Or().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(oy.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let i="",r=function t2(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ay.hasOwnProperty(e)&&(e=ay[e]))}return qT[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),oy.forEach(s=>{s!=r&&(0,KT[s])(t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(N(Rt))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();const ly=[{provide:cc,useValue:"browser"},{provide:rm,useValue:function n2(){Rc.makeCurrent()},multi:!0},{provide:Rt,useFactory:function r2(){return function CI(n){Ma=n}(document),document},deps:[]}],s2=hm(hb,"browser",ly),cy=new J(""),uy=[{provide:co,useClass:class BT{addToWindow(e){ce.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},ce.getAllAngularTestabilities=()=>e.getAllTestabilities(),ce.getAllAngularRootElements=()=>e.getAllRootElements(),ce.frameworkStabilizers||(ce.frameworkStabilizers=[]),ce.frameworkStabilizers.push(i=>{const r=ce.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Or().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:cm,useClass:pc,deps:[Le,fc,co]},{provide:pc,useClass:pc,deps:[Le,fc,co]}],dy=[{provide:Pa,useValue:"root"},{provide:yi,useFactory:function i2(){return new yi},deps:[]},{provide:To,useClass:XT,multi:!0,deps:[Rt,Le,cc]},{provide:To,useClass:e2,multi:!0,deps:[Rt]},{provide:Uc,useClass:Uc,deps:[Ao,jr,Pr]},{provide:uh,useExisting:Uc},{provide:Km,useExisting:jr},{provide:jr,useClass:jr,deps:[Rt]},{provide:Ao,useClass:Ao,deps:[To,Le]},{provide:Xm,useClass:HT,deps:[]},[]];let o2=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Pr,useValue:t.appId},{provide:Jm,useExisting:Pr},UT]}}}return n.\u0275fac=function(t){return new(t||n)(N(cy,12))},n.\u0275mod=at({type:n}),n.\u0275inj=Ke({providers:[...dy,...uy],imports:[An,pb]}),n})();typeof window<"u"&&window;class _2{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new w2(e,this.predicate,this.thisArg))}}class w2 extends qe{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}class fy{}class gy{}class Xt{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Xt;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xt?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class v2{encodeKey(e){return my(e)}encodeValue(e){return my(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const M2=/%(\d[a-f0-9])/gi,b2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function my(n){return encodeURIComponent(n).replace(M2,(e,t)=>b2[t]??e)}function Eo(n){return`${n}`}class En{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new v2,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function D2(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Eo):[Eo(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new En({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Eo(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Eo(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class T2{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function yy(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Cy(n){return typeof Blob<"u"&&n instanceof Blob}function Iy(n){return typeof FormData<"u"&&n instanceof FormData}class Ur{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function A2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Xt),this.context||(this.context=new T2),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new En,this.urlWithParams=t}serializeBody(){return null===this.body?null:yy(this.body)||Cy(this.body)||Iy(this.body)||function x2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof En?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Iy(this.body)?null:Cy(this.body)?this.body.type||null:yy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof En?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Ur(t,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var xe=(()=>((xe=xe||{})[xe.Sent=0]="Sent",xe[xe.UploadProgress=1]="UploadProgress",xe[xe.ResponseHeader=2]="ResponseHeader",xe[xe.DownloadProgress=3]="DownloadProgress",xe[xe.Response=4]="Response",xe[xe.User=5]="User",xe))();class $c{constructor(e,t=200,i="OK"){this.headers=e.headers||new Xt,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Gc extends $c{constructor(e={}){super(e),this.type=xe.ResponseHeader}clone(e={}){return new Gc({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class So extends $c{constructor(e={}){super(e),this.type=xe.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new So({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _y extends $c{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Yc(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wy=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Ur)s=t;else{let l,c;l=r.headers instanceof Xt?r.headers:new Xt(r.headers),r.params&&(c=r.params instanceof En?r.params:new En({fromObject:r.params})),s=new Ur(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=function y2(...n){let e=n[n.length-1];return Su(e)?(n.pop(),Fo(n,e)):Ou(n)}(s).pipe(function C2(n,e){return Ro(n,e,1)}(l=>this.handler.handle(l)));if(t instanceof Ur||"events"===r.observe)return o;const a=o.pipe(function I2(n,e){return function(i){return i.lift(new _2(n,e))}}(l=>l instanceof So));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Yi(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Yi(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Yi(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Yi(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new En).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Yc(r,i))}post(t,i,r={}){return this.request("POST",t,Yc(r,i))}put(t,i,r={}){return this.request("PUT",t,Yc(r,i))}}return n.\u0275fac=function(t){return new(t||n)(N(fy))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();class vy{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Dy=new J("HTTP_INTERCEPTORS");let E2=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();const S2=/^\)\]\}',?\n/;let My=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $e(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((p,g)=>r.setRequestHeader(p,g.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const p=t.detectContentTypeHeader();null!==p&&r.setRequestHeader("Content-Type",p)}if(t.responseType){const p=t.responseType.toLowerCase();r.responseType="json"!==p?p:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const p=r.statusText||"OK",g=new Xt(r.getAllResponseHeaders()),I=function N2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return o=new Gc({headers:g,status:r.status,statusText:p,url:I}),o},l=()=>{let{headers:p,status:g,statusText:I,url:v}=a(),M=null;204!==g&&(M=typeof r.response>"u"?r.responseText:r.response),0===g&&(g=M?200:0);let L=g>=200&&g<300;if("json"===t.responseType&&"string"==typeof M){const _=M;M=M.replace(S2,"");try{M=""!==M?JSON.parse(M):null}catch(P){M=_,L&&(L=!1,M={error:P,text:M})}}L?(i.next(new So({body:M,headers:p,status:g,statusText:I,url:v||void 0})),i.complete()):i.error(new _y({error:M,headers:p,status:g,statusText:I,url:v||void 0}))},c=p=>{const{url:g}=a(),I=new _y({error:p,status:r.status||0,statusText:r.statusText||"Unknown Error",url:g||void 0});i.error(I)};let u=!1;const d=p=>{u||(i.next(a()),u=!0);let g={type:xe.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),"text"===t.responseType&&!!r.responseText&&(g.partialText=r.responseText),i.next(g)},h=p=>{let g={type:xe.UploadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),i.next(g)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),t.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",h)),r.send(s),i.next({type:xe.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),t.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(N(Xm))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();const Wc=new J("XSRF_COOKIE_NAME"),Zc=new J("XSRF_HEADER_NAME");class by{}let L2=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=jm(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(N(Rt),N(cc),N(Wc))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})(),Qc=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(N(by),N(Zc))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})(),P2=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(Dy,[]);this.chain=i.reduceRight((r,s)=>new vy(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(N(gy),N(vn))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})(),k2=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Qc,useClass:E2}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Wc,useValue:t.cookieName}:[],t.headerName?{provide:Zc,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=at({type:n}),n.\u0275inj=Ke({providers:[Qc,{provide:Dy,useExisting:Qc,multi:!0},{provide:by,useClass:L2},{provide:Wc,useValue:"XSRF-TOKEN"},{provide:Zc,useValue:"X-XSRF-TOKEN"}]}),n})(),Ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=at({type:n}),n.\u0275inj=Ke({providers:[wy,{provide:fy,useClass:P2},My,{provide:gy,useExisting:My}],imports:[k2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();function O2(n,e){if(1&n&&O(0,"div",3),2&n){const t=e.index;y("ngStyle",D().gridRenderer.getGridColumnStyle(t))}}function F2(n,e){if(1&n&&O(0,"div",4),2&n){const t=e.index;y("ngStyle",D().gridRenderer.getGridRowStyle(t))}}const Ay=["*"];function R2(n,e){if(1&n){const t=oe();f(0,"div",8),T("mousedown",function(r){return F(t),R(D().resize.dragStartDelay(r))})("touchstart",function(r){return F(t),R(D().resize.dragStartDelay(r))}),m()}}function z2(n,e){if(1&n){const t=oe();f(0,"div",9),T("mousedown",function(r){return F(t),R(D().resize.dragStartDelay(r))})("touchstart",function(r){return F(t),R(D().resize.dragStartDelay(r))}),m()}}function j2(n,e){if(1&n){const t=oe();f(0,"div",10),T("mousedown",function(r){return F(t),R(D().resize.dragStartDelay(r))})("touchstart",function(r){return F(t),R(D().resize.dragStartDelay(r))}),m()}}function U2(n,e){if(1&n){const t=oe();f(0,"div",11),T("mousedown",function(r){return F(t),R(D().resize.dragStartDelay(r))})("touchstart",function(r){return F(t),R(D().resize.dragStartDelay(r))}),m()}}function B2(n,e){if(1&n){const t=oe();f(0,"div",12),T("mousedown",function(r){return F(t),R(D().resize.dragStartDelay(r))})("touchstart",function(r){return F(t),R(D().resize.dragStartDelay(r))}),m()}}function H2(n,e){if(1&n){const t=oe();f(0,"div",13),T("mousedown",function(r){return F(t),R(D().resize.dragStartDelay(r))})("touchstart",function(r){return F(t),R(D().resize.dragStartDelay(r))}),m()}}function V2(n,e){if(1&n){const t=oe();f(0,"div",14),T("mousedown",function(r){return F(t),R(D().resize.dragStartDelay(r))})("touchstart",function(r){return F(t),R(D().resize.dragStartDelay(r))}),m()}}function $2(n,e){if(1&n){const t=oe();f(0,"div",15),T("mousedown",function(r){return F(t),R(D().resize.dragStartDelay(r))})("touchstart",function(r){return F(t),R(D().resize.dragStartDelay(r))}),m()}}var ee=(()=>(function(n){n.Fit="fit",n.ScrollVertical="scrollVertical",n.ScrollHorizontal="scrollHorizontal",n.Fixed="fixed",n.VerticalFixed="verticalFixed",n.HorizontalFixed="horizontalFixed"}(ee||(ee={})),ee))(),Br=(()=>(function(n){n.Always="always",n.OnDragAndResize="onDrag&Resize",n.None="none"}(Br||(Br={})),Br))(),le=(()=>(function(n){n.None="none",n.CompactUp="compactUp",n.CompactLeft="compactLeft",n.CompactUpAndLeft="compactUp&Left",n.CompactLeftAndUp="compactLeft&Up",n.CompactRight="compactRight",n.CompactUpAndRight="compactUp&Right",n.CompactRightAndUp="compactRight&Up",n.CompactDown="compactDown",n.CompactDownAndLeft="compactDown&Left",n.CompactLeftAndDown="compactLeft&Down",n.CompactDownAndRight="compactDown&Right",n.CompactRightAndDown="compactRight&Down"}(le||(le={})),le))(),ke=(()=>(function(n){n.LTR="ltr",n.RTL="rtl"}(ke||(ke={})),ke))();class G2{constructor(e){this.gridster=e}destroy(){delete this.gridster}checkCompact(){this.gridster.$options.compactType!==le.None&&(this.gridster.$options.compactType===le.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===le.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===le.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===le.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===le.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===le.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===le.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===le.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===le.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===le.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===le.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===le.CompactRightAndDown&&(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)))}checkCompactItem(e){this.gridster.$options.compactType!==le.None&&(this.gridster.$options.compactType===le.CompactUp?this.moveTillCollision(e,"y",-1):this.gridster.$options.compactType===le.CompactLeft?this.moveTillCollision(e,"x",-1):this.gridster.$options.compactType===le.CompactUpAndLeft?(this.moveTillCollision(e,"y",-1),this.moveTillCollision(e,"x",-1)):this.gridster.$options.compactType===le.CompactLeftAndUp?(this.moveTillCollision(e,"x",-1),this.moveTillCollision(e,"y",-1)):this.gridster.$options.compactType===le.CompactUpAndRight?(this.moveTillCollision(e,"y",-1),this.moveTillCollision(e,"x",1)):this.gridster.$options.compactType===le.CompactDown?this.moveTillCollision(e,"y",1):this.gridster.$options.compactType===le.CompactDownAndLeft?(this.moveTillCollision(e,"y",1),this.moveTillCollision(e,"x",-1)):this.gridster.$options.compactType===le.CompactLeftAndDown?(this.moveTillCollision(e,"x",-1),this.moveTillCollision(e,"y",1)):this.gridster.$options.compactType===le.CompactDownAndRight?(this.moveTillCollision(e,"y",1),this.moveTillCollision(e,"x",1)):this.gridster.$options.compactType===le.CompactRightAndDown&&(this.moveTillCollision(e,"x",1),this.moveTillCollision(e,"y",1)))}checkCompactMovement(e,t){let i=!1;this.gridster.grid.forEach(r=>{!1!==r.$item.compactEnabled&&this.moveTillCollision(r.$item,e,t)&&(i=!0,r.item[e]=r.$item[e],r.itemChanged())}),i&&this.checkCompact()}moveTillCollision(e,t,i){return e[t]+=i,this.gridster.checkCollision(e)?(e[t]-=i,!1):(this.moveTillCollision(e,t,i),!0)}}const Y2={gridType:ee.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:le.None,mobileBreakpoint:640,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:Br.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,disableAutoPositionOnConflict:!1,dirType:ke.LTR};class ye{static merge(e,t,i){for(const r in t)void 0!==t[r]&&i.hasOwnProperty(r)&&(e[r]="object"==typeof t[r]?ye.merge(e[r],t[r],i[r]):t[r]);return e}static debounce(e,t){let i;return function(){const r=this,s=arguments,o=()=>{i=void 0,e.apply(r,s)};clearTimeout(i),i=setTimeout(o,t)}}static checkTouchEvent(e){void 0===e.clientX&&e.touches&&(e.touches&&e.touches.length?(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY):e.changedTouches&&e.changedTouches.length&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY))}static checkContentClassForEvent(e,t){if(e.$options.draggable.ignoreContent){if(!ye.checkDragHandleClass(t.target,t.currentTarget,e.$options.draggable.dragHandleClass,e.$options.draggable.ignoreContentClass))return!0}else if(ye.checkContentClass(t.target,t.currentTarget,e.$options.draggable.ignoreContentClass))return!0;return!1}static checkContentClassForEmptyCellClickEvent(e,t){return ye.checkContentClass(t.target,t.currentTarget,e.$options.draggable.ignoreContentClass)||ye.checkContentClass(t.target,t.currentTarget,e.$options.draggable.dragHandleClass)}static checkDragHandleClass(e,t,i,r){if(!e||e===t)return!1;if(e.hasAttribute("class")){const s=e.getAttribute("class").split(" ");if(s.indexOf(i)>-1)return!0;if(s.indexOf(r)>-1)return!1}return ye.checkDragHandleClass(e.parentNode,t,i,r)}static checkContentClass(e,t,i){return!(!e||e===t)&&(!!(e.hasAttribute("class")&&e.getAttribute("class").split(" ").indexOf(i)>-1)||ye.checkContentClass(e.parentNode,t,i))}static compareItems(e,t){return e.y>t.y?-1:e.y<t.y?1:e.x>t.x?-1:1}}class W2{constructor(e){this.gridster=e}destroy(){delete this.initialItem,delete this.gridster.movingItem,this.gridster.previewStyle&&this.gridster.previewStyle(),delete this.gridster,this.emptyCellExit&&(this.emptyCellExit(),this.emptyCellExit=null)}updateOptions(){this.gridster.$options.enableEmptyCellClick&&!this.emptyCellClick&&this.gridster.options.emptyCellClickCallback?(this.emptyCellClick=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb.bind(this)),this.emptyCellClickTouch=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb.bind(this))):!this.gridster.$options.enableEmptyCellClick&&this.emptyCellClick&&this.emptyCellClickTouch&&(this.emptyCellClick(),this.emptyCellClickTouch(),this.emptyCellClick=null,this.emptyCellClickTouch=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.emptyCellContextMenu&&this.gridster.options.emptyCellContextMenuCallback?this.emptyCellContextMenu=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb.bind(this)):!this.gridster.$options.enableEmptyCellContextMenu&&this.emptyCellContextMenu&&(this.emptyCellContextMenu(),this.emptyCellContextMenu=null),this.gridster.$options.enableEmptyCellDrop&&!this.emptyCellDrop&&this.gridster.options.emptyCellDropCallback?(this.emptyCellDrop=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop.bind(this)),this.gridster.zone.runOutsideAngular(()=>{this.emptyCellMove=this.gridster.renderer.listen(this.gridster.el,"dragover",this.emptyCellDragOver.bind(this))}),this.emptyCellExit=this.gridster.renderer.listen("document","dragend",()=>{this.gridster.movingItem=null,this.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.emptyCellDrop&&this.emptyCellMove&&this.emptyCellExit&&(this.emptyCellDrop(),this.emptyCellMove(),this.emptyCellExit(),this.emptyCellMove=null,this.emptyCellDrop=null,this.emptyCellExit=null),this.gridster.$options.enableEmptyCellDrag&&!this.emptyCellDrag&&this.gridster.options.emptyCellDragCallback?(this.emptyCellDrag=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown.bind(this)),this.emptyCellDragTouch=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown.bind(this))):!this.gridster.$options.enableEmptyCellDrag&&this.emptyCellDrag&&this.emptyCellDragTouch&&(this.emptyCellDrag(),this.emptyCellDragTouch(),this.emptyCellDrag=null,this.emptyCellDragTouch=null)}emptyCellClickCb(e){if(!this.gridster||this.gridster.movingItem||ye.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;const t=this.getValidItemFromEvent(e);!t||(this.gridster.options.emptyCellClickCallback&&this.gridster.options.emptyCellClickCallback(e,t),this.gridster.cdRef.markForCheck())}emptyCellContextMenuCb(e){if(this.gridster.movingItem||ye.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;e.preventDefault(),e.stopPropagation();const t=this.getValidItemFromEvent(e);!t||(this.gridster.options.emptyCellContextMenuCallback&&this.gridster.options.emptyCellContextMenuCallback(e,t),this.gridster.cdRef.markForCheck())}emptyCellDragDrop(e){const t=this.getValidItemFromEvent(e);!t||(this.gridster.options.emptyCellDropCallback&&this.gridster.options.emptyCellDropCallback(e,t),this.gridster.cdRef.markForCheck())}emptyCellDragOver(e){e.preventDefault(),e.stopPropagation();const t=this.getValidItemFromEvent(e);t?(e.dataTransfer&&(e.dataTransfer.dropEffect="move"),this.gridster.movingItem=t):(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),this.gridster.movingItem=null),this.gridster.previewStyle()}emptyCellMouseDown(e){if(ye.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;e.preventDefault(),e.stopPropagation();const t=this.getValidItemFromEvent(e);!t||1!==e.buttons||(this.initialItem=t,this.gridster.movingItem=t,this.gridster.previewStyle(),this.gridster.zone.runOutsideAngular(()=>{this.emptyCellMMove=this.gridster.renderer.listen("window","mousemove",this.emptyCellMouseMove.bind(this)),this.emptyCellMMoveTouch=this.gridster.renderer.listen("window","touchmove",this.emptyCellMouseMove.bind(this))}),this.emptyCellUp=this.gridster.renderer.listen("window","mouseup",this.emptyCellMouseUp.bind(this)),this.emptyCellUpTouch=this.gridster.renderer.listen("window","touchend",this.emptyCellMouseUp.bind(this)))}emptyCellMouseMove(e){e.preventDefault(),e.stopPropagation();const t=this.getValidItemFromEvent(e,this.initialItem);!t||(this.gridster.movingItem=t,this.gridster.previewStyle())}emptyCellMouseUp(e){this.emptyCellMMove(),this.emptyCellMMoveTouch(),this.emptyCellUp(),this.emptyCellUpTouch();const t=this.getValidItemFromEvent(e,this.initialItem);t&&(this.gridster.movingItem=t),this.gridster.options.emptyCellDragCallback&&this.gridster.movingItem&&this.gridster.options.emptyCellDragCallback(e,this.gridster.movingItem),setTimeout(()=>{this.initialItem=null,this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())}),this.gridster.cdRef.markForCheck()}getPixelsX(e,t){const i=this.gridster.options.scale;return i?(e.clientX-t.left)/i+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():e.clientX+this.gridster.el.scrollLeft-t.left-this.gridster.gridRenderer.getLeftMargin()}getPixelsY(e,t){const i=this.gridster.options.scale;return i?(e.clientY-t.top)/i+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():e.clientY+this.gridster.el.scrollTop-t.top-this.gridster.gridRenderer.getTopMargin()}getValidItemFromEvent(e,t){e.preventDefault(),e.stopPropagation(),ye.checkTouchEvent(e);const i=this.gridster.el.getBoundingClientRect(),r=this.getPixelsX(e,i),s=this.getPixelsY(e,i),o={x:this.gridster.pixelsToPositionX(r,Math.floor,!0),y:this.gridster.pixelsToPositionY(s,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(t&&(o.cols=Math.min(Math.abs(t.x-o.x)+1,this.gridster.$options.emptyCellDragMaxCols),o.rows=Math.min(Math.abs(t.y-o.y)+1,this.gridster.$options.emptyCellDragMaxRows),t.x<o.x?o.x=t.x:t.x-o.x>this.gridster.$options.emptyCellDragMaxCols-1&&(o.x=this.gridster.movingItem?this.gridster.movingItem.x:0),t.y<o.y?o.y=t.y:t.y-o.y>this.gridster.$options.emptyCellDragMaxRows-1&&(o.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),this.gridster.$options.enableOccupiedCellDrop||!this.gridster.checkCollision(o))return o}}class Z2{constructor(e){this.gridster=e}destroy(){delete this.gridster}updateItem(e,t,i){if(this.gridster.mobile)this.clearCellPosition(i,e),i.setStyle(e,"height",this.gridster.$options.keepFixedHeightInMobile?(t.rows-1)*this.gridster.$options.margin+t.rows*this.gridster.$options.fixedRowHeight+"px":t.rows*this.gridster.curWidth/t.cols+"px"),i.setStyle(e,"width",this.gridster.$options.keepFixedWidthInMobile?this.gridster.$options.fixedColWidth+"px":""),i.setStyle(e,"margin-bottom",this.gridster.$options.margin+"px"),i.setStyle(e,ke.LTR?"margin-right":"margin-left","");else{const r=Math.round(this.gridster.curColWidth*t.x),s=Math.round(this.gridster.curRowHeight*t.y),o=this.gridster.curColWidth*t.cols-this.gridster.$options.margin,a=this.gridster.curRowHeight*t.rows-this.gridster.$options.margin;this.setCellPosition(i,e,r,s),i.setStyle(e,"width",o+"px"),i.setStyle(e,"height",a+"px");let l=null,c=null;this.gridster.$options.outerMargin&&(this.gridster.rows===t.rows+t.y&&(l=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px":this.gridster.$options.margin+"px"),this.gridster.columns===t.cols+t.x&&(c=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginRight+"px":this.gridster.$options.margin+"px")),i.setStyle(e,"margin-bottom",l),i.setStyle(e,ke.LTR?"margin-right":"margin-left",c)}}updateGridster(){let e="",t="",i="",r="";if(this.gridster.$options.gridType===ee.Fit)e=ee.Fit,t=ee.ScrollVertical,i=ee.ScrollHorizontal,r=ee.Fixed;else if(this.gridster.$options.gridType===ee.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,e=ee.ScrollVertical,t=ee.Fit,i=ee.ScrollHorizontal,r=ee.Fixed;else if(this.gridster.$options.gridType===ee.ScrollHorizontal){const s=this.gridster.$options.rowHeightRatio;this.gridster.curColWidth=this.gridster.curRowHeight*(s>=1?s:s+1),e=ee.ScrollHorizontal,t=ee.Fit,i=ee.ScrollVertical,r=ee.Fixed}else this.gridster.$options.gridType===ee.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=ee.Fixed,t=ee.Fit,i=ee.ScrollVertical,r=ee.ScrollHorizontal):this.gridster.$options.gridType===ee.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=ee.ScrollVertical,t=ee.Fit,i=ee.ScrollHorizontal,r=ee.Fixed):this.gridster.$options.gridType===ee.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=ee.ScrollHorizontal,t=ee.Fit,i=ee.ScrollVertical,r=ee.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==ee.Fit?this.gridster.renderer.removeClass(this.gridster.el,e):this.gridster.renderer.addClass(this.gridster.el,e),this.gridster.renderer.removeClass(this.gridster.el,t),this.gridster.renderer.removeClass(this.gridster.el,i),this.gridster.renderer.removeClass(this.gridster.el,r)}getGridColumnStyle(e){return{...this.getLeftPosition(this.gridster.curColWidth*e),width:this.gridster.curColWidth-this.gridster.$options.margin+"px",height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin+"px"}}getGridRowStyle(e){return{...this.getTopPosition(this.gridster.curRowHeight*e),width:this.gridster.gridColumns.length*this.gridster.curColWidth-this.gridster.$options.margin+"px",height:this.gridster.curRowHeight-this.gridster.$options.margin+"px"}}getLeftPosition(e){const t=this.gridster.$options.dirType===ke.RTL?-e:e;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+t+"px)"}:{left:this.getLeftMargin()+t+"px"}}getTopPosition(e){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+e+"px)"}:{top:this.getTopMargin()+e+"px"}}clearCellPosition(e,t){this.gridster.$options.useTransformPositioning?e.setStyle(t,"transform",""):(e.setStyle(t,"top",""),e.setStyle(t,"left",""))}setCellPosition(e,t,i,r){const s=this.gridster.$options.dirType===ke.RTL?-i:i;this.gridster.$options.useTransformPositioning?e.setStyle(t,"transform","translate3d("+s+"px, "+r+"px, 0)"):(e.setStyle(t,"left",this.getLeftMargin()+s+"px"),e.setStyle(t,"top",this.getTopMargin()+r+"px"))}getLeftMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}getTopMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}}let Hr,Gn,Mt,Vr,hn,$r,Gr,Yr,Wr,Q2=(()=>{class n{constructor(t,i){this.renderer=i,this.el=t.nativeElement}ngOnInit(){this.sub=this.previewStyle$.subscribe(t=>this.previewStyle(t))}ngOnDestroy(){this.sub.unsubscribe(),delete this.el}previewStyle(t){t?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,t,this.renderer)):this.renderer.setStyle(this.el,"display","")}}return n.\u0275fac=function(t){return new(t||n)(b($t),b(pr))},n.\u0275cmp=q({type:n,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},decls:0,vars:0,template:function(t,i){},styles:["gridster-preview{position:absolute;display:none;background:rgba(0,0,0,.15)}\n"],encapsulation:2}),n})(),xy=(()=>{class n{constructor(t,i,r,s){this.renderer=i,this.cdRef=r,this.zone=s,this.columns=0,this.rows=0,this.gridColumns=[],this.gridRows=[],this.previewStyle$=new ve,this.el=t.nativeElement,this.$options=JSON.parse(JSON.stringify(Y2)),this.calculateLayoutDebounce=ye.debounce(this.calculateLayout.bind(this),0),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new W2(this),this.compact=new G2(this),this.gridRenderer=new Z2(this)}static checkCollisionTwoItemsForSwaping(t,i){return t.x+(1===t.cols?0:1)<i.x+i.cols&&t.x+t.cols>i.x+(1===i.cols?0:1)&&t.y+(1===t.rows?0:1)<i.y+i.rows&&t.y+t.rows>i.y+(1===i.rows?0:1)}checkCollisionTwoItems(t,i){if(!(t.x<i.x+i.cols&&t.x+t.cols>i.x&&t.y<i.y+i.rows&&t.y+t.rows>i.y))return!1;if(!this.$options.allowMultiLayer)return!0;const s=this.$options.defaultLayerIndex;return(void 0===t.layerIndex?s:t.layerIndex)===(void 0===i.layerIndex?s:i.layerIndex)}ngOnInit(){this.options.initCallback&&this.options.initCallback(this)}ngOnChanges(t){t.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged.bind(this),resize:this.onResize.bind(this),getNextPossiblePosition:this.getNextPossiblePosition.bind(this),getFirstPossiblePosition:this.getFirstPossiblePosition.bind(this),getLastPossiblePosition:this.getLastPossiblePosition.bind(this),getItemComponent:i=>this.getItemComponent(i)},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}resize(){let t,i;"fit"!==this.$options.gridType||this.mobile?(i=this.el.clientWidth,t=this.el.clientHeight):(i=this.el.offsetWidth,t=this.el.offsetHeight),(i!==this.curWidth||t!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}setOptions(){this.$options=ye.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize.bind(this)),this.emptyCell.updateOptions()}optionsChanged(){this.setOptions();let i,t=this.grid.length-1;for(;t>=0;t--)i=this.grid[t],i.updateOptions();this.calculateLayout()}ngOnDestroy(){this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),delete this.emptyCell,this.compact.destroy(),delete this.compact}onResize(){this.el.clientWidth&&(this.options.setGridSize&&(this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.setGridSize(),this.calculateLayout())}checkIfToResize(){const t=this.el.clientWidth,i=this.el.offsetWidth,r=this.el.scrollWidth,s=this.el.clientHeight,o=this.el.offsetHeight,a=this.el.scrollHeight;return!(t<i&&a>o&&a-o<i-t||s<o&&r>i&&r-i<o-s)}setGridSize(){const t=this.el;let i,r;this.$options.setGridSize||this.$options.gridType===ee.Fit&&!this.mobile?(i=t.offsetWidth,r=t.offsetHeight):(i=t.clientWidth,r=t.clientHeight),this.curWidth=i,this.curHeight=r}setGridDimensions(){this.setGridSize(),!this.mobile&&this.$options.mobileBreakpoint>this.curWidth?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&this.$options.mobileBreakpoint<this.curWidth&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));let s,t=this.$options.minRows,i=this.$options.minCols,r=this.grid.length-1;for(;r>=0;r--)s=this.grid[r],s.notPlaced||(t=Math.max(t,s.$item.y+s.$item.rows),i=Math.max(i,s.$item.x+s.$item.cols));t+=this.$options.addEmptyRowsCount,(this.columns!==i||this.rows!==t)&&(this.columns=i,this.rows=t,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}calculateLayout(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){let r=-this.$options.margin;null!==this.$options.outerMarginLeft?(r+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(r+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),null!==this.$options.outerMarginRight?(r+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(r+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-r)/this.columns;let s=-this.$options.margin;null!==this.$options.outerMarginTop?(s+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),null!==this.$options.outerMarginBottom?(s+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-s)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();let i,t=this.grid.length-1;for(;t>=0;t--)i=this.grid[t],i.setSize(),i.drag.toggle(),i.resize.toggle();setTimeout(this.resize.bind(this),100)}updateGrid(){"always"!==this.$options.displayGrid||this.mobile?"onDrag&Resize"===this.$options.displayGrid&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):("none"===this.$options.displayGrid||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"):this.renderer.addClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=n.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=n.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}addItem(t){void 0===t.$item.cols&&(t.$item.cols=this.$options.defaultItemCols,t.item.cols=t.$item.cols,t.itemChanged()),void 0===t.$item.rows&&(t.$item.rows=this.$options.defaultItemRows,t.item.rows=t.$item.rows,t.itemChanged()),-1===t.$item.x||-1===t.$item.y?this.autoPositionItem(t):this.checkCollision(t.$item)&&(this.$options.disableWarnings||(t.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(t.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?t.notPlaced=!0:this.autoPositionItem(t)),this.grid.push(t),this.calculateLayoutDebounce()}removeItem(t){this.grid.splice(this.grid.indexOf(t),1),this.calculateLayoutDebounce(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(t.item,t)}checkCollision(t){let i=!1;if(this.options.itemValidateCallback&&(i=!this.options.itemValidateCallback(t)),!i&&this.checkGridCollision(t)&&(i=!0),!i){const r=this.findItemWithItem(t);r&&(i=r)}return i}checkGridCollision(t){const g=t.cols*t.rows;return!(t.y>-1&&t.x>-1&&t.cols+t.x<=this.$options.maxCols&&t.rows+t.y<=this.$options.maxRows&&t.cols<=(void 0===t.maxItemCols?this.$options.maxItemCols:t.maxItemCols)&&t.cols>=(void 0===t.minItemCols?this.$options.minItemCols:t.minItemCols)&&t.rows<=(void 0===t.maxItemRows?this.$options.maxItemRows:t.maxItemRows)&&t.rows>=(void 0===t.minItemRows?this.$options.minItemRows:t.minItemRows)&&(void 0===t.minItemArea?this.$options.minItemArea:t.minItemArea)<=g&&(void 0===t.maxItemArea?this.$options.maxItemArea:t.maxItemArea)>=g)}findItemWithItem(t){let r,i=0;for(;i<this.grid.length;i++)if(r=this.grid[i],r.$item!==t&&this.checkCollisionTwoItems(r.$item,t))return r;return!1}findItemsWithItem(t){const i=[];let s,r=0;for(;r<this.grid.length;r++)s=this.grid[r],s.$item!==t&&this.checkCollisionTwoItems(s.$item,t)&&i.push(s);return i}autoPositionItem(t){this.getNextPossiblePosition(t.$item)?(t.notPlaced=!1,t.item.x=t.$item.x,t.item.y=t.$item.y,t.itemChanged()):(t.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(t.item,["cols","rows","x","y"])))}getNextPossiblePosition(t,i={}){-1===t.cols&&(t.cols=this.$options.defaultItemCols),-1===t.rows&&(t.rows=this.$options.defaultItemRows),this.setGridDimensions();let s,r=i.y||0;for(;r<this.rows;r++)for(t.y=r,s=i.x||0;s<this.columns;s++)if(t.x=s,!this.checkCollision(t))return!0;const o=this.$options.maxRows>=this.rows+t.rows;return this.rows<=this.columns&&o||!(this.$options.maxCols>=this.columns+t.cols)?!!o&&(t.y=this.rows,t.x=0,!0):(t.x=this.columns,t.y=0,!0)}getFirstPossiblePosition(t){const i=Object.assign({},t);return this.getNextPossiblePosition(i),i}getLastPossiblePosition(t){let i={y:0,x:0};i=this.grid.reduce((s,o)=>{const a={y:o.$item.y+o.$item.rows-1,x:o.$item.x+o.$item.cols-1};return 1===ye.compareItems(s,a)?a:s},i);const r=Object.assign({},t);return this.getNextPossiblePosition(r,i),r}pixelsToPositionX(t,i,r){const s=i(t/this.curColWidth);return r?s:Math.max(s,0)}pixelsToPositionY(t,i,r){const s=i(t/this.curRowHeight);return r?s:Math.max(s,0)}positionXToPixels(t){return t*this.curColWidth}positionYToPixels(t){return t*this.curRowHeight}getItemComponent(t){return this.grid.find(i=>i.item===t)}checkCollisionForSwaping(t){let i=!1;if(this.options.itemValidateCallback&&(i=!this.options.itemValidateCallback(t)),!i&&this.checkGridCollision(t)&&(i=!0),!i){const r=this.findItemWithItemForSwapping(t);r&&(i=r)}return i}findItemWithItemForSwapping(t){let r,i=this.grid.length-1;for(;i>-1;i--)if(r=this.grid[i],r.$item!==t&&n.checkCollisionTwoItemsForSwaping(r.$item,t))return r;return!1}previewStyle(t=!1){this.movingItem?(this.compact&&t&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}static getNewArrayLength(t,i,r){const s=Math.max(t,Math.floor(i/r));return s<0?0:Number.isFinite(s)?Math.floor(s):0}}return n.\u0275fac=function(t){return new(t||n)(b($t),b(pr),b(Ic),b(Le))},n.\u0275cmp=q({type:n,selectors:[["gridster"]],inputs:{options:"options"},features:[Fn],ngContentSelectors:Ay,decls:4,vars:4,consts:[["class","gridster-column",3,"ngStyle",4,"ngFor","ngForOf"],["class","gridster-row",3,"ngStyle",4,"ngFor","ngForOf"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"],[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"]],template:function(t,i){1&t&&(Bn(),S(0,O2,1,1,"div",0),S(1,F2,1,1,"div",1),Hn(2),O(3,"gridster-preview",2)),2&t&&(y("ngForOf",i.gridColumns),C(1),y("ngForOf",i.gridRows),C(2),y("gridRenderer",i.gridRenderer)("previewStyle$",i.previewStyle$))},dependencies:[Q2,Dt,Ym],styles:["gridster{position:relative;box-sizing:border-box;background:grey;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}\n"],encapsulation:2}),n})();class Ey{constructor(e){this.iteration=0,this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=e,this.gridster=e.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){delete this.gridster,delete this.gridsterItem}pushItems(e,t){if(this.gridster.$options.pushItems&&!t){this.pushedItemsOrder=[],this.iteration=0;const i=this.push(this.gridsterItem,e);return i||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],i}return!1}restoreTempItems(){let e=this.pushedItemsTemp.length-1;for(;e>-1;e--)this.removeFromTempPushed(this.pushedItemsTemp[e])}restoreItems(){let e=0;const t=this.pushedItems.length;let i;for(;e<t;e++)i=this.pushedItems[e],i.$item.x=i.item.x||0,i.$item.y=i.item.y||0,i.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let e=0;const t=this.pushedItems.length;let i;for(;e<t;e++)i=this.pushedItems[e],i.checkItemChanges(i.$item,i.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let e=this.pushedItems.length-1,t=!1;for(;e>-1;e--)this.checkPushedItem(this.pushedItems[e],e)&&(t=!0);t&&this.checkPushBack()}push(e,t){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(e.$item)||""===t)return!1;const i=this.gridster.findItemsWithItem(e.$item),r=t===this.fromNorth||t===this.fromWest;i.sort((c,u)=>r?u.$item.y-c.$item.y||u.$item.x-c.$item.x:c.$item.y-u.$item.y||c.$item.x-u.$item.x);let o,s=0,a=!0;const l=[];for(;s<i.length;s++){if(o=i[s],o===this.gridsterItem)continue;if(!o.canBeDragged()){a=!1;break}const c=this.pushedItemsTemp.indexOf(o);if(c>-1&&this.pushedItemsTempPath[c].length>10){a=!1;break}if(this.tryPattern[t][0].call(this,o,e))this.pushedItemsOrder.push(o),l.push(o);else if(this.tryPattern[t][1].call(this,o,e))this.pushedItemsOrder.push(o),l.push(o);else if(this.tryPattern[t][2].call(this,o,e))this.pushedItemsOrder.push(o),l.push(o);else{if(!this.tryPattern[t][3].call(this,o,e)){a=!1;break}this.pushedItemsOrder.push(o),l.push(o)}}if(!a&&(s=this.pushedItemsOrder.lastIndexOf(l[0]),s>-1)){let c=this.pushedItemsOrder.length-1;for(;c>=s;c--)o=this.pushedItemsOrder[c],this.pushedItemsOrder.pop(),this.removeFromTempPushed(o),this.removeFromPushedItem(o)}return this.iteration++,a}trySouth(e,t){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(e),e.$item.y=t.$item.y+t.$item.rows,this.push(e,this.fromNorth)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}tryNorth(e,t){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(e),e.$item.y=t.$item.y-e.$item.rows,this.push(e,this.fromSouth)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}tryEast(e,t){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(e),e.$item.x=t.$item.x+t.$item.cols,this.push(e,this.fromWest)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}tryWest(e,t){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(e),e.$item.x=t.$item.x-e.$item.cols,this.push(e,this.fromEast)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}addToTempPushed(e){let t=this.pushedItemsTemp.indexOf(e);-1===t&&(t=this.pushedItemsTemp.push(e)-1,this.pushedItemsTempPath[t]=[]),this.pushedItemsTempPath[t].push({x:e.$item.x,y:e.$item.y})}removeFromTempPushed(e){const t=this.pushedItemsTemp.indexOf(e),i=this.pushedItemsTempPath[t].pop();!i||(e.$item.x=i.x,e.$item.y=i.y,e.setSize(),this.pushedItemsTempPath[t].length||(this.pushedItemsTemp.splice(t,1),this.pushedItemsTempPath.splice(t,1)))}addToPushed(e){if(this.pushedItems.indexOf(e)<0)this.pushedItems.push(e),this.pushedItemsPath.push([{x:e.item.x||0,y:e.item.y||0},{x:e.$item.x,y:e.$item.y}]);else{const t=this.pushedItems.indexOf(e);this.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y})}}removeFromPushed(e){e>-1&&(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1))}removeFromPushedItem(e){const t=this.pushedItems.indexOf(e);t>-1&&(this.pushedItemsPath[t].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(t,1),this.pushedItemsPath.splice(t,1)))}checkPushedItem(e,t){const i=this.pushedItemsPath[t];let s,o,a,r=i.length-2,l=!1;for(;r>-1;r--)s=i[r],o=e.$item.x,a=e.$item.y,e.$item.x=s.x,e.$item.y=s.y,this.gridster.findItemWithItem(e.$item)?(e.$item.x=o,e.$item.y=a):(e.setSize(),i.splice(r+1,i.length-r-1),l=!0);return i.length<2&&this.removeFromPushed(t),l}}function Ny(n,e,t,i,r,s,o,a,l,c){Hr=n.$options.scrollSensitivity,Gn=n.$options.scrollSpeed,Mt=n.el,Vr=l,hn=c;const u=Mt.offsetWidth,h=Mt.scrollLeft,p=Mt.scrollTop,g=t-p;if(!n.$options.disableScrollVertical)if(o.clientY<s.clientY&&Mt.offsetHeight+p-t-r<Hr){if(zy(),Vr&&hn&&!hn.s||Wr)return;Wr=Ly(1,a,o)}else if(o.clientY>s.clientY&&p>0&&g<Hr){if(Ry(),Vr&&hn&&!hn.n||Yr)return;Yr=Ly(-1,a,o)}else o.clientY!==s.clientY&&Jc();const M=e-h;if(!n.$options.disableScrollHorizontal)if(o.clientX<s.clientX&&h+u-e-i<=Hr){if(Fy(),Vr&&hn&&!hn.e||$r)return;$r=Py(1,a,o)}else if(o.clientX>s.clientX&&h>0&&M<Hr){if(Oy(),Vr&&hn&&!hn.w||Gr)return;Gr=Py(-1,a,o)}else o.clientX!==s.clientX&&Xc()}function Ly(n,e,t){let i=t.clientY;return setInterval(()=>{(!Mt||-1===n&&Mt.scrollTop-Gn<0)&&Jc(),Mt.scrollTop+=n*Gn,i+=n*Gn,e({clientX:t.clientX,clientY:i})},50)}function Py(n,e,t){let i=t.clientX;return setInterval(()=>{(!Mt||-1===n&&Mt.scrollLeft-Gn<0)&&Xc(),Mt.scrollLeft+=n*Gn,i+=n*Gn,e({clientX:i,clientY:t.clientY})},50)}function ky(){Xc(),Jc(),Mt=null}function Xc(){Oy(),Fy()}function Jc(){zy(),Ry()}function Oy(){$r&&(clearInterval($r),$r=0)}function Fy(){Gr&&(clearInterval(Gr),Gr=0)}function Ry(){Wr&&(clearInterval(Wr),Wr=0)}function zy(){Yr&&(clearInterval(Yr),Yr=0)}class X2{constructor(e){this.gridsterItem=e,this.gridster=e.gridster}destroy(){delete this.gridster,delete this.gridsterItem,delete this.swapedItem}swapItems(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}checkSwapBack(){if(this.swapedItem){const e=this.swapedItem.$item.x,t=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=e,this.swapedItem.$item.y=t):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}restoreSwapItem(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}setSwapItem(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}checkSwap(e){let t;if(t=this.gridster.$options.swapWhileDragging?this.gridster.checkCollisionForSwaping(e.$item):this.gridster.checkCollision(e.$item),t&&!0!==t&&t.canBeDragged()){const i=t,r=i.$item.x,s=i.$item.y,o=e.$item.x,a=e.$item.y,l=o-r,c=a-s;i.$item.x=e.item.x-l,i.$item.y=e.item.y-c,e.$item.x=i.item.x+l,e.$item.y=i.item.y+c,this.gridster.checkCollision(i.$item)||this.gridster.checkCollision(e.$item)?(e.$item.x=o,e.$item.y=a,i.$item.x=r,i.$item.y=s):(i.setSize(),this.swapedItem=i,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}}class J2{constructor(e,t,i){this.zone=i,this.collision=!1,this.gridsterItem=e,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.path=[]}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),delete this.gridsterItem,delete this.gridster,delete this.collision,this.mousedown&&(this.mousedown(),this.touchstart())}dragStart(e){e.which&&1!==e.which||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,e),e.stopPropagation(),e.preventDefault(),this.dragFunction=this.dragMove.bind(this),this.dragStopFunction=this.dragStop.bind(this),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragFunction),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragFunction)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStopFunction),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStopFunction),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStopFunction),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStopFunction),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStopFunction),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=e.clientX,this.originalClientY=e.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.diffLeft=this.gridster.$options.dirType===ke.RTL?e.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:e.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=e.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new Ey(this.gridsterItem),this.swap=new X2(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}dragMove(e){e.stopPropagation(),e.preventDefault(),ye.checkTouchEvent(e),this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,Ny(this.gridster,this.left,this.top,this.width,this.height,e,this.lastMouse,this.calculateItemPositionFromMousePosition.bind(this)),this.calculateItemPositionFromMousePosition(e)}calculateItemPositionFromMousePosition(e){this.gridster.options.scale?this.calculateItemPositionWithScale(e,this.gridster.options.scale):this.calculateItemPositionWithoutScale(e),this.calculateItemPosition(),this.lastMouse.clientX=e.clientX,this.lastMouse.clientY=e.clientY,this.zone.run(()=>{this.gridster.updateGrid()})}calculateItemPositionWithScale(e,t){this.left=this.gridster.$options.dirType===ke.RTL?this.gridster.el.scrollWidth-this.originalClientX+(e.clientX-this.originalClientX)/t+this.diffLeft:this.originalClientX+(e.clientX-this.originalClientX)/t+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(e.clientY-this.originalClientY)/t+this.offsetTop-this.diffTop}calculateItemPositionWithoutScale(e){this.left=this.gridster.$options.dirType===ke.RTL?this.gridster.el.scrollWidth-e.clientX+this.diffLeft:e.clientX+this.offsetLeft-this.diffLeft,this.top=e.clientY+this.offsetTop-this.diffTop}dragStop(e){e.stopPropagation(),e.preventDefault(),ky(),this.cancelOnBlur(),this.mousemove(),this.mouseup(),this.mouseleave(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-moving"),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.path=[],this.gridster.options.draggable&&this.gridster.options.draggable.stop?Promise.resolve(this.gridster.options.draggable.stop(this.gridsterItem.item,this.gridsterItem,e)).then(this.makeDrag.bind(this),this.cancelDrag.bind(this)):this.makeDrag(),setTimeout(()=>{this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle(!0))})}cancelDrag(){this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push&&this.push.restoreItems(),this.swap&&this.swap.restoreSwapItem(),this.push&&(this.push.destroy(),delete this.push),this.swap&&(this.swap.destroy(),delete this.swap)}makeDrag(){this.gridster.$options.draggable.dropOverItems&&this.gridster.options.draggable&&this.gridster.options.draggable.dropOverItemsCallback&&this.collision&&!0!==this.collision&&this.collision.$item&&this.gridster.options.draggable.dropOverItemsCallback(this.gridsterItem.item,this.collision.item,this.gridster),this.collision=!1,this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push&&this.push.setPushedItems(),this.swap&&this.swap.setSwapItem(),this.push&&(this.push.destroy(),delete this.push),this.swap&&(this.swap.destroy(),delete this.swap)}calculateItemPosition(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){const e=this.path[this.path.length-1];let t="";e.x<this.gridsterItem.$item.x?t=this.push.fromWest:e.x>this.gridsterItem.$item.x?t=this.push.fromEast:e.y<this.gridsterItem.$item.y?t=this.push.fromNorth:e.y>this.gridsterItem.$item.y&&(t=this.push.fromSouth),this.push.pushItems(t,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&!0!==this.collision&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}this.gridster.previewStyle(!0)}toggle(){const e=this.gridsterItem.canBeDragged();!this.enabled&&e?(this.enabled=!this.enabled,this.dragStartFunction=this.dragStartDelay.bind(this),this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartFunction),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartFunction)):this.enabled&&!e&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}dragStartDelay(e){if(e.target.hasAttribute("class")&&e.target.getAttribute("class").split(" ").indexOf("gridster-item-resizable-handler")>-1||ye.checkContentClassForEvent(this.gridster,e))return;if(ye.checkTouchEvent(e),!this.gridster.$options.draggable.delayStart)return void this.dragStart(e);const t=setTimeout(()=>{this.dragStart(e),u()},this.gridster.$options.draggable.delayStart),i=this.gridsterItem.renderer.listen("document","mouseup",u),r=this.gridsterItem.renderer.listen("document","mouseleave",u),s=this.gridsterItem.renderer.listen("window","blur",u),o=this.gridsterItem.renderer.listen("document","touchmove",function c(d){ye.checkTouchEvent(d),(Math.abs(d.clientX-e.clientX)>9||Math.abs(d.clientY-e.clientY)>9)&&u()}),a=this.gridsterItem.renderer.listen("document","touchend",u),l=this.gridsterItem.renderer.listen("document","touchcancel",u);function u(){clearTimeout(t),s(),i(),r(),o(),a(),l()}}}class q2{constructor(e){this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=e,this.gridster=e.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){delete this.gridster,delete this.gridsterItem}pushItems(e){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,e)}restoreItems(){let e=0;const t=this.pushedItems.length;let i;for(;e<t;e++)i=this.pushedItems[e],i.$item.x=i.item.x||0,i.$item.y=i.item.y||0,i.$item.cols=i.item.cols||1,i.$item.row=i.item.row||1,i.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let e=0;const t=this.pushedItems.length;let i;for(;e<t;e++)i=this.pushedItems[e],i.checkItemChanges(i.$item,i.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let e=this.pushedItems.length-1,t=!1;for(;e>-1;e--)this.checkPushedItem(this.pushedItems[e],e)&&(t=!0);t&&this.checkPushBack()}push(e,t){const i=this.gridster.checkCollision(e.$item);if(i&&!0!==i&&i!==this.gridsterItem&&i.canBeResized()){if(this.tryPattern[t].call(this,i,e,t))return!0}else if(!1===i)return!0;return!1}trySouth(e,t,i){const r=e.$item.y,s=e.$item.rows;return e.$item.y=t.$item.y+t.$item.rows,e.$item.rows=s+r-e.$item.y,this.gridster.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.y=r,e.$item.rows=s,!1):(e.setSize(),this.addToPushed(e),this.push(t,i),!0)}tryNorth(e,t,i){const r=e.$item.rows;return e.$item.rows=t.$item.y-e.$item.y,this.gridster.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.rows=r,!1):(e.setSize(),this.addToPushed(e),this.push(t,i),!0)}tryEast(e,t,i){const r=e.$item.x,s=e.$item.cols;return e.$item.x=t.$item.x+t.$item.cols,e.$item.cols=s+r-e.$item.x,this.gridster.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.x=r,e.$item.cols=s,!1):(e.setSize(),this.addToPushed(e),this.push(t,i),!0)}tryWest(e,t,i){const r=e.$item.cols;return e.$item.cols=t.$item.x-e.$item.x,this.gridster.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.cols=r,!1):(e.setSize(),this.addToPushed(e),this.push(t,i),!0)}addToPushed(e){if(this.pushedItems.indexOf(e)<0)this.pushedItems.push(e),this.pushedItemsPath.push([{x:e.item.x||0,y:e.item.y||0,cols:e.item.cols||0,rows:e.item.rows||0},{x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows}]);else{const t=this.pushedItems.indexOf(e);this.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows})}}removeFromPushed(e){e>-1&&(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1))}checkPushedItem(e,t){const i=this.pushedItemsPath[t];let s,o,a,l,c,r=i.length-2;for(;r>-1;r--)s=i[r],o=e.$item.x,a=e.$item.y,l=e.$item.cols,c=e.$item.rows,e.$item.x=s.x,e.$item.y=s.y,e.$item.cols=s.cols,e.$item.rows=s.rows,this.gridster.findItemWithItem(e.$item)?(e.$item.x=o,e.$item.y=a,e.$item.cols=l,e.$item.rows=c):(e.setSize(),i.splice(r+1,i.length-1-r));return i.length<2&&(this.removeFromPushed(t),!0)}}class K2{constructor(e,t,i){this.zone=i,this.gridsterItem=e,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={w:!1,e:!1,n:!1,s:!1}}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(),delete this.gridsterItem,delete this.gridster}dragStart(e){e.which&&1!==e.which||(this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,e),e.stopPropagation(),e.preventDefault(),this.dragFunction=this.dragMove.bind(this),this.dragStopFunction=this.dragStop.bind(this),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragFunction),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragFunction)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStopFunction),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStopFunction),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStopFunction),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStopFunction),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStopFunction),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=e.clientX,this.lastMouse.clientY=e.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=e.clientX,this.originalClientY=e.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=e.clientX+this.offsetLeft-this.left,this.diffRight=e.clientX+this.offsetLeft-this.right,this.diffTop=e.clientY+this.offsetTop-this.top,this.diffBottom=e.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new Ey(this.gridsterItem),this.pushResize=new q2(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),e.target?.hasAttribute("class")&&e.target.getAttribute("class").split(" ").indexOf("handle-n")>-1?(this.resizeEventScrollType.n=!0,this.directionFunction=this.handleN):e.target?.hasAttribute("class")&&e.target.getAttribute("class").split(" ").indexOf("handle-w")>-1?this.gridster.$options.dirType===ke.RTL?(this.resizeEventScrollType.e=!0,this.directionFunction=this.handleE):(this.resizeEventScrollType.w=!0,this.directionFunction=this.handleW):e.target?.hasAttribute("class")&&e.target.getAttribute("class").split(" ").indexOf("handle-s")>-1?(this.resizeEventScrollType.s=!0,this.directionFunction=this.handleS):e.target.hasAttribute("class")&&e.target.getAttribute("class").split(" ").indexOf("handle-e")>-1?this.gridster.$options.dirType===ke.RTL?(this.resizeEventScrollType.w=!0,this.directionFunction=this.handleW):(this.resizeEventScrollType.e=!0,this.directionFunction=this.handleE):e.target.hasAttribute("class")&&e.target.getAttribute("class").split(" ").indexOf("handle-nw")>-1?this.gridster.$options.dirType===ke.RTL?(this.resizeEventScrollType.n=!0,this.resizeEventScrollType.e=!0,this.directionFunction=this.handleNE):(this.resizeEventScrollType.n=!0,this.resizeEventScrollType.w=!0,this.directionFunction=this.handleNW):e.target.hasAttribute("class")&&e.target.getAttribute("class").split(" ").indexOf("handle-ne")>-1?this.gridster.$options.dirType===ke.RTL?(this.resizeEventScrollType.n=!0,this.resizeEventScrollType.w=!0,this.directionFunction=this.handleNW):(this.resizeEventScrollType.n=!0,this.resizeEventScrollType.e=!0,this.directionFunction=this.handleNE):e.target.hasAttribute("class")&&e.target.getAttribute("class").split(" ").indexOf("handle-sw")>-1?this.gridster.$options.dirType===ke.RTL?(this.resizeEventScrollType.s=!0,this.resizeEventScrollType.e=!0,this.directionFunction=this.handleSE):(this.resizeEventScrollType.s=!0,this.resizeEventScrollType.w=!0,this.directionFunction=this.handleSW):e.target.hasAttribute("class")&&e.target.getAttribute("class").split(" ").indexOf("handle-se")>-1&&(this.gridster.$options.dirType===ke.RTL?(this.resizeEventScrollType.s=!0,this.resizeEventScrollType.w=!0,this.directionFunction=this.handleSW):(this.resizeEventScrollType.s=!0,this.resizeEventScrollType.e=!0,this.directionFunction=this.handleSE)))}dragMove(e){e.stopPropagation(),e.preventDefault(),ye.checkTouchEvent(e),this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,Ny(this.gridster,this.left,this.top,this.width,this.height,e,this.lastMouse,this.directionFunction.bind(this),!0,this.resizeEventScrollType);const t=this.gridster.options.scale||1;this.directionFunction({clientX:this.originalClientX+(e.clientX-this.originalClientX)/t,clientY:this.originalClientY+(e.clientY-this.originalClientY)/t}),this.lastMouse.clientX=e.clientX,this.lastMouse.clientY=e.clientY,this.zone.run(()=>{this.gridster.updateGrid()})}dragStop(e){e.stopPropagation(),e.preventDefault(),ky(),this.mousemove(),this.mouseup(),this.mouseleave(),this.cancelOnBlur(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.gridster.options.resizable&&this.gridster.options.resizable.stop?Promise.resolve(this.gridster.options.resizable.stop(this.gridsterItem.item,this.gridsterItem,e)).then(this.makeResize.bind(this),this.cancelResize.bind(this)):this.makeResize(),setTimeout(()=>{this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-resizing"),this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())})}cancelResize(){this.gridsterItem.$item.cols=this.gridsterItem.item.cols||1,this.gridsterItem.$item.rows=this.gridsterItem.item.rows||1,this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push.restoreItems(),this.pushResize.restoreItems(),this.push.destroy(),delete this.push,this.pushResize.destroy(),delete this.pushResize}makeResize(){this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push.setPushedItems(),this.pushResize.setPushedItems(),this.push.destroy(),delete this.push,this.pushResize.destroy(),delete this.pushResize}handleN(e){if(this.top=e.clientY+this.offsetTop-this.diffTop,this.height=this.bottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight,this.top=this.bottom-this.minHeight),this.newPosition=this.gridster.pixelsToPositionY(this.top+this.margin,Math.floor),this.gridsterItem.$item.y!==this.newPosition){if(this.itemBackup[1]=this.gridsterItem.$item.y,this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows+=this.gridsterItem.$item.y-this.newPosition,this.gridsterItem.$item.y=this.newPosition,this.pushResize.pushItems(this.pushResize.fromSouth),this.push.pushItems(this.push.fromSouth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.y=this.itemBackup[1],this.gridsterItem.$item.rows=this.itemBackup[3],this.setItemTop(this.gridster.positionYToPixels(this.gridsterItem.$item.y)),void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemTop(this.top),this.setItemHeight(this.height)}handleW(e){if(this.left=(this.gridster.$options.dirType===ke.RTL?this.originalClientX+(this.originalClientX-e.clientX):e.clientX)+this.offsetLeft-this.diffLeft,this.width=this.right-this.left,this.minWidth>this.width&&(this.width=this.minWidth,this.left=this.right-this.minWidth),this.newPosition=this.gridster.pixelsToPositionX(this.left+this.margin,Math.floor),this.gridsterItem.$item.x!==this.newPosition){if(this.itemBackup[0]=this.gridsterItem.$item.x,this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols+=this.gridsterItem.$item.x-this.newPosition,this.gridsterItem.$item.x=this.newPosition,this.pushResize.pushItems(this.pushResize.fromEast),this.push.pushItems(this.push.fromEast,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.x=this.itemBackup[0],this.gridsterItem.$item.cols=this.itemBackup[2],this.setItemLeft(this.gridster.positionXToPixels(this.gridsterItem.$item.x)),void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemLeft(this.left),this.setItemWidth(this.width)}handleS(e){if(this.height=e.clientY+this.offsetTop-this.diffBottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight),this.bottom=this.top+this.height,this.newPosition=this.gridster.pixelsToPositionY(this.bottom,Math.ceil),this.gridsterItem.$item.y+this.gridsterItem.$item.rows!==this.newPosition){if(this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows=this.newPosition-this.gridsterItem.$item.y,this.pushResize.pushItems(this.pushResize.fromNorth),this.push.pushItems(this.push.fromNorth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.rows=this.itemBackup[3],void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemHeight(this.height)}handleE(e){if(this.width=(this.gridster.$options.dirType===ke.RTL?this.originalClientX+(this.originalClientX-e.clientX):e.clientX)+this.offsetLeft-this.diffRight-this.left,this.minWidth>this.width&&(this.width=this.minWidth),this.right=this.left+this.width,this.newPosition=this.gridster.pixelsToPositionX(this.right,Math.ceil),this.gridsterItem.$item.x+this.gridsterItem.$item.cols!==this.newPosition){if(this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols=this.newPosition-this.gridsterItem.$item.x,this.pushResize.pushItems(this.pushResize.fromWest),this.push.pushItems(this.push.fromWest,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.cols=this.itemBackup[2],void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemWidth(this.width)}handleNW(e){this.handleN(e),this.handleW(e)}handleNE(e){this.handleN(e),this.handleE(e)}handleSW(e){this.handleS(e),this.handleW(e)}handleSE(e){this.handleS(e),this.handleE(e)}toggle(){this.resizeEnabled=this.gridsterItem.canBeResized()}dragStartDelay(e){if(ye.checkTouchEvent(e),!this.gridster.$options.resizable.delayStart)return void this.dragStart(e);const t=setTimeout(()=>{this.dragStart(e),u()},this.gridster.$options.resizable.delayStart),i=this.gridsterItem.renderer.listen("document","mouseup",u),r=this.gridsterItem.renderer.listen("document","mouseleave",u),s=this.gridsterItem.renderer.listen("window","blur",u),o=this.gridsterItem.renderer.listen("document","touchmove",function c(d){ye.checkTouchEvent(d),(Math.abs(d.clientX-e.clientX)>9||Math.abs(d.clientY-e.clientY)>9)&&u()}),a=this.gridsterItem.renderer.listen("document","touchend",u),l=this.gridsterItem.renderer.listen("document","touchcancel",u);function u(){clearTimeout(t),s(),i(),r(),o(),a(),l()}}setItemTop(e){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,e)}setItemLeft(e){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,e,this.top)}setItemHeight(e){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",e+"px")}setItemWidth(e){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",e+"px")}}let eA=(()=>{class n{constructor(t,i,r,s){this.renderer=r,this.zone=s,this.itemInit=new ve,this.itemChange=new ve,this.itemResize=new ve,this.el=t.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=i,this.drag=new J2(this,i,this.zone),this.resize=new K2(this,i,this.zone)}get zIndex(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}ngOnInit(){this.gridster.addItem(this)}ngOnChanges(t){t.item&&(this.updateOptions(),this.init||this.gridster.calculateLayoutDebounce()),t.item&&t.item.previousValue&&this.setSize()}updateOptions(){this.$item=ye.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0})}ngOnDestroy(){this.gridster.removeItem(this),delete this.gridster,this.drag.destroy(),delete this.drag,this.resize.destroy(),delete this.resize}setSize(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}updateItemSize(){const i=this.$item.x*this.gridster.curColWidth,r=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,s=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=this.$item.y*this.gridster.curRowHeight,this.left=i,!this.init&&r>0&&s>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),(r!==this.width||s!==this.height)&&(this.width=r,this.height=s,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}itemChanged(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}checkItemChanges(t,i){t.rows===i.rows&&t.cols===i.cols&&t.x===i.x&&t.y===i.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=i.x||0,this.$item.y=i.y||0,this.$item.cols=i.cols||1,this.$item.rows=i.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayoutDebounce(),this.itemChanged()))}canBeDragged(){const t=this.gridster.$options.draggable.enabled;return!this.gridster.mobile&&t&&(void 0===this.$item.dragEnabled?t:this.$item.dragEnabled)}canBeResized(){const t=this.gridster.$options.resizable.enabled;return!this.gridster.mobile&&t&&(void 0===this.$item.resizeEnabled?t:this.$item.resizeEnabled)}bringToFront(t){if(t&&t<=0)return;const i=this.getLayerIndex(),r=this.gridster.$options.maxLayerIndex;if(i<r){const s=t?i+t:r;this.item.layerIndex=this.$item.layerIndex=s>r?r:s}}sendToBack(t){if(t&&t<=0)return;const i=this.getLayerIndex();if(i>0){const r=t?i-t:0;this.item.layerIndex=this.$item.layerIndex=r<0?0:r}}getLayerIndex(){return void 0!==this.item.layerIndex?this.item.layerIndex:void 0!==this.gridster.$options.defaultLayerIndex?this.gridster.$options.defaultLayerIndex:0}}return n.\u0275fac=function(t){return new(t||n)(b($t),b(xy),b(pr),b(Le))},n.\u0275cmp=q({type:n,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(t,i){2&t&&ze("z-index",i.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},features:[Fn],ngContentSelectors:Ay,decls:9,vars:8,consts:[["class","gridster-item-resizable-handler handle-s",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-e",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-n",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-w",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-se",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-ne",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-sw",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-nw",3,"mousedown","touchstart",4,"ngIf"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(t,i){1&t&&(Bn(),Hn(0),S(1,R2,1,0,"div",0),S(2,z2,1,0,"div",1),S(3,j2,1,0,"div",2),S(4,U2,1,0,"div",3),S(5,B2,1,0,"div",4),S(6,H2,1,0,"div",5),S(7,V2,1,0,"div",6),S(8,$2,1,0,"div",7)),2&t&&(C(1),y("ngIf",i.gridster.$options.resizable.handles.s&&i.resize.resizeEnabled),C(1),y("ngIf",i.gridster.$options.resizable.handles.e&&i.resize.resizeEnabled),C(1),y("ngIf",i.gridster.$options.resizable.handles.n&&i.resize.resizeEnabled),C(1),y("ngIf",i.gridster.$options.resizable.handles.w&&i.resize.resizeEnabled),C(1),y("ngIf",i.gridster.$options.resizable.handles.se&&i.resize.resizeEnabled),C(1),y("ngIf",i.gridster.$options.resizable.handles.ne&&i.resize.resizeEnabled),C(1),y("ngIf",i.gridster.$options.resizable.handles.sw&&i.resize.resizeEnabled),C(1),y("ngIf",i.gridster.$options.resizable.handles.nw&&i.resize.resizeEnabled))},dependencies:[Re],styles:["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:white;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}\n"],encapsulation:2}),n})(),jy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=at({type:n}),n.\u0275inj=Ke({imports:[[An]]}),n})(),qc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=at({type:n}),n.\u0275inj=Ke({imports:[An]}),n})();class Uy{constructor(e){if(e)throw new Error(`${e.constructor.name} has already been loaded. Import this module in the AppModule only.`)}}let Yn=(()=>{class n{constructor(){this.notify=()=>{throw new Error("Growl service is not propelly initialized yet.")}}growl(t,i){return this.notify(t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Jt=(()=>(function(n){n[n.Success=0]="Success",n[n.Danger=1]="Danger",n[n.Warning=2]="Warning",n[n.Info=3]="Info"}(Jt||(Jt={})),Jt))();let By=(()=>{class n extends Uy{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(N(n,12))},n.\u0275mod=at({type:n}),n.\u0275inj=Ke({providers:[Yn],imports:[An]}),n})(),tA=(()=>{class n extends Uy{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(N(n,12))},n.\u0275mod=at({type:n}),n.\u0275inj=Ke({imports:[An,jy,Ty,qc,By,jy,Ty,qc,By]}),n})(),nA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=at({type:n}),n.\u0275inj=Ke({imports:[An,An]}),n})();var Kc,k=(()=>(function(n){n[n.RegularLayer=1]="RegularLayer",n[n.TextLayer=2]="TextLayer",n[n.FillLayer=3]="FillLayer",n[n.AdjustmentLayer=4]="AdjustmentLayer",n[n.GroupLayer=5]="GroupLayer",n[n.SmartObjectLayer=6]="SmartObjectLayer"}(k||(k={})),k))();!function(n){n.enumSelector=function e(s){return Object.keys(s).map(a=>({value:s[a],title:a})).filter(a=>"number"==typeof a.value)},n.getFolderAndFileFromUrl=function t(){let o=new URL(window.location.href).pathname.split("/"),a=0,l="",c="";for(var u=o.length-1;u>0;u--)if(""!=o[u].trim()&&(a++,1==a&&(c=o[u]),2==a))return l=o[u],[l,c];throw new Error("Can not obtain Folder and File from url")},n.deepClone=function i(s){let o;if(null==s||"object"!=typeof s)return s;if(s instanceof Date)return o=new Date,o.setTime(s.getTime()),o;if(s instanceof Array){o=[];for(let a=0,l=s.length;a<l;a++)o[a]=i(s[a]);return o}if(s instanceof Object){let a={};for(let l in s)s.hasOwnProperty(l)&&(a[l]=i(s[l]));return a}throw new Error("Unable to copy obj! Its type isn't supported.")},n.deepCopy=function r(s,o){if(null==s||"object"!=typeof s)return s;if(s instanceof Date)return o.setTime(s.getTime()),o;if(s instanceof Array){o.length=s.length;for(let a=0,l=s.length;a<l;a++)o[a]=r(s[a],o[a]);return o}if(s instanceof Object){for(let a in s)o.hasOwnProperty(a)&&(o[a]=r(s[a],o[a]));return o}throw new Error("Unable to copy obj! Its type isn't supported.")}}(Kc||(Kc={}));const No=Kc;class eu{constructor(){this._isTransactionOpen=!1,this.transactionMustBeOpenMessage="Transaction must be started to change transactable properties"}get startState(){return this._startState}get isTransactionOpen(){return this._isTransactionOpen}checkTransactionIsOpen(){if(!this.isTransactionOpen)throw new Error(this.transactionMustBeOpenMessage)}startTransaction(){if(this.isTransactionOpen)throw new Error("Can not start transaction. It's already opened");this._startState=No.deepClone(this),this._isTransactionOpen=!0}commitTransaction(){if(!this.isTransactionOpen)throw new Error("Cannot save changes, transaction wasn't open");this._startState={},this._isTransactionOpen=!1}revertTransaction(){if(!this.isTransactionOpen)throw new Error("Cannot revert changes, transaction wasn't open");No.deepCopy(this._startState,this),this._startState={},this._isTransactionOpen=!1}}var tu;!function(n){n.Event=class e{constructor(){this.handlers=[]}on(i){this.handlers.push(i)}off(i){this.handlers=this.handlers.filter(r=>r!==i)}trigger(i,r){this.handlers.slice(0).forEach(s=>s(i,r))}clear(){this.handlers=[]}expose(){return this}}}(tu||(tu={}));const bt=tu;var Lo=(()=>(function(n){n[n.Normal=1852797549]="Normal",n[n.Darken=1684107883]="Darken",n[n.Lighten=1818850405]="Lighten",n[n.Hue=1752524064]="Hue",n[n.Saturation=1935766560]="Saturation",n[n.Color=1668246642]="Color",n[n.Luminosity=1819634976]="Luminosity",n[n.Multiply=1836411936]="Multiply",n[n.Screen=1935897198]="Screen",n[n.Dissolve=1684632435]="Dissolve",n[n.Overlay=1870030194]="Overlay",n[n.HardLight=1749838196]="HardLight",n[n.SoftLight=1934387572]="SoftLight",n[n.Difference=1684629094]="Difference",n[n.Exclusion=1936553316]="Exclusion",n[n.ColorDodge=1684633120]="ColorDodge",n[n.ColorBurn=1768188278]="ColorBurn",n[n.LinearBurn=1818391150]="LinearBurn",n[n.LinearDodge=1818518631]="LinearDodge",n[n.VividLight=1984719220]="VividLight",n[n.LinearLight=1816947060]="LinearLight",n[n.PinLight=1884055924]="PinLight",n[n.HardMix=1749903736]="HardMix",n[n.PassThrough=1885434739]="PassThrough",n[n.DarkerColor=1684751212]="DarkerColor",n[n.LighterColor=1818706796]="LighterColor",n[n.Subtract=1718842722]="Subtract",n[n.Divide=1717856630]="Divide",n[n.Absent=0]="Absent"}(Lo||(Lo={})),Lo))();class iA{constructor(){this.styles=new Array,this.opacity=255,this.blendingType=Lo.Normal}}class Hy extends eu{constructor(e,t,i,r,s,o){super(),this._id=e,this._name=t,this._position=i,this._size=r,this._isVisible=s,this._isClipping=o,this.transactionMustBeOpenMessage="Transaction must be started to change properties of the layer",this._isSelected=!1,this._dependants=[],this._needServerUpdate=!1,this._blendingOptions=new iA,this._onDelete=new bt.Event,this._onSelect=new bt.Event,this._onDeselect=new bt.Event,this._onChange=new bt.Event}get blendingOptions(){return this._blendingOptions}get isClipping(){return this._isClipping}set isClipping(e){this.checkTransactionIsOpen(),this._isClipping=e,this._needServerUpdate=!0}get id(){return this._id}get name(){return this._name}set name(e){this.checkTransactionIsOpen(),this._name=e}get isVisible(){return this._isVisible}set isVisible(e){this.checkTransactionIsOpen(),e!=this._isVisible&&(this._isVisible=e,this._needServerUpdate=!0)}get positionX(){return this._position.x}get positionY(){return this._position.y}set positionX(e){this.checkTransactionIsOpen(),this._position.x=e}set positionY(e){this.checkTransactionIsOpen(),this._position.y=e}get sizeX(){return this._size.x}get sizeY(){return this._size.y}set sizeX(e){this.checkTransactionIsOpen(),this._size.x=Math.min(3e4,Math.max(1,e)),this._needServerUpdate=!0}set sizeY(e){this.checkTransactionIsOpen(),this._size.y=Math.min(3e4,Math.max(1,e)),this._needServerUpdate=!0}set size(e){this.checkTransactionIsOpen(),this._needServerUpdate=!0,this._size.x=Math.min(3e4,Math.max(1,e.width)),this._size.y=Math.min(3e4,Math.max(1,e.height))}set position(e){this.checkTransactionIsOpen(),this._position.x=e.x,this._position.y=e.y}get dependants(){return this._dependants}set dependants(e){this._dependants=e}set isSelected(e){this._isSelected=e,e?this._onSelect.trigger(this,this):this._onDeselect.trigger(this,this)}get isSelected(){return this._isSelected}resize(e){this.checkTransactionIsOpen(),this._needServerUpdate=!0;const t=this.startState;this._size.x=Math.min(3e4,Math.max(1,Math.round(t._size.x/e.x))),this._size.y=Math.min(3e4,Math.max(1,Math.round(t._size.y/e.y))),this._position.x=Math.round(t._position.x/e.x),this._position.y=Math.round(t._position.y/e.y),console.info(this.name+": layer resize",t._position,t._size,this._position,this._size)}setOnDeleteHandler(e){this._onDelete.on(e)}setOnChangedHandler(e){this._onChange.on(e)}setOnSelectHandler(e){this._onSelect.on(e)}setOnDeselectHandler(e){this._onDeselect.on(e)}Delete(){this._onDelete.trigger(this),this._onDelete.clear(),this._needServerUpdate=!0}processChanges(){this._onChange.trigger(this,this)}startTransaction(){super.startTransaction()}commitTransaction(){super.commitTransaction(),this.dependants.length>0&&this._needServerUpdate&&(console.log("PROCESSING CHANGES THROUGH SERVER"),this.processChanges()),this._needServerUpdate=!1}revertTransaction(){super.revertTransaction(),this._needServerUpdate=!1}}class Zr extends Hy{constructor(e,t,i,r,s,o){super(e,t,i,r,s,o),this._imageId=e}get imageId(){return this._imageId}set imageId(e){this._imageId=e}updateImageIdUsingServer(e){this.imageId=e,this.dependants.length>0&&(console.log("PROCESSING REPLACEMENT"),this.processChanges())}}class Vy extends Zr{constructor(e,t,i,r,s,o,a){super(e,t,i,r,s,o),this.adjustmentLayerType=a}get type(){return k.AdjustmentLayer}}var Ve=(()=>(function(n){n[n.Unknown=0]="Unknown",n[n.BrightnessContrast=1]="BrightnessContrast",n[n.Levels=2]="Levels",n[n.Curves=3]="Curves",n[n.Exposure=4]="Exposure",n[n.Vibrance=5]="Vibrance",n[n.HueSaturation=6]="HueSaturation",n[n.ColorBalance=7]="ColorBalance",n[n.BlackAndWhite=8]="BlackAndWhite",n[n.PhotoFilter=9]="PhotoFilter",n[n.ChannelMixer=10]="ChannelMixer",n[n.Invert=11]="Invert",n[n.Posterize=12]="Posterize",n[n.Threshold=13]="Threshold",n[n.GradientMap=14]="GradientMap",n[n.SelectiveColor=15]="SelectiveColor"}(Ve||(Ve={})),Ve))();class Sn extends Zr{static createDefault(){return new Sn("","stub",{x:0,y:0},{x:0,y:0},!1,!1)}get type(){return k.RegularLayer}}class Ui{constructor(e,t,i){this._resourcePath="",this._positionInResource={x:0,y:0},this._boundsInResource={width:0,height:0},this._resourcePath=e,this._positionInResource=t,this._boundsInResource=i}get resourcePath(){return this._resourcePath}get positionInResource(){return this._positionInResource}get sizeInResource(){return this._boundsInResource}}let $y=(()=>{class n{constructor(){this.modals=[]}add(t){this.modals.push(t)}remove(t){this.modals=this.modals.filter(i=>i.id!==t)}open(t){const i=this.modals.find(r=>r.id===t);if(!i)throw new Error("Cannot find the modal with id: "+t);i.open()}close(t){this.modals.find(r=>r.id===t).close()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gy(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function te(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){Gy(s,i,r,o,a,"next",l)}function a(l){Gy(s,i,r,o,a,"throw",l)}o(void 0)})}}function Yy(n){return nu.apply(this,arguments)}function nu(){return nu=te(function*(n){return new Promise((e,t)=>{var i=new Image;i.onerror=r=>t(r),i.onload=r=>{e({x:r.currentTarget.width,y:r.currentTarget.height})},i.src=n})}),nu.apply(this,arguments)}var iu,pn=(()=>(function(n){n[n.NotLoaded=0]="NotLoaded",n[n.LoadedLocally=1]="LoadedLocally",n[n.LoadedToServer=2]="LoadedToServer"}(pn||(pn={})),pn))();class Wy{constructor(e,t,i){var r=this;this._api=e,this._logger=t,this._state=pn.NotLoaded,this._resourcePath="",this._positionInResource={x:0,y:0},this._sizeInResource={width:100,height:100},this.loadImageLocally(i).then(()=>t.log("DataUrl Image Loaded Locally"+this._state));let s=this.dataURLtoFile(i);this._progress=this._api.upload(s),this._ready=new Promise(function(){var o=te(function*(a,l){r._progress.Done.catch(c=>l(c)),r._progress.Done.then(function(){var c=te(function*(u){yield r.uploadAndPrepareFile(s,u[0],u[1]),t.log(s.name+" uploadAndPrepareFile promise finished: "+r._state),a(r._state)});return function(u){return c.apply(this,arguments)}}())});return function(a,l){return o.apply(this,arguments)}}())}get resourcePath(){switch(this._state){case pn.LoadedLocally:case pn.LoadedToServer:return this._resourcePath;default:return"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgd2lkdGg9IjIwMCIKICAgaGVpZ2h0PSIyMDAiCiAgIHZpZXdCb3g9IjAgMCA1Mi45MTY2NjYgNTIuOTE2NjY2IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczMyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4wLjEgKDNiYzJlODEzZjUsIDIwMjAtMDktMDcpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJsb2FkaW5nX2JhY2suc3ZnIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzMjciPgogICAgPHBhdHRlcm4KICAgICAgIGlua3NjYXBlOmNvbGxlY3Q9ImFsd2F5cyIKICAgICAgIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiCiAgICAgICB3aWR0aD0iMiIKICAgICAgIGhlaWdodD0iMiIKICAgICAgIHBhdHRlcm5UcmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIHNjYWxlKDEwLDEwKSIKICAgICAgIGlkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTpzdG9ja2lkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTppc3N0b2NrPSJ0cnVlIj4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjAiCiAgICAgICAgIHk9IjAiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzNiIgLz4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjEiCiAgICAgICAgIHk9IjEiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzOCIgLz4KICAgIDwvcGF0dGVybj4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjIuOCIKICAgICBpbmtzY2FwZTpjeD0iNjQuODcyMzU3IgogICAgIGlua3NjYXBlOmN5PSIxMDUuMzU3ODQiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9Im1tIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC1yb3RhdGlvbj0iMCIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgdW5pdHM9InB4IgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDE3IgogICAgIGlua3NjYXBlOndpbmRvdy14PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIgLz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGEzMCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0i0KHQu9C+0LkgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOnVybCgjQ2hlY2tlcmJvYXJkKTtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2Utd2lkdGg6MS41OTAwODtvcGFjaXR5OjAuMiIKICAgICAgIGlkPSJyZWN0NjgiCiAgICAgICB3aWR0aD0iNTAiCiAgICAgICBoZWlnaHQ9IjUwIgogICAgICAgeD0iLTUuOTc1NzgzNGUtMDkiCiAgICAgICB5PSIwIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMTAuODk1ODUsMjkuMTMzMzAyIEggNi4wMjc5NDU3IHYgLTcuNjk0NTk2IGggMS4wMjMxOSBWIDI4LjIyMzggSCAxMC44OTU4NSBaIgogICAgICAgaWQ9InBhdGgxNiIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0ibSAxNi43NjExMDYsMjYuMjQ5NzY2IHEgMCwxLjQxMDc2MyAtMC43MjM0NjgsMi4yMjcyNDggLTAuNzIzNDY3LDAuODE2NDg1IC0xLjkzNzg2LDAuODE2NDg1IC0xLjIyNDcyNywwIC0xLjk0ODE5NSwtMC44MTY0ODUgLTAuNzE4MywtMC44MTY0ODUgLTAuNzE4MywtMi4yMjcyNDggMCwtMS40MTA3NjIgMC43MTgzLC0yLjIyNzI0NyAwLjcyMzQ2OCwtMC44MjE2NTIgMS45NDgxOTUsLTAuODIxNjUyIDEuMjE0MzkzLDAgMS45Mzc4NiwwLjgyMTY1MiAwLjcyMzQ2OCwwLjgxNjQ4NSAwLjcyMzQ2OCwyLjIyNzI0NyB6IG0gLTEuMDAyNTE5LDAgcSAwLC0xLjEyMTM3NSAtMC40MzkyNDksLTEuNjYzOTc1IC0wLjQzOTI0OCwtMC41NDc3NjkgLTEuMjE5NTYsLTAuNTQ3NzY5IC0wLjc5MDY0NiwwIC0xLjIyOTg5NSwwLjU0Nzc2OSAtMC40MzQwOCwwLjU0MjYgLTAuNDM0MDgsMS42NjM5NzUgMCwxLjA4NTIwMiAwLjQzOTI0OCwxLjY0ODQ3MyAwLjQzOTI0OCwwLjU1ODEwNCAxLjIyNDcyNywwLjU1ODEwNCAwLjc3NTE0NCwwIDEuMjE0MzkzLC0wLjU1MjkzNiAwLjQ0NDQxNiwtMC41NTgxMDQgMC40NDQ0MTYsLTEuNjUzNjQxIHoiCiAgICAgICBpZD0icGF0aDE4IgogICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MTAuNTgzM3B4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjt3aGl0ZS1zcGFjZTpwcmU7c2hhcGUtaW5zaWRlOnVybCgjcmVjdDEyKTtmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjAuNTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MSIgLz4KICAgIDxwYXRoCiAgICAgICBkPSJNIDIyLjc1MDM4NiwyOS4xMzMzMDIgSCAyMS43ODQwNCB2IC0wLjYxNDk0NyBxIC0wLjEyOTE5MSwwLjA4Nzg1IC0wLjM1MTM5OSwwLjI0ODA0NiAtMC4yMTcwNCwwLjE1NTAyOSAtMC40MjM3NDUsMC4yNDgwNDYgLTAuMjQyODc5LDAuMTE4ODU1IC0wLjU1ODEwNCwwLjE5NjM3IC0wLjMxNTIyNSwwLjA4MjY4IC0wLjczODk3MSwwLjA4MjY4IC0wLjc4MDMxMSwwIC0xLjMyMjkxMiwtMC41MTY3NjMgLTAuNTQyNjAxLC0wLjUxNjc2MyAtMC41NDI2MDEsLTEuMzE3NzQ1IDAsLTAuNjU2Mjg4IDAuMjc5MDUyLC0xLjA1OTM2MyAwLjI4NDIxOSwtMC40MDgyNDMgMC44MDYxNSwtMC42NDA3ODYgMC41MjcwOTgsLTAuMjMyNTQzIDEuMjY2MDY4LC0wLjMxNTIyNSAwLjczODk3MSwtMC4wODI2OCAxLjU4NjQ2MiwtMC4xMjQwMjMgViAyNS4xNjk3MyBxIDAsLTAuMzMwNzI4IC0wLjExODg1NiwtMC41NDc3NjggLTAuMTEzNjg4LC0wLjIxNzA0IC0wLjMzMDcyOCwtMC4zNDEwNjMgLTAuMjA2NzA1LC0wLjExODg1NiAtMC40OTYwOTIsLTAuMTYwMTk3IC0wLjI4OTM4NywtMC4wNDEzNCAtMC42MDQ2MTIsLTAuMDQxMzQgLTAuMzgyNDA1LDAgLTAuODUyNjU5LDAuMTAzMzUzIC0wLjQ3MDI1NCwwLjA5ODE5IC0wLjk3MTUxNCwwLjI4OTM4NyBoIC0wLjA1MTY4IHYgLTAuOTg3MDE3IHEgMC4yODQyMiwtMC4wNzc1MSAwLjgyMTY1MywtMC4xNzA1MzIgMC41Mzc0MzMsLTAuMDkzMDIgMS4wNTkzNjMsLTAuMDkzMDIgMC42MDk3OCwwIDEuMDU5MzY0LDAuMTAzMzUzIDAuNDU0NzUxLDAuMDk4MTkgMC43ODU0NzksMC4zNDEwNjMgMC4zMjU1NjEsMC4yMzc3MTEgMC40OTYwOTIsMC42MTQ5NDggMC4xNzA1MzIsMC4zNzcyMzYgMC4xNzA1MzIsMC45MzUzNCB6IE0gMjEuNzg0MDQsMjcuNzEyMjA1IHYgLTEuNjA3MTMyIHEgLTAuNDQ0NDE2LDAuMDI1ODQgLTEuMDQ5MDI5LDAuMDc3NTEgLTAuNTk5NDQ0LDAuMDUxNjggLTAuOTUwODQzLDAuMTQ5ODYyIC0wLjQxODU3OCwwLjExODg1NSAtMC42NzY5NTksMC4zNzIwNjkgLTAuMjU4MzgxLDAuMjQ4MDQ2IC0wLjI1ODM4MSwwLjY4NzI5NCAwLDAuNDk2MDkyIDAuMjk5NzIyLDAuNzQ5MzA2IDAuMjk5NzIyLDAuMjQ4MDQ2IDAuOTE0NjcsMC4yNDgwNDYgMC41MTE1OTUsMCAwLjkzNTM0LC0wLjE5NjM3IDAuNDIzNzQ2LC0wLjIwMTUzNyAwLjc4NTQ4LC0wLjQ4MDU4OSB6IgogICAgICAgaWQ9InBhdGgyMCIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0iTSAyOS4zMDI5MzYsMjkuMTMzMzAyIEggMjguMzMxNDIyIFYgMjguNTI4NjkgcSAtMC40MTg1NzgsMC4zNjE3MzQgLTAuODczMzI5LDAuNTYzMjcxIC0wLjQ1NDc1MSwwLjIwMTUzOCAtMC45ODcwMTcsMC4yMDE1MzggLTEuMDMzNTI1LDAgLTEuNjQzMzA1LC0wLjc5NTgxNSAtMC42MDQ2MTIsLTAuNzk1ODE0IC0wLjYwNDYxMiwtMi4yMDY1NzYgMCwtMC43MzM4MDMgMC4yMDY3MDUsLTEuMzA3NDEgMC4yMTE4NzMsLTAuNTczNjA3IDAuNTY4NDM5LC0wLjk3NjY4MiAwLjM1MTM5OCwtMC4zOTI3MzkgMC44MTY0ODUsLTAuNTk5NDQ0IDAuNDcwMjU0LC0wLjIwNjcwNSAwLjk3MTUxNCwtMC4yMDY3MDUgMC40NTQ3NTEsMCAwLjgwNjE0OSwwLjA5ODE5IDAuMzUxMzk5LDAuMDkzMDIgMC43Mzg5NzEsMC4yOTQ1NTQgViAyMS4wOTI0OCBoIDAuOTcxNTE0IHogbSAtMC45NzE1MTQsLTEuNDIxMDk3IHYgLTMuMzEyNDQ5IHEgLTAuMzkyNzQsLTAuMTc1Njk5IC0wLjcwMjc5NywtMC4yNDI4NzggLTAuMzEwMDU4LC0wLjA2NzE4IC0wLjY3Njk1OSwtMC4wNjcxOCAtMC44MTY0ODUsMCAtMS4yNzEyMzYsMC41Njg0MzggLTAuNDU0NzUyLDAuNTY4NDM5IC0wLjQ1NDc1MiwxLjYxMjMgMCwxLjAyODM1OCAwLjM1MTM5OSwxLjU2NTc5MSAwLjM1MTM5OSwwLjUzMjI2NSAxLjEyNjU0MywwLjUzMjI2NSAwLjQxMzQxLDAgMC44MzcxNTUsLTAuMTgwODY2IDAuNDIzNzQ2LC0wLjE4NjAzNSAwLjc5MDY0NywtMC40NzU0MjEgeiIKICAgICAgIGlkPSJwYXRoMjIiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMzIuMjU4ODE4LDIyLjM5NDcxNyBIIDMxLjE2MzI4MSBWIDIxLjM4NzAzIGggMS4wOTU1MzcgeiBtIC0wLjA2MjAxLDYuNzM4NTg1IGggLTAuOTcxNTE0IHYgLTUuNzcyMjM5IGggMC45NzE1MTQgeiIKICAgICAgIGlkPSJwYXRoMjQiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Im0gMzguOTQ1NzI5LDI5LjEzMzMwMiBoIC0wLjk3MTUxMyB2IC0zLjI4NjYxIHEgMCwtMC4zOTc5MDggLTAuMDQ2NTEsLTAuNzQ0MTM5IC0wLjA0NjUxLC0wLjM1MTM5OCAtMC4xNzA1MzMsLTAuNTQ3NzY4IC0wLjEyOTE5MSwtMC4yMTcwNCAtMC4zNzIwNjgsLTAuMzIwMzkzIC0wLjI0Mjg4LC0wLjEwODUyIC0wLjYzMDQ1MiwtMC4xMDg1MiAtMC4zOTc5MDcsMCAtMC44MzE5ODgsMC4xOTYzNyAtMC40MzQwOCwwLjE5NjM3IC0wLjgzMTk4NywwLjUwMTI2IHYgNC4zMDk4IGggLTAuOTcxNTE2IHYgLTUuNzcyMjM5IGggMC45NzE1MTYgdiAwLjY0MDc4NiBxIDAuNDU0NzUsLTAuMzc3MjM3IDAuOTQwNTA2LC0wLjU4OTExIDAuNDg1NzU5LC0wLjIxMTg3MiAwLjk5NzM1MywtMC4yMTE4NzIgMC45MzUzNDEsMCAxLjQyNjI2NSwwLjU2MzI3MSAwLjQ5MDkyNywwLjU2MzI3MSAwLjQ5MDkyNywxLjYyMjYzNSB6IgogICAgICAgaWQ9InBhdGgyNiIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0ibSA0NS40OTgyOCwyOC40NzcwMTQgcSAwLDEuNDY3NjA2IC0wLjY2NjYyNSwyLjE1NDkgLTAuNjY2NjIzLDAuNjg3Mjk0IC0yLjA1MTU0OCwwLjY4NzI5NCAtMC40NTk5MiwwIC0wLjg5OTE2OCwtMC4wNjcxOCAtMC40MzQwNzgsLTAuMDYyMDEgLTAuODU3ODI0LC0wLjE4MDg2NyB2IC0wLjk5MjE4NCBoIDAuMDUxNjggcSAwLjIzNzcxMiwwLjA5MzAyIDAuNzU0NDc1LDAuMjI3Mzc2IDAuNTE2NzYzLDAuMTM5NTI1IDEuMDMzNTIzLDAuMTM5NTI1IDAuNDk2MDk0LDAgMC44MjE2NTMsLTAuMTE4ODU1IDAuMzI1NTYyLC0wLjExODg1NSAwLjUwNjQyOCwtMC4zMzA3MjggMC4xODA4NjcsLTAuMjAxNTM4IDAuMjU4MzgyLC0wLjQ4NTc1NyAwLjA3NzUxLC0wLjI4NDIxOSAwLjA3NzUxLC0wLjYzNTYxOCB2IC0wLjUyNzA5OCBxIC0wLjQzOTI0OCwwLjM1MTM5OSAtMC44NDIzMjMsMC41MjcwOTggLTAuMzk3OTA2LDAuMTcwNTMyIC0xLjAxODAyNCwwLjE3MDUzMiAtMS4wMzM1MjMsMCAtMS42NDMzMDMsLTAuNzQ0MTM5IC0wLjYwNDYxMiwtMC43NDkzMDYgLTAuNjA0NjEyLC0yLjEwODM5MSAwLC0wLjc0NDEzOSAwLjIwNjcwNSwtMS4yODE1NzIgMC4yMTE4NzMsLTAuNTQyNjAxIDAuNTczNjA2LC0wLjkzNTM0IDAuMzM1ODk0LC0wLjM2NjkwMiAwLjgxNjQ4MywtMC41Njg0MzkgMC40ODA1OTIsLTAuMjA2NzA1IDAuOTU2MDExLC0wLjIwNjcwNSAwLjUwMTI2MSwwIDAuODM3MTU4LDAuMTAzMzUyIDAuMzQxMDY0LDAuMDk4MTkgMC43MTgyOTksMC4zMDQ4OSBsIDAuMDYyMDEsLTAuMjQ4MDQ2IGggMC45MDk1MDMgeiBNIDQ0LjUyNjc2NSwyNy41NDY4NDEgViAyNC4zOTk3NTYgUSA0NC4xMzkxOTIsMjQuMjI0MDU3IDQzLjgwMzI5OSwyNC4xNTE3MSA0My40NzI1NjksMjQuMDc0MiA0My4xNDE4NCwyNC4wNzQyIHEgLTAuODAwOTgxLDAgLTEuMjYwOTAxLDAuNTM3NDMzIC0wLjQ1OTkxNywwLjUzNzQzMyAtMC40NTk5MTcsMS41NjA2MjMgMCwwLjk3MTUxNCAwLjM0MTA2NCwxLjQ3Mjc3NCAwLjM0MTA2NCwwLjUwMTI2IDEuMTMxNzEsMC41MDEyNiAwLjQyMzc0MywwIDAuODQ3NDksLTAuMTYwMTk3IDAuNDI4OTEzLC0wLjE2NTM2NCAwLjc4NTQ3OSwtMC40MzkyNDggeiIKICAgICAgIGlkPSJwYXRoMjgiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}get positionInResource(){return this._state===pn.LoadedToServer?this._positionInResource:{x:0,y:0}}get sizeInResource(){return this._sizeInResource}get progress(){return this._progress}get ready(){return this._ready}uploadAndPrepareFile(e,t,i){var r=this;return te(function*(){r._resourcePath=r._api.getImageUrlFromFolderAndFileName(t,i),r._state=pn.LoadedToServer})()}loadImageLocally(e){var t=this;return te(function*(){t._resourcePath=e;const i=yield Yy(t._resourcePath);t._sizeInResource={width:i.x,height:i.y},t._state=pn.LoadedLocally})()}dataURLtoFile(e){let t=e.split(",");if(t&&t.length>0&&t[0]){let i="png",r=atob(t[1]),s=r.length,o=new Uint8Array(s);for(;s--;)o[s]=r.charCodeAt(s);return new File([o],"ClientGeneratedFile.png",{type:i})}throw new Error("Can not convert dataUrl to Png")}}!function(n){let e;var c;function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var u=16*Math.random()|0;return("x"==c?u:3&u|8).toString(16)})}(c=e=n.ImageFileType||(n.ImageFileType={}))[c.Unknown=0]="Unknown",c[c.Png=1]="Png",c[c.Jpeg=2]="Jpeg",c[c.Gif=3]="Gif",c[c.Tiff=4]="Tiff",c[c.Psd=5]="Psd",c[c.Bmp=6]="Bmp",n.getFileTypeFromExtension=function t(c){let d=c.name.toLowerCase().split(".");if(d.length>1)switch(d[d.length-1]){case"png":return e.Png;case"jpeg":case"jpg":return e.Jpeg;case"tiff":case"tif":return e.Tiff;case"gif":return e.Gif;case"psd":case"psb":return e.Psd;case"bmp":return e.Bmp}return e.Unknown},n.isTypeSupportedByBrowserNatively=function i(c){switch(c){case e.Bmp:case e.Gif:case e.Jpeg:case e.Png:return!0;default:return!1}},n.generateGuid=r,n.generateNewFileName=function s(c){if(!c.name||""===c.name)throw Error("Filename  can not be empty");let u=r(),d=c.name.split(".");return d.length>1?u+"."+d[d.length-1]:u},n.getDataUrlPrefixByType=function o(c){switch(c){case e.Png:return"data:image/png;base64,";case e.Jpeg:return"data:image/jpeg;base64,";case e.Gif:return"data:image/gif;base64,";case e.Bmp:return"data:image/bmp;base64,";case e.Tiff:return"data:image/tiff;base64,";case e.Psd:return"data:image/psd;base64,"}throw new Error("Unsupported Data Type")},n.fileTodataURL=function a(c){return new Promise((u,d)=>{const h=new FileReader;h.readAsDataURL(c),h.onload=()=>{u(h.result)},h.onerror=p=>{console.error("error",p),d(p)}})},n.dataURLtoFile=function l(c,u){var d=c.split(",");if(d){let h=d[0];if(h){let p=h.match(/:(.*?);/);if(p){let g=p[1],I=atob(d[1]),v=I.length,M=new Uint8Array(v);for(;v--;)M[v]=I.charCodeAt(v);return new File([M],u,{type:g})}}}throw new Error("Can not read file")}}(iu||(iu={}));const fn=iu;var ru;!function(n){n.getId=function e(l){return l.Id},n.getText=function t(l){return l.TypeSpecificProperties.Text},n.getPosition=function i(l){return{x:l.LayerBounds.X,y:l.LayerBounds.Y}},n.getPositionInResource=function r(l){return{x:l.TypeSpecificProperties.PositionInResource.X,y:l.TypeSpecificProperties.PositionInResource.Y}},n.getPath=function s(l){return l.TypeSpecificProperties.Path},n.getSizeInResource=function o(l){return{x:l.TypeSpecificProperties.SizeInResource.X,y:l.TypeSpecificProperties.SizeInResource.Y}},n.getSize=function a(l){return{x:l.LayerBounds.Width,y:l.LayerBounds.Height}}}(ru||(ru={}));const gn=ru;class rA{constructor(e,t){this._api=e,this._logger=t,this._images={}}updateFromDto(e){this._logger.log("Update ImageStorage"),this.updateLayerImages(e.Layers)}isPossibleToRender(e){return e===k.RegularLayer||e===k.AdjustmentLayer||e===k.FillLayer||e===k.TextLayer||e===k.SmartObjectLayer}updateLayerImages(e){for(let t=0;t<e.length;t++){let i=e[t];if(this.isPossibleToRender(i.LayerType)){let r=gn.getId(i),s=gn.getPath(i),o=gn.getPositionInResource(i),a=gn.getSizeInResource(i);this._logger.log("size before placement",a);let l={width:a.x,height:a.y};this._logger.log("bounds before placement",l);let c=new Ui(this._api.getImageUrl(s),o,l);this._images[r]=c}i.LayerType===k.GroupLayer&&this.updateLayerImages(i.TypeSpecificProperties.Layers)}}addImage(e){let t=fn.generateGuid();return this._images[t]=e,t}fillDto(e){this.fillLayers(e.Layers)}fillLayers(e){let t=this._api.getImageUrlFromFolderAndFileName("","");this._logger.log("base base url ",t);let r=t.split("folderId=&file=");r.length>=1&&(t=r[0],this._logger.log("baseurl",t));for(let s=0;s<e.length;s++){let o=e[s];if(o.LayerType==k.GroupLayer&&this.fillLayers(o.TypeSpecificProperties.Layers),this.isPossibleToRender(o.LayerType)){let a=o.TypeSpecificProperties,l=gn.getId(o);try{let c=this.getImage(l),u=c.resourcePath;u.includes(t)&&(u=u.replace(t,""),this._logger.log("path after substr",u)),a.Path=u,a.SizeInResource={x:c.sizeInResource.width,y:c.sizeInResource.height},a.PositionInResource={x:c.positionInResource.x,y:c.positionInResource.y}}catch(c){this._logger.info(c.message+". Assume the layer '"+o.Name+"' is added.")}this._logger.log("type spec after fill",a)}}}getImage(e){let t=this._images[e];if(t)return t;throw new Error("Image with key "+e+" not found")}replaceImage(e,t){this._images[e]=t}}class sA{constructor(e,t){this._logger=t,this._onProgress=new bt.Event,this._done=new Promise((i,r)=>{e.subscribe(s=>{switch(s.type){case 1:let o=s;if(o)return o.total&&this._onProgress.trigger(this,o.loaded/o.total*100),void this._logger.log("event progress",s);break;case 4:let a=s;if(a){if(a.body)return this._logger.log("request done",s),this._logger.log("response body",a.body),this._onProgress.clear(),void i([a.body.FolderId,a.body.FileName]);r(a)}break;default:this._logger.log("Unobservable response status",s.type,s)}})})}get onProgress(){return this._onProgress}get Done(){return this._done}}class oA{constructor(e,t){this._httpClient=e,this._logger=t,this._logger.log("AngularHttpClientWrapperCreated",e,t)}post(e,t){var i=this;return te(function*(){return i._logger.log("Post Request Started",e,t),yield i._httpClient.post(e,t).toPromise()})()}get(e){var t=this;return te(function*(){return t._logger.log("Get Request Started",e),yield t._httpClient.get(e).toPromise()})()}download(e){var t=this;return te(function*(){return t._logger.log("Download Request Started",e),yield t._httpClient.get(e,{responseType:"blob"}).toPromise()})()}upload(e,t){this._logger.log("Upload starting",e,t);const i=new FormData;i.append("File",t);var r=this._httpClient.post(e,i,{reportProgress:!0,observe:"events"});return this._logger.log("Server Response",r),new sA(r,this._logger)}}const Xr={production:!0,baseUrl:"https://psd-api-core-rl2ajsbv.k8s.dynabic.com/psd/"};class aA{constructor(e,t){this._httpClient=e,this._logger=t,this.baseUrl=Xr.baseUrl,this.errorImage="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgd2lkdGg9IjIwMCIKICAgaGVpZ2h0PSIyMDAiCiAgIHZpZXdCb3g9IjAgMCA1Mi45MTY2NjYgNTIuOTE2NjY2IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczMyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4wLjEgKDNiYzJlODEzZjUsIDIwMjAtMDktMDcpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJlcnJvcl9iYWNsLnN2ZyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczI3Ij4KICAgIDxyZWN0CiAgICAgICB4PSItMjguNTM3MjAyIgogICAgICAgeT0iMjkuMDA5NjczIgogICAgICAgd2lkdGg9IjUzLjQ4MzYzMSIKICAgICAgIGhlaWdodD0iMTcuNTc1ODkzIgogICAgICAgaWQ9InJlY3QyODg0IiAvPgogICAgPHBhdHRlcm4KICAgICAgIGlua3NjYXBlOmNvbGxlY3Q9ImFsd2F5cyIKICAgICAgIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiCiAgICAgICB3aWR0aD0iMiIKICAgICAgIGhlaWdodD0iMiIKICAgICAgIHBhdHRlcm5UcmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIHNjYWxlKDEwLDEwKSIKICAgICAgIGlkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTpzdG9ja2lkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTppc3N0b2NrPSJ0cnVlIj4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjAiCiAgICAgICAgIHk9IjAiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzNiIgLz4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjEiCiAgICAgICAgIHk9IjEiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzOCIgLz4KICAgIDwvcGF0dGVybj4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjIuOCIKICAgICBpbmtzY2FwZTpjeD0iLTcuNTI0NjY1NSIKICAgICBpbmtzY2FwZTpjeT0iOTEuMDcyMTIzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJtbSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJ0ZXh0Mjg4MiIKICAgICBpbmtzY2FwZTpkb2N1bWVudC1yb3RhdGlvbj0iMCIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgdW5pdHM9InB4IgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDE3IgogICAgIGlua3NjYXBlOndpbmRvdy14PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIgLz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGEzMCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0i0KHQu9C+0LkgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOnVybCgjQ2hlY2tlcmJvYXJkKTtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2Utd2lkdGg6MS41OTAwODtvcGFjaXR5OjAuMiIKICAgICAgIGlkPSJyZWN0NjgiCiAgICAgICB3aWR0aD0iNTAiCiAgICAgICBoZWlnaHQ9IjUwIgogICAgICAgeD0iLTUuOTc1NzgzNGUtMDkiCiAgICAgICB5PSIwIiAvPgogICAgPGcKICAgICAgIGFyaWEtbGFiZWw9IkVycm9yIgogICAgICAgaWQ9InRleHQyODgyIgogICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MTAuNTgzM3B4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjt3aGl0ZS1zcGFjZTpwcmU7c2hhcGUtaW5zaWRlOnVybCgjcmVjdDI4ODQpO2ZpbGw6IzU1MDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMTcuNTM2ODQsMjkuMjE1ODI2IGggLTUuMDY5NDQyIHYgLTcuNjk0NTk3IGggNS4wNjk0NDIgdiAwLjkwOTUwMyBoIC00LjA0NjI1MiB2IDIuMTA4MzkyIGggNC4wNDYyNTIgdiAwLjkwOTUwMiBoIC00LjA0NjI1MiB2IDIuODU3Njk3IGggNC4wNDYyNTIgeiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzU1MDAwMDtmaWxsLW9wYWNpdHk6MC41IgogICAgICAgICBpZD0icGF0aDI4ODgiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMjIuNjgzNzk2LDI0LjUwMjk1IGggLTAuMDUxNjggcSAtMC4yMTcwNCwtMC4wNTE2OCAtMC40MjM3NDYsLTAuMDcyMzUgLTAuMjAxNTM3LC0wLjAyNTg0IC0wLjQ4MDU4OSwtMC4wMjU4NCAtMC40NDk1ODMsMCAtMC44NjgxNjEsMC4yMDE1MzggLTAuNDE4NTc4LDAuMTk2MzY5IC0wLjgwNjE1LDAuNTExNTk1IHYgNC4wOTc5MjggaCAtMC45NzE1MTQgdiAtNS43NzIyMzkgaCAwLjk3MTUxNCB2IDAuODUyNjU4IHEgMC41Nzg3NzQsLTAuNDY1MDg2IDEuMDE4MDIzLC0wLjY1NjI4OSAwLjQ0NDQxNSwtMC4xOTYzNjkgMC45MDQzMzQsLTAuMTk2MzY5IDAuMjUzMjE0LDAgMC4zNjY5MDIsMC4wMTU1IDAuMTEzNjg4LDAuMDEwMzMgMC4zNDEwNjMsMC4wNDY1MSB6IgogICAgICAgICBzdHlsZT0iZmlsbDojNTUwMDAwO2ZpbGwtb3BhY2l0eTowLjUiCiAgICAgICAgIGlkPSJwYXRoMjg5MCIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAyNy4yMDAzMDEsMjQuNTAyOTUgaCAtMC4wNTE2OCBxIC0wLjIxNzA0LC0wLjA1MTY4IC0wLjQyMzc0NSwtMC4wNzIzNSAtMC4yMDE1MzgsLTAuMDI1ODQgLTAuNDgwNTksLTAuMDI1ODQgLTAuNDQ5NTgzLDAgLTAuODY4MTYxLDAuMjAxNTM4IC0wLjQxODU3OCwwLjE5NjM2OSAtMC44MDYxNSwwLjUxMTU5NSB2IDQuMDk3OTI4IGggLTAuOTcxNTEzIHYgLTUuNzcyMjM5IGggMC45NzE1MTMgdiAwLjg1MjY1OCBxIDAuNTc4Nzc1LC0wLjQ2NTA4NiAxLjAxODAyMywtMC42NTYyODkgMC40NDQ0MTYsLTAuMTk2MzY5IDAuOTA0MzM0LC0wLjE5NjM2OSAwLjI1MzIxNCwwIDAuMzY2OTAyLDAuMDE1NSAwLjExMzY4OCwwLjAxMDMzIDAuMzQxMDYzLDAuMDQ2NTEgeiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzU1MDAwMDtmaWxsLW9wYWNpdHk6MC41IgogICAgICAgICBpZD0icGF0aDI4OTIiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMzMuMDM0NTUzLDI2LjMzMjI5IHEgMCwxLjQxMDc2MiAtMC43MjM0NjgsMi4yMjcyNDcgLTAuNzIzNDY4LDAuODE2NDg1IC0xLjkzNzg2LDAuODE2NDg1IC0xLjIyNDcyOCwwIC0xLjk0ODE5NiwtMC44MTY0ODUgLTAuNzE4MywtMC44MTY0ODUgLTAuNzE4MywtMi4yMjcyNDcgMCwtMS40MTA3NjIgMC43MTgzLC0yLjIyNzI0NyAwLjcyMzQ2OCwtMC44MjE2NTMgMS45NDgxOTYsLTAuODIxNjUzIDEuMjE0MzkyLDAgMS45Mzc4NiwwLjgyMTY1MyAwLjcyMzQ2OCwwLjgxNjQ4NSAwLjcyMzQ2OCwyLjIyNzI0NyB6IG0gLTEuMDAyNTIsMCBxIDAsLTEuMTIxMzc1IC0wLjQzOTI0OCwtMS42NjM5NzYgLTAuNDM5MjQ5LC0wLjU0Nzc2OCAtMS4yMTk1NiwtMC41NDc3NjggLTAuNzkwNjQ3LDAgLTEuMjI5ODk2LDAuNTQ3NzY4IC0wLjQzNDA4LDAuNTQyNjAxIC0wLjQzNDA4LDEuNjYzOTc2IDAsMS4wODUyMDIgMC40MzkyNDgsMS42NDg0NzMgMC40MzkyNDgsMC41NTgxMDQgMS4yMjQ3MjgsMC41NTgxMDQgMC43NzUxNDQsMCAxLjIxNDM5MiwtMC41NTI5MzYgMC40NDQ0MTYsLTAuNTU4MTA0IDAuNDQ0NDE2LC0xLjY1MzY0MSB6IgogICAgICAgICBzdHlsZT0iZmlsbDojNTUwMDAwO2ZpbGwtb3BhY2l0eTowLjUiCiAgICAgICAgIGlkPSJwYXRoMjg5NCIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzOC4xNDAxNjksMjQuNTAyOTUgaCAtMC4wNTE2OCBxIC0wLjIxNzA0MSwtMC4wNTE2OCAtMC40MjM3NDYsLTAuMDcyMzUgLTAuMjAxNTM3LC0wLjAyNTg0IC0wLjQ4MDU4OSwtMC4wMjU4NCAtMC40NDk1ODQsMCAtMC44NjgxNjEsMC4yMDE1MzggLTAuNDE4NTc4LDAuMTk2MzY5IC0wLjgwNjE1LDAuNTExNTk1IHYgNC4wOTc5MjggaCAtMC45NzE1MTQgdiAtNS43NzIyMzkgaCAwLjk3MTUxNCB2IDAuODUyNjU4IHEgMC41Nzg3NzQsLTAuNDY1MDg2IDEuMDE4MDIyLC0wLjY1NjI4OSAwLjQ0NDQxNiwtMC4xOTYzNjkgMC45MDQzMzUsLTAuMTk2MzY5IDAuMjUzMjE0LDAgMC4zNjY5MDIsMC4wMTU1IDAuMTEzNjg3LDAuMDEwMzMgMC4zNDEwNjMsMC4wNDY1MSB6IgogICAgICAgICBzdHlsZT0iZmlsbDojNTUwMDAwO2ZpbGwtb3BhY2l0eTowLjUiCiAgICAgICAgIGlkPSJwYXRoMjg5NiIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}compose(e,t,i,r){var s=this;return te(function*(){let o=`${s.baseUrl}template/api/Compose?folderId=`+e+"&file="+t+"&imageFormat="+i;return yield s._httpClient.post(o,r)})()}update(e,t,i){var r=this;return te(function*(){let s=`${r.baseUrl}template/api/Update?folderId=`+e+"&file="+t;return yield r._httpClient.post(s,i)})()}download(e){var t=this;return te(function*(){return yield t._httpClient.download(e)})()}getImageUrlFromFolderAndFileName(e,t){return this.getImageUrl("folderId="+e+"&file="+t)}getImageUrl(e){return e?`${this.baseUrl}template/api/GetImage?`+e:""}convertToPng(e,t){var i=this;return te(function*(){let r=`${i.baseUrl}template/api/Convert?folderId=`+e+"&file="+t;return yield i._httpClient.get(r)})()}upload(e){return this._httpClient.upload(`${this.baseUrl}common/api/UploadFile`,e)}decompose(e,t){var i=this;return te(function*(){let r=`${i.baseUrl}template/api/Decompose?folderId=`+e+"&file="+t;return yield i._httpClient.get(r)})()}}let Oe=(()=>{class n{constructor(){}log(t,...i){Xr.production||console.log(t,...i)}info(t,...i){Xr.production||console.info(t,...i)}warn(t,...i){console.warn(t,...i)}error(t,...i){console.error(t,...i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bi=(()=>{class n{constructor(t,i){this.httpClient=t,this.logger=i,this._apiCom=new aA(new oA(t,i),i)}compose(t,i,r,s){return this._apiCom.compose(t,i,r,s)}download(t){return this._apiCom.download(t)}convertToPng(t,i){return this._apiCom.convertToPng(t,i)}getImageUrl(t){return this._apiCom.getImageUrl(t)}getImageUrlFromFolderAndFileName(t,i){return this._apiCom.getImageUrlFromFolderAndFileName(t,i)}upload(t){return this._apiCom.upload(t)}decompose(t,i){var r=this;return te(function*(){return r._apiCom.decompose(t,i)})()}update(t,i,r){return this._apiCom.update(t,i,r)}headersConfig(){return new Xt}handleError(t){}}return n.\u0275fac=function(t){return new(t||n)(N(wy),N(Oe))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hi=(()=>{class n{constructor(t,i){this._api=t,this._logger=i,this._imageStorage=new rA(t,i)}addImage(t){return this._imageStorage.addImage(t)}updateFromDto(t){this._imageStorage.updateFromDto(t),this._logger.log("Init from dto done")}getImage(t){return this._imageStorage.getImage(t)}replaceImage(t,i){return this._imageStorage.replaceImage(t,i)}fillDto(t){this._imageStorage.fillDto(t)}}return n.\u0275fac=function(t){return new(t||n)(N(Bi),N(Oe))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lA=(()=>{class n{constructor(t,i,r){this._imageStorage=t,this._service=i,this._logger=r}createFilledCanvas(t,i,r){const s=this.createCanvas(t,i),o=s.getContext("2d");return o.fillStyle=r,o.fillRect(0,0,t,i),s}createCanvas(t,i){const r=document.createElement("canvas");return r.width=t,r.height=i,r}obtainImageIdForCanvas(t){var i=this;return te(function*(){const r=yield i.createImagePlacementFromCanvas(t);return i._imageStorage.addImage(r)})()}createImagePlacementFromCanvas(t){var i=this;return te(function*(){const r=t.toDataURL("image/png"),s=new Wy(i._service,i._logger,r);return yield s.ready,s})()}}return n.\u0275fac=function(t){return new(t||n)(N(Hi),N(Bi),N(Oe))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class su extends Hy{constructor(e,t,i,r,s,o,a){super(e,t,i,r,s,o),this._isDeleting=!1,this._children=a,this._isExpanded=!0,this.subscribeChildren()}get type(){return k.GroupLayer}children(){return this._children}get isExpanded(){return this._isExpanded}set isExpanded(e){this._isExpanded=e}addLayer(e,t,i=!0){if(!t)throw 0==this._children.length&&this.addLayerAt(e,0),new Error("id argument value should not be null in addLayer method.");for(let r=0;r<this._children.length;r++){const s=this._children[r];if(s.id===t)return this.addLayerAt(e,i?r+1:r),!0;if(s.type==k.GroupLayer&&s.addLayer(e,t,i))return!0}return!1}addLayerAt(e,t){if(t<0||t>this._children.length)throw new Error("Layer index out of bounds");this._children.splice(t,0,e)}setOnDeleteHandler(e){console.log("setOnDeleteHandler group"),super.setOnDeleteHandler(e)}Delete(){console.log("Group delete pressed"),this._isDeleting=!0;for(var e=0;e<this._children.length;e++)this._children[e].Delete();super.Delete(),console.log("Group deleted")}subscribeChildren(){for(var e=0;e<this._children.length;e++)this._children[e].setOnDeleteHandler(t=>this.removeLayer(t))}removeLayer(e){if(null==e)throw new Error("Layer can not be undefined");if(e.checkTransactionIsOpen(),!this._isDeleting){let t=this._children.indexOf(e,0);t>-1&&this._children.splice(t,1)}}resize(e){super.resize(e),this._children.forEach(t=>{t.resize(e)})}startTransaction(){this._children.forEach(e=>{e.startTransaction()}),super.startTransaction()}commitTransaction(){this._isDeleting||this._children.forEach(e=>{e.isTransactionOpen&&e.commitTransaction()}),super.commitTransaction()}revertTransaction(){this._children.forEach(e=>{e.revertTransaction()}),super.revertTransaction(),this._isDeleting=!1}}class cA extends Zr{constructor(e,t,i,r,s,o,a){super(e,t,r,s,o,a),this._text=i}get type(){return k.TextLayer}get text(){return this._text}set text(e){e!=this._text&&(this._text=e,this.processChanges())}}class uA extends Zr{constructor(e,t,i,r,s,o,a){super(e,t,i,r,s,o),this.fillLayerType=a}get type(){return k.FillLayer}}class ou extends eu{constructor(e){super(),this._logger=e,this._width=0,this._height=0,this._layers=[],this._updateRequested=new bt.Event,this._needServerUpdate=!1,this._ignoreChanges=!1,this.transactionMustBeOpenMessage="Transaction must be started to change properties of the PSD image"}setOnUpdateRequestedHandler(e){this._updateRequested.on(e)}resize(e){if(e&&e.width>0&&e.height>0&&(this._width!=e.width||this._height!=e.height)){this.checkTransactionIsOpen();const t=this.startState,i=t._width/e.width,r=t._height/e.height;this._width=Math.min(3e4,Math.max(1,e.width)),this._height=Math.min(3e4,Math.max(1,e.height)),this.layers.forEach(s=>{s.resize({x:i,y:r})}),this._needServerUpdate=!0}}get width(){return this._width}get height(){return this._height}get layers(){return this._layers}subscribeLayers(e,t=!1){this._logger.log("Subscribe");for(var i=0;i<e.length;i++)e[i].type==k.GroupLayer&&this.subscribeLayers(e[i].children(),!0),this._logger.log("Subscribe Layer "+this._layers[i].name),e[i].setOnChangedHandler(r=>this.onLayerChange(r)),t||e[i].setOnDeleteHandler(r=>this.removeLayer(r))}addLayer(e,t,i=!0){if(!t){if(0==this._layers.length)return void this.addLayerAt(e,0);throw new Error("id argument value should not be null by addLayer method.")}for(let r=0;r<this._layers.length;r++){const s=this._layers[r];if(s.id===t)return void this.addLayerAt(e,i?r+1:r);if(s.type==k.GroupLayer&&s.addLayer(e,t,i))return void this.finishAddingLayerUsingServer(e)}throw new Error("Layer with the specified id is not found in the addLayer method.")}addLayerAt(e,t){if(t<0||t>this._layers.length)throw new Error("Layer index out of bounds");this._layers.splice(t,0,e),this.finishAddingLayerUsingServer(e)}finishAddingLayerUsingServer(e){this.subscribeLayers([e]),this._logger.log("PROCESSING added layer"),this.processChanges()}removeLayer(e){if(null==e)throw new Error("Layer can not be undefined");e.checkTransactionIsOpen(),this._logger.log("PSD Layer remove activated");let t=this._layers.indexOf(e,0);t>-1&&this._layers.splice(t,1)}onLayerChange(e){if(!this._ignoreChanges&&!this.isTransactionOpen){if(null==e)throw new Error("Layer can not be undefined");this._logger.log("Layer change activated"),this.processChanges()}}initFromDto(e){this._width=e.Width,this._height=e.Height,this._logger.log("DTO",e),this._layers=this.initLayers(e.Layers),this.subscribeLayers(this._layers)}updateFromDto(e){this._width=e.Width,this._height=e.Height,this._ignoreChanges=!0,this.updateLayers(e.Layers),this._ignoreChanges=!1}composeDto(){return{Width:this.width,Height:this.height,Layers:this.composeLayerDtos(this._layers)}}composeLayerDtos(e){for(var t=[this.layers.length],i=0;i<e.length;i++)t[i]=this.composeLayerDto(e[i]);return t}composeLayerDto(e){return{Id:e.id,Name:e.name,IsVisible:e.isVisible,LayerType:e.type,LayerBounds:{X:e.positionX,Y:e.positionY,Width:e.sizeX,Height:e.sizeY},IsClipping:e.isClipping,BlendingOptions:{Opacity:e.blendingOptions.opacity,BlendingType:e.blendingOptions.blendingType,Styles:this.composeStylesDto(e.blendingOptions.styles)},TypeSpecificProperties:this.composeTypeSpecificPropertiesDto(e),Dependants:e.dependants}}composeTypeSpecificPropertiesDto(e){switch(this._logger.log(e),e.type){case k.RegularLayer:return{};case k.TextLayer:return{Text:e.text};case k.FillLayer:return{FillLayerType:e.fillLayerType};case k.AdjustmentLayer:return{AdjustmentLayerType:e.adjustmentLayerType};case k.GroupLayer:return{Layers:this.composeLayerDtos(e.children())};default:return{}}}composeStylesDto(e){let t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]={IsActive:e[i].isActive,StyleType:e[i].styleType};return t}updateLayers(e){this._logger.log("UPDATE LAYERS",e);for(var t=0;t<e.length;t++)for(var i=e[t],r=0;r<this.layers.length;r++){var s=this._layers[r];if(s.id==i.Id){const o=this.getPosition(i);s.startTransaction(),s.positionX=o.x,s.positionY=o.y;const a=this.getSize(i);s.sizeX=a.x,s.sizeY=a.y,s instanceof Zr&&(s.imageId=s.id),s.commitTransaction();break}}}initLayers(e){this._logger.log("INIT LAYERS",e);let t,i=new Array;for(var r=0;r<e.length;r++){let s=e[r];switch(s.LayerType){case k.RegularLayer:case k.SmartObjectLayer:t=this.produceRegularLayerModel(s);break;case k.TextLayer:t=this.produceTextLayerModel(s);break;case k.FillLayer:t=this.produceFillLayerModel(s);break;case k.AdjustmentLayer:t=this.produceAdjustmentLayerModel(s);break;case k.GroupLayer:t=this.produceGroupLayerModel(s);break;default:throw new Error("Unknown Layer Type "+s.LayerType)}this.fillBlendingOptions(t.blendingOptions,s),this.fillDependants(t,s),i.push(t)}return i}fillDependants(e,t){this._logger.log("DEPENDANTS",t.Dependants),e.dependants=t.Dependants,this._logger.log("DEPENDANTS assigned",e.dependants)}fillBlendingOptions(e,t){e.blendingType=t.BlendingOptions.BlendingType,e.opacity=t.BlendingOptions.Opacity,e.styles=t.BlendingOptions.Styles}produceGroupLayerModel(e){return new su(this.getId(e),e.Name,this.getPosition(e),this.getSize(e),e.IsVisible,e.IsClipping,this.initGroup(e.TypeSpecificProperties))}produceAdjustmentLayerModel(e){return new Vy(this.getId(e),e.Name,this.getPosition(e),this.getSize(e),e.IsVisible,e.IsClipping,e.TypeSpecificProperties.AdjustmentLayerType)}produceFillLayerModel(e){return new uA(this.getId(e),e.Name,this.getPosition(e),this.getSize(e),e.IsVisible,e.IsClipping,e.TypeSpecificProperties.FillLayerType)}produceTextLayerModel(e){return new cA(this.getId(e),this.getText(e),e.Name,this.getPosition(e),this.getSize(e),e.IsVisible,e.IsClipping)}produceRegularLayerModel(e){return new Sn(this.getId(e),e.Name,this.getPosition(e),this.getSize(e),e.IsVisible,e.IsClipping)}updateRegularLayerModel(e){return new Sn(this.getId(e),e.Name,this.getPosition(e),this.getSize(e),e.IsVisible,e.IsClipping)}getText(e){return gn.getText(e)}startTransaction(){super.startTransaction(),this.layers.forEach(e=>{e.startTransaction()})}commitTransaction(){super.commitTransaction(),this._ignoreChanges=!0,this.layers.forEach(e=>{e.isTransactionOpen&&e.commitTransaction()}),this._ignoreChanges=!1,this._needServerUpdate&&(console.log("PROCESSING IMAGE CHANGES THROUGH SERVER"),this.processChanges()),this._needServerUpdate=!1}revertTransaction(){super.revertTransaction(),this.layers.forEach(e=>{e.revertTransaction()}),this._needServerUpdate=!1}processChanges(){this._updateRequested.trigger(this,this)}initGroup(e){return this.initLayers(e.Layers)}getPosition(e){return gn.getPosition(e)}getSize(e){return gn.getSize(e)}getId(e){return gn.getId(e)}}class dA{constructor(e,t,i,r,s){this._api=e,this._logger=t,this._growler=i,this._imageStorage=r,this._waitService=s,this._folderId="",this._fileName="",this._onInit=new bt.Event,this._isInited=!1,this._image=new ou(t)}getReverseLayers(){return this.getLayers().slice().reverse()}getLayers(){return this._image.layers}setOnInitHandler(e){this._onInit.on(e)}init(e,t){var i=this;return te(function*(){i._folderId=e,i._fileName=t;let r=yield i._api.decompose(e,t);i._logger.log(r),i._imageStorage.updateFromDto(r),i._image.initFromDto(r),i._image.setOnUpdateRequestedHandler(function(){var s=te(function*(o){yield i.onUpdateRequested(o)});return function(o){return s.apply(this,arguments)}}()),i._isInited=!0,i._onInit.trigger(i,i._image)})()}onUpdateRequested(e){var t=this;return te(function*(){if(t._waitService.isWaiting)t._logger.log("Do nothing. Server Update Is Active");else if(t._growler.growl("Sending image update request to server..."),t._logger.log("ON SERVER PROVIDER UPDATE IMAGE",e),e){let r=e.composeDto();t._imageStorage.fillDto(r);let s=t.getInitParams();t._waitService.start("Update through server");try{let o=yield t._api.update(s[0],s[1],r);t._image.updateFromDto(o),t._imageStorage.updateFromDto(o)}finally{t._growler.growl("Image update request finished.",Jt.Success),t._waitService.end()}}})()}getFinalImage(e,t,i){var r=this;return te(function*(){let o=r._image.composeDto();r._imageStorage.fillDto(o);let a=yield r._api.compose(e,t,i,o);return yield r.delay(2e4),r._api.getImageUrlFromFolderAndFileName(a.FolderId,a.FileName)})()}getInitParams(){return[this._folderId,this._fileName]}isInited(){return this._isInited}removeLayer(e){this._image.removeLayer(e)}addLayer(e,t){this._image.addLayer(e,t)}getImage(){return this._image}delay(e){return new Promise(t=>setTimeout(t,e))}}let Po=(()=>{class n{constructor(){this.isWaiting=!1,this.message=""}start(t){this.isWaiting=!0,t||(t=""),this.message=t}end(){this.isWaiting=!1,this.message=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jr=(()=>{class n{constructor(t,i,r,s,o){this._api=t,this._imageStorate=i,this._growler=r,this._logger=s,this._waitService=o,this._provider=new dA(t,s,r,i,o)}addLayer(t,i,r=!0){this._provider.addLayer(t,i,r)}getInitParams(){return this._provider.getInitParams()}setOnInitHandler(t){this._provider.setOnInitHandler(t)}getImage(){return this._provider.getImage()}getFromDataUrl(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAACxMAAAsTAQCanBgAAAk5aVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MiA3OS4xNjA5MjQsIDIwMTcvMDcvMTMtMDE6MDY6MzkgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ODZiZjYxNjctZmFjOC1mMjQxLThiZDktOTdmZWVlYmY4MjcxIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM2MWI1OTZjLWU0MmQtMDM0MC05ZGRlLTkzZTkxNGFlM2MyMCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSIwRkVFNjNGNzcxQUY1RUI4Mzk5QjAyRUEzQkFDNDM2QSIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSIiIHRpZmY6SW1hZ2VXaWR0aD0iNTAwIiB0aWZmOkltYWdlTGVuZ3RoPSI1MDAiIHRpZmY6UGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbj0iMiIgdGlmZjpTYW1wbGVzUGVyUGl4ZWw9IjMiIHRpZmY6WFJlc29sdXRpb249IjcyLzEiIHRpZmY6WVJlc29sdXRpb249IjcyLzEiIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiIGV4aWY6RXhpZlZlcnNpb249IjAyMzEiIGV4aWY6Q29sb3JTcGFjZT0iNjU1MzUiIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSI1MDAiIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI1MDAiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTEyLTA0VDE4OjMxOjMzKzA3OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0xMi0yMVQxNDo0OSswNzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0xMi0yMVQxNDo0OSswNzowMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjAxNjRkOTUzLWE5MmUtYTE0Mi04MThjLTRjMTk5Mjk5YzE2YiIgc3RFdnQ6d2hlbj0iMjAyMC0xMi0yMVQxNDo0OSswNzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGltYWdlL2pwZWcgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBpbWFnZS9qcGVnIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MzYxYjU5NmMtZTQyZC0wMzQwLTlkZGUtOTNlOTE0YWUzYzIwIiBzdEV2dDp3aGVuPSIyMDIwLTEyLTIxVDE0OjQ5KzA3OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowMTY0ZDk1My1hOTJlLWExNDItODE4Yy00YzE5OTI5OWMxNmIiIHN0UmVmOmRvY3VtZW50SUQ9IjBGRUU2M0Y3NzFBRjVFQjgzOTlCMDJFQTNCQUM0MzZBIiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9IjBGRUU2M0Y3NzFBRjVFQjgzOTlCMDJFQTNCQUM0MzZBIi8+IDx0aWZmOkJpdHNQZXJTYW1wbGU+IDxyZGY6U2VxPiA8cmRmOmxpPjg8L3JkZjpsaT4gPHJkZjpsaT44PC9yZGY6bGk+IDxyZGY6bGk+ODwvcmRmOmxpPiA8L3JkZjpTZXE+IDwvdGlmZjpCaXRzUGVyU2FtcGxlPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiCRu6kAAADpSURBVBiVPcHbTsJAFEDRfYZJFGoMhgS8gJRwaWlnqr/u/yjYIiokEl7Rdo4PJq4lbZ6Ac+oh+8Ts8rByrFM2E/lod04WiKhH7GdULmw8ZUo5YteJToyxEfU97wuqgmpJlUo10q/o4psJLMXGfKay9ZRLXSWyHevh7PJHxy1cjVOb8FpIlYVVwjZmb7oNMZoF46HAPkqZh5eUt6Ec7FVDTHCoF/XKAvugzwmbW4622zCDzGihOCFBblTW9IZytD2tZ9g8qG+pUzPVcKfGiKhI6KuZggMPOSyEa/5YHaiZS8iRAsmUOQz49wuaVVzzB622tAAAAABJRU5ErkJggg=="}getLayers(){return this._provider.getLayers()}getReverseLayers(){return this._provider.getReverseLayers()}removeLayer(t){this._provider.removeLayer(t)}init(t,i){var r=this;return te(function*(){yield r._provider.init(t,i)})()}isInited(){return this._provider.isInited()}getFinalImage(t,i,r){return this._provider.getFinalImage(t,i,r)}}return n.\u0275fac=function(t){return new(t||n)(N(Bi),N(Hi),N(Yn),N(Oe),N(Po))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Zy extends eu{constructor(e,t,i,r){super(),this.positionX=0,this.positionY=0,this.isSelected=!1,this.isResizeEnabled=!1,this._sizeX=0,this._sizeY=0,this.positionX=e,this.positionY=t,this._sizeX=i,this._sizeY=r}get sizeX(){return this._sizeX}get sizeY(){return this._sizeY}set sizeX(e){this.checkTransactionIsOpen(),this._sizeX=e}set sizeY(e){this.checkTransactionIsOpen(),this._sizeY=e}checkResizeIsEnabled(){if(!0===this.isResizeEnabled)throw new Error("Resize is not enabled.")}}class Qy extends Zy{constructor(e){super(0,0,0,0),this._imageBounds=e}get sizeX(){return super.sizeX}get sizeY(){return super.sizeY}set sizeX(e){super.sizeX=e,this.setImageBounds({width:e,height:this._sizeY})}set sizeY(e){super.sizeY=e,this.setImageBounds({width:this._sizeX,height:e})}setImageBounds(e){this._sizeX=e.width,this._sizeY=e.height,this._imageBounds?.resize(e)}startTransaction(){super.startTransaction(),this._imageBounds?.startTransaction()}commitTransaction(){super.commitTransaction(),this._imageBounds?.commitTransaction()}revertTransaction(){super.revertTransaction(),this._imageBounds?.revertTransaction()}}let Wn=(()=>{class n{constructor(t,i,r){this._logger=i,this._growler=r,this._psdModel=new ou(this._logger),this._visibleLimit=.1,this._scale=1,this._onSelect=new bt.Event,this._onDeselect=new bt.Event,this.isVisible=!1,this._canvasModel=new Qy(new ou(i)),t.setOnInitHandler((s,o)=>this.onPsdImageInit(s,o))}get layers(){return this._psdModel.layers}onPsdImageInit(t,i){if(i){let r={width:i.width,height:i.height};this._imageBounds=r,this._canvasModel=new Qy(i),this._canvasModel.setImageBounds(r),this.checkInited(),this._canvasModel.isSelected=!0,this._canvasModel.isResizeEnabled=!0,this._psdModel=i}}checkInited(){if(this._logger.log("oninit workspace bounds",this._workspaceBounds),this._logger.log("oninit image bounds",this._imageBounds),this._workspaceBounds&&this._imageBounds)return this._logger.log("Bounds are Inited"),void this._growler.growl("Image workspace is initialized")}setWorkspaceBounds(t){this._workspaceBounds=t,this.checkInited()}setImageBounds(t){this._canvasModel.startTransaction(),this._imageBounds=t,this._canvasModel.setImageBounds(t),this._canvasModel.commitTransaction(),this.checkInited()}get isResizeEnabled(){return this._canvasModel?.isResizeEnabled??!0}set isResizeEnabled(t){this._canvasModel&&(t&&!this._canvasModel.isResizeEnabled&&(this.isCanvasSelected=!0),this._canvasModel.isResizeEnabled=t)}get onSelect(){return this._onSelect}get onDeselect(){return this._onDeselect}get imageScale(){return this._scale}set imageScale(t){this._scale=Math.min(Math.max(t,.1),5),this.imageTranslateX=this.imageTranslateX,this.imageTranslateY=this.imageTranslateY}get imageTranslateX(){return this._canvasModel.positionX??0}get imageTranslateY(){return this._canvasModel.positionY??0}set imageTranslateY(t){this._logger.log("translate y",t),this._workspaceBounds&&this._imageBounds&&(this._logger.log("bounds obj",this._workspaceBounds),this._logger.log("bounds ",this._workspaceBounds.width,this._workspaceBounds.height),t<this._imageBounds.height*this._scale*(this._visibleLimit-1)&&(t=this._imageBounds.height*this._scale*(this._visibleLimit-1)),t>this._workspaceBounds.height-this._imageBounds.height*this._visibleLimit&&(t=this._workspaceBounds.height-this._imageBounds.height*this._visibleLimit)),this._canvasModel.positionY=t}set imageTranslateX(t){!this._canvasModel||(this._logger.log("translate x",t),this._workspaceBounds&&this._imageBounds&&(this._logger.log("bounds obj",this._workspaceBounds),this._logger.log("bounds x",this._workspaceBounds.width,this._workspaceBounds.height),t<this._imageBounds.width*this._scale*(this._visibleLimit-1)&&(t=this._imageBounds.width*this._scale*(this._visibleLimit-1)),t>this._workspaceBounds.width-this._imageBounds.width*this._visibleLimit&&(t=this._workspaceBounds.width-this._imageBounds.width*this._visibleLimit)),this._canvasModel.positionX=t)}get selectedLayer(){if(this._selectedLayer)return this._selectedLayer;throw new Error("No layer were selected")}get isLayerSelected(){return!!this._selectedLayer}set selectedLayer(t){this._logger.log("this in ui",this),t!==this._selectedLayer&&(this._selectedLayer&&(this._selectedLayer.isSelected=!1),this._selectedLayer=t,this._selectedLayer&&(this._canvasModel.isSelected=!1,this._selectedLayer.isSelected=!0))}deselectLayer(){const t=this._selectedLayer;t&&(t.isSelected=!1,this._selectedLayer=void 0)}get isCanvasSelected(){return this._canvasModel?.isSelected??!1}set isCanvasSelected(t){!this._canvasModel||(this._canvasModel.isSelected=t,t&&this.isLayerSelected&&this.deselectLayer(),t||(this.isResizeEnabled=!1))}get canvas(){return this._canvasModel}}return n.\u0275fac=function(t){return new(t||n)(N(Jr),N(Oe),N(Yn))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xy=(()=>{class n{constructor(t,i,r,s,o,a){this._modalService=t,this._imageProvider=i,this._imageService=r,this._dataProvider=s,this._uiState=o,this._growlerService=a,this.emptyImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",this._layers=[],this._selectedAdjustmentLayerType=Ve.BrightnessContrast,this._selectedLayerType=k.RegularLayer,this._selectedLayerId=void 0}get isAdjustmentLayerSelected(){return this._selectedLayerType===k.AdjustmentLayer}get layers(){return this._layers}get priorLayerId(){return this._selectedLayerId}openAddLayerModal(){let t;this.initAllLayers(),this._uiState.isLayerSelected?t=this._uiState.selectedLayer:this._layers.length>0&&(t=this._layers[this._layers.length-1]),this._selectedLayerId=t?.id,this._modalService.open(n.ID)}setPriorLayer(t){return this._selectedLayerId=t,!0}setLayerType(t){const i=this.isLayerTypeValid(t);return this._selectedLayerType=t,i}setAdjustmentLayerType(t){const i=this.isAdjustmentLayerTypeValid(t);return this._selectedAdjustmentLayerType=t,i}isLayerTypeValid(t){return t==k.RegularLayer||t==k.AdjustmentLayer}isAdjustmentLayerTypeValid(t){return t==Ve.BlackAndWhite||t==Ve.BrightnessContrast||t==Ve.ChannelMixer||t==Ve.ColorBalance||t==Ve.Curves||t==Ve.Exposure||t==Ve.HueSaturation||t==Ve.Invert||t==Ve.Levels||t==Ve.PhotoFilter}closeModal(){this._modalService.close(n.ID)}canApply(){return this.isLayerTypeValid(this._selectedLayerType)&&null!=this._selectedLayerId&&(this._selectedLayerType!=k.AdjustmentLayer||this.canApplyAdjustment())}canApplyAdjustment(){return this.isAdjustmentLayerTypeValid(this._selectedAdjustmentLayerType)}doAddLayer(){const t=this._selectedLayerId,i=this.layers.find(r=>r.id===t);if(!i||!this.canApply())throw new Error("Select a supported layer type and all required fields");switch(this._growlerService.notify("Sending add layer command on server...",Jt.Info,1e3),this._selectedLayerType){case k.RegularLayer:this.addRegularLayer(i);break;case k.AdjustmentLayer:this.addAdjustmentLayer(i)}}addRegularLayer(t){const i=t?{x:t.positionX,y:t.positionY}:{x:0,y:0},r=t?{x:t.sizeX,y:t.sizeY}:{x:this._uiState.canvas.sizeX,y:this._uiState.canvas.sizeY},s=this._imageProvider.createCanvas(r.x,r.y);this._imageProvider.obtainImageIdForCanvas(s).then(a=>{const l=new Sn(a,"New Regular Layer "+ ++n.createdLayerCount,i,r,!0,!1);l.imageId=a,this._dataProvider.addLayer(l,t.id,!0)})}addAdjustmentLayer(t){const i=this._selectedAdjustmentLayerType;if(!i)throw new Error("Select a supported adjustment layer type and all required fields");const r={x:0,y:0};let o=new Ui(this.emptyImage,r,{width:0,height:0});const a=this._imageService.addImage(o),l="New "+Ve[i]+" Adjustment Layer "+ ++n.createdLayerCount,c=new Vy(a,l,r,r,!0,!1,i);this._dataProvider.addLayer(c,t.id,!0)}initLayers(t){for(var i=0;i<t.length;i++){let r=t[i];this._layers.push(r),r.type==k.GroupLayer&&this.initLayers(r.children())}}initAllLayers(){this._layers=[];let t=this._dataProvider.getImage();this.initLayers(t.layers)}}return n.ID="add-layer-modal",n.createdLayerCount=0,n.\u0275fac=function(t){return new(t||n)(N($y),N(lA),N(Hi),N(Jr),N(Wn),N(Yn))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=at({type:n}),n.\u0275inj=Ke({providers:[Xy],imports:[An,qc]}),n})();const pA=function(n){return{active:n}};function fA(n,e){if(1&n&&(f(0,"div",2)(1,"span",3),E(2),m()()),2&n){const t=e.$implicit;Tf("growl alert ",t.messageType,""),y("ngClass",_g(5,pA,t.enabled)),C(2),Ot(t.message)}}let gA=(()=>{class n{constructor(t,i){this.logger=i,this.growlCount=0,this.growls=[],this.position="bottom-right",this.timeout=3e3,t.notify=this.growl.bind(this)}ngOnInit(){}growl(t,i,r){const s=i??Jt.Info,o=r??this.timeout,l=`alert-${Jt[s].toLowerCase()}`,c=new mA(this.growlCount++,t,l,r??this.timeout,this);return this.growls.push(c),this.logger.log(`Displayed growl N ${c.id} ${Jt[s]} for ${o} ms: ${t}.`),c.id}removeGrowl(t){this.growls.forEach((i,r)=>{i.id===t&&(this.growls.splice(r,1),this.growlCount--,this.logger.log(`Growl N ${t} is removed.`))})}}return n.\u0275fac=function(t){return new(t||n)(b(Yn),b(Oe))},n.\u0275cmp=q({type:n,selectors:[["app-growler"]],inputs:{position:"position",timeout:"timeout"},decls:2,vars:2,consts:[[1,"growler",3,"ngClass"],[3,"ngClass","class",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"growl-message"]],template:function(t,i){1&t&&(f(0,"div",0),S(1,fA,3,7,"div",1),m()),2&t&&(y("ngClass",i.position),C(1),y("ngForOf",i.growls))},dependencies:[Um,Dt],styles:[".alert[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}.alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;color:inherit}.alert[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{font-weight:700}.alert[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-bottom:0}.alert[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:5px}.alert-dismissible[_ngcontent-%COMP%]{padding-right:35px}.alert-dismissible[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:relative;top:-2px;right:-21px;color:inherit}.alert-success[_ngcontent-%COMP%]{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.alert-info[_ngcontent-%COMP%]{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.alert-warning[_ngcontent-%COMP%]{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.alert-danger[_ngcontent-%COMP%]{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.growler[_ngcontent-%COMP%]{position:fixed;z-index:999999}.growler.close-button[_ngcontent-%COMP%]:focus{outline:0}.growler.top-left[_ngcontent-%COMP%]{top:12px;left:12px}.growler.top-right[_ngcontent-%COMP%]{top:12px;right:12px}.growler.bottom-right[_ngcontent-%COMP%]{bottom:12px;right:12px}.growler.bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}.growler.top-center[_ngcontent-%COMP%]{top:12px;left:50%;transform:translate(-50%)}.growler.bottom-center[_ngcontent-%COMP%]{bottom:12px;left:50%;transform:translate(-50%)}.growl[_ngcontent-%COMP%]{cursor:pointer;padding:15px;width:285px;height:65px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity 1s}.growl.active[_ngcontent-%COMP%]{opacity:1}"]}),n})();class mA{constructor(e,t,i,r,s){this.id=e,this.message=t,this.messageType=i,this.timeout=r,this.growlerContainer=s,this.enabled=!1,this.show()}show(){window.setTimeout(()=>{this.enabled=!0,this.setTimeout()},0)}setTimeout(){window.setTimeout(()=>{this.hide()},this.timeout)}hide(){this.enabled=!1,window.setTimeout(()=>{this.growlerContainer.removeGrowl(this.id)},this.timeout)}}class qr{constructor(e,t,i){if(this._formData={},this._type="",this._position={x:0,y:0},this.isVisible=!1,this._type=e,this._header="Dialog",null!=i)for(var r=0;r<i.length;r++)this._formData[i[r][0]]=i[r][1];this._header=t||"Dialog",this._onFormClose=new bt.Event}get position(){return this._position}set position(e){this._position=e}get OnFormClose(){return this._onFormClose}get header(){return this._header}getParam(e){return this._formData[e]}hasParam(e){try{return this._formData[e]}catch{return!1}}setParam(e,t){this._formData[e]=t}ParamNames(){return this._formData.keys}get type(){return this._type}close(){this.isVisible=!1,this._onFormClose.trigger(this,!1)}saveAndClose(){this.isVisible=!1,this._onFormClose.trigger(this,!0)}}var Tt=(()=>(function(n){n[n.NotLoaded=0]="NotLoaded",n[n.LoadedLocally=1]="LoadedLocally",n[n.LoadedToServer=2]="LoadedToServer",n[n.StartedConversion=3]="StartedConversion",n[n.EndedConversion=4]="EndedConversion"}(Tt||(Tt={})),Tt))();class yA{constructor(e,t,i,r){var s=this;this._api=e,this._logger=t,this._state=Tt.NotLoaded,this._placement=r??new Ui("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgd2lkdGg9IjIwMCIKICAgaGVpZ2h0PSIyMDAiCiAgIHZpZXdCb3g9IjAgMCA1Mi45MTY2NjYgNTIuOTE2NjY2IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczMyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4wLjEgKDNiYzJlODEzZjUsIDIwMjAtMDktMDcpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJsb2FkaW5nX2JhY2suc3ZnIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzMjciPgogICAgPHBhdHRlcm4KICAgICAgIGlua3NjYXBlOmNvbGxlY3Q9ImFsd2F5cyIKICAgICAgIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiCiAgICAgICB3aWR0aD0iMiIKICAgICAgIGhlaWdodD0iMiIKICAgICAgIHBhdHRlcm5UcmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIHNjYWxlKDEwLDEwKSIKICAgICAgIGlkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTpzdG9ja2lkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTppc3N0b2NrPSJ0cnVlIj4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjAiCiAgICAgICAgIHk9IjAiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzNiIgLz4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjEiCiAgICAgICAgIHk9IjEiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzOCIgLz4KICAgIDwvcGF0dGVybj4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjIuOCIKICAgICBpbmtzY2FwZTpjeD0iNjQuODcyMzU3IgogICAgIGlua3NjYXBlOmN5PSIxMDUuMzU3ODQiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9Im1tIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC1yb3RhdGlvbj0iMCIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgdW5pdHM9InB4IgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDE3IgogICAgIGlua3NjYXBlOndpbmRvdy14PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIgLz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGEzMCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0i0KHQu9C+0LkgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOnVybCgjQ2hlY2tlcmJvYXJkKTtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2Utd2lkdGg6MS41OTAwODtvcGFjaXR5OjAuMiIKICAgICAgIGlkPSJyZWN0NjgiCiAgICAgICB3aWR0aD0iNTAiCiAgICAgICBoZWlnaHQ9IjUwIgogICAgICAgeD0iLTUuOTc1NzgzNGUtMDkiCiAgICAgICB5PSIwIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMTAuODk1ODUsMjkuMTMzMzAyIEggNi4wMjc5NDU3IHYgLTcuNjk0NTk2IGggMS4wMjMxOSBWIDI4LjIyMzggSCAxMC44OTU4NSBaIgogICAgICAgaWQ9InBhdGgxNiIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0ibSAxNi43NjExMDYsMjYuMjQ5NzY2IHEgMCwxLjQxMDc2MyAtMC43MjM0NjgsMi4yMjcyNDggLTAuNzIzNDY3LDAuODE2NDg1IC0xLjkzNzg2LDAuODE2NDg1IC0xLjIyNDcyNywwIC0xLjk0ODE5NSwtMC44MTY0ODUgLTAuNzE4MywtMC44MTY0ODUgLTAuNzE4MywtMi4yMjcyNDggMCwtMS40MTA3NjIgMC43MTgzLC0yLjIyNzI0NyAwLjcyMzQ2OCwtMC44MjE2NTIgMS45NDgxOTUsLTAuODIxNjUyIDEuMjE0MzkzLDAgMS45Mzc4NiwwLjgyMTY1MiAwLjcyMzQ2OCwwLjgxNjQ4NSAwLjcyMzQ2OCwyLjIyNzI0NyB6IG0gLTEuMDAyNTE5LDAgcSAwLC0xLjEyMTM3NSAtMC40MzkyNDksLTEuNjYzOTc1IC0wLjQzOTI0OCwtMC41NDc3NjkgLTEuMjE5NTYsLTAuNTQ3NzY5IC0wLjc5MDY0NiwwIC0xLjIyOTg5NSwwLjU0Nzc2OSAtMC40MzQwOCwwLjU0MjYgLTAuNDM0MDgsMS42NjM5NzUgMCwxLjA4NTIwMiAwLjQzOTI0OCwxLjY0ODQ3MyAwLjQzOTI0OCwwLjU1ODEwNCAxLjIyNDcyNywwLjU1ODEwNCAwLjc3NTE0NCwwIDEuMjE0MzkzLC0wLjU1MjkzNiAwLjQ0NDQxNiwtMC41NTgxMDQgMC40NDQ0MTYsLTEuNjUzNjQxIHoiCiAgICAgICBpZD0icGF0aDE4IgogICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MTAuNTgzM3B4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjt3aGl0ZS1zcGFjZTpwcmU7c2hhcGUtaW5zaWRlOnVybCgjcmVjdDEyKTtmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjAuNTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MSIgLz4KICAgIDxwYXRoCiAgICAgICBkPSJNIDIyLjc1MDM4NiwyOS4xMzMzMDIgSCAyMS43ODQwNCB2IC0wLjYxNDk0NyBxIC0wLjEyOTE5MSwwLjA4Nzg1IC0wLjM1MTM5OSwwLjI0ODA0NiAtMC4yMTcwNCwwLjE1NTAyOSAtMC40MjM3NDUsMC4yNDgwNDYgLTAuMjQyODc5LDAuMTE4ODU1IC0wLjU1ODEwNCwwLjE5NjM3IC0wLjMxNTIyNSwwLjA4MjY4IC0wLjczODk3MSwwLjA4MjY4IC0wLjc4MDMxMSwwIC0xLjMyMjkxMiwtMC41MTY3NjMgLTAuNTQyNjAxLC0wLjUxNjc2MyAtMC41NDI2MDEsLTEuMzE3NzQ1IDAsLTAuNjU2Mjg4IDAuMjc5MDUyLC0xLjA1OTM2MyAwLjI4NDIxOSwtMC40MDgyNDMgMC44MDYxNSwtMC42NDA3ODYgMC41MjcwOTgsLTAuMjMyNTQzIDEuMjY2MDY4LC0wLjMxNTIyNSAwLjczODk3MSwtMC4wODI2OCAxLjU4NjQ2MiwtMC4xMjQwMjMgViAyNS4xNjk3MyBxIDAsLTAuMzMwNzI4IC0wLjExODg1NiwtMC41NDc3NjggLTAuMTEzNjg4LC0wLjIxNzA0IC0wLjMzMDcyOCwtMC4zNDEwNjMgLTAuMjA2NzA1LC0wLjExODg1NiAtMC40OTYwOTIsLTAuMTYwMTk3IC0wLjI4OTM4NywtMC4wNDEzNCAtMC42MDQ2MTIsLTAuMDQxMzQgLTAuMzgyNDA1LDAgLTAuODUyNjU5LDAuMTAzMzUzIC0wLjQ3MDI1NCwwLjA5ODE5IC0wLjk3MTUxNCwwLjI4OTM4NyBoIC0wLjA1MTY4IHYgLTAuOTg3MDE3IHEgMC4yODQyMiwtMC4wNzc1MSAwLjgyMTY1MywtMC4xNzA1MzIgMC41Mzc0MzMsLTAuMDkzMDIgMS4wNTkzNjMsLTAuMDkzMDIgMC42MDk3OCwwIDEuMDU5MzY0LDAuMTAzMzUzIDAuNDU0NzUxLDAuMDk4MTkgMC43ODU0NzksMC4zNDEwNjMgMC4zMjU1NjEsMC4yMzc3MTEgMC40OTYwOTIsMC42MTQ5NDggMC4xNzA1MzIsMC4zNzcyMzYgMC4xNzA1MzIsMC45MzUzNCB6IE0gMjEuNzg0MDQsMjcuNzEyMjA1IHYgLTEuNjA3MTMyIHEgLTAuNDQ0NDE2LDAuMDI1ODQgLTEuMDQ5MDI5LDAuMDc3NTEgLTAuNTk5NDQ0LDAuMDUxNjggLTAuOTUwODQzLDAuMTQ5ODYyIC0wLjQxODU3OCwwLjExODg1NSAtMC42NzY5NTksMC4zNzIwNjkgLTAuMjU4MzgxLDAuMjQ4MDQ2IC0wLjI1ODM4MSwwLjY4NzI5NCAwLDAuNDk2MDkyIDAuMjk5NzIyLDAuNzQ5MzA2IDAuMjk5NzIyLDAuMjQ4MDQ2IDAuOTE0NjcsMC4yNDgwNDYgMC41MTE1OTUsMCAwLjkzNTM0LC0wLjE5NjM3IDAuNDIzNzQ2LC0wLjIwMTUzNyAwLjc4NTQ4LC0wLjQ4MDU4OSB6IgogICAgICAgaWQ9InBhdGgyMCIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0iTSAyOS4zMDI5MzYsMjkuMTMzMzAyIEggMjguMzMxNDIyIFYgMjguNTI4NjkgcSAtMC40MTg1NzgsMC4zNjE3MzQgLTAuODczMzI5LDAuNTYzMjcxIC0wLjQ1NDc1MSwwLjIwMTUzOCAtMC45ODcwMTcsMC4yMDE1MzggLTEuMDMzNTI1LDAgLTEuNjQzMzA1LC0wLjc5NTgxNSAtMC42MDQ2MTIsLTAuNzk1ODE0IC0wLjYwNDYxMiwtMi4yMDY1NzYgMCwtMC43MzM4MDMgMC4yMDY3MDUsLTEuMzA3NDEgMC4yMTE4NzMsLTAuNTczNjA3IDAuNTY4NDM5LC0wLjk3NjY4MiAwLjM1MTM5OCwtMC4zOTI3MzkgMC44MTY0ODUsLTAuNTk5NDQ0IDAuNDcwMjU0LC0wLjIwNjcwNSAwLjk3MTUxNCwtMC4yMDY3MDUgMC40NTQ3NTEsMCAwLjgwNjE0OSwwLjA5ODE5IDAuMzUxMzk5LDAuMDkzMDIgMC43Mzg5NzEsMC4yOTQ1NTQgViAyMS4wOTI0OCBoIDAuOTcxNTE0IHogbSAtMC45NzE1MTQsLTEuNDIxMDk3IHYgLTMuMzEyNDQ5IHEgLTAuMzkyNzQsLTAuMTc1Njk5IC0wLjcwMjc5NywtMC4yNDI4NzggLTAuMzEwMDU4LC0wLjA2NzE4IC0wLjY3Njk1OSwtMC4wNjcxOCAtMC44MTY0ODUsMCAtMS4yNzEyMzYsMC41Njg0MzggLTAuNDU0NzUyLDAuNTY4NDM5IC0wLjQ1NDc1MiwxLjYxMjMgMCwxLjAyODM1OCAwLjM1MTM5OSwxLjU2NTc5MSAwLjM1MTM5OSwwLjUzMjI2NSAxLjEyNjU0MywwLjUzMjI2NSAwLjQxMzQxLDAgMC44MzcxNTUsLTAuMTgwODY2IDAuNDIzNzQ2LC0wLjE4NjAzNSAwLjc5MDY0NywtMC40NzU0MjEgeiIKICAgICAgIGlkPSJwYXRoMjIiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMzIuMjU4ODE4LDIyLjM5NDcxNyBIIDMxLjE2MzI4MSBWIDIxLjM4NzAzIGggMS4wOTU1MzcgeiBtIC0wLjA2MjAxLDYuNzM4NTg1IGggLTAuOTcxNTE0IHYgLTUuNzcyMjM5IGggMC45NzE1MTQgeiIKICAgICAgIGlkPSJwYXRoMjQiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Im0gMzguOTQ1NzI5LDI5LjEzMzMwMiBoIC0wLjk3MTUxMyB2IC0zLjI4NjYxIHEgMCwtMC4zOTc5MDggLTAuMDQ2NTEsLTAuNzQ0MTM5IC0wLjA0NjUxLC0wLjM1MTM5OCAtMC4xNzA1MzMsLTAuNTQ3NzY4IC0wLjEyOTE5MSwtMC4yMTcwNCAtMC4zNzIwNjgsLTAuMzIwMzkzIC0wLjI0Mjg4LC0wLjEwODUyIC0wLjYzMDQ1MiwtMC4xMDg1MiAtMC4zOTc5MDcsMCAtMC44MzE5ODgsMC4xOTYzNyAtMC40MzQwOCwwLjE5NjM3IC0wLjgzMTk4NywwLjUwMTI2IHYgNC4zMDk4IGggLTAuOTcxNTE2IHYgLTUuNzcyMjM5IGggMC45NzE1MTYgdiAwLjY0MDc4NiBxIDAuNDU0NzUsLTAuMzc3MjM3IDAuOTQwNTA2LC0wLjU4OTExIDAuNDg1NzU5LC0wLjIxMTg3MiAwLjk5NzM1MywtMC4yMTE4NzIgMC45MzUzNDEsMCAxLjQyNjI2NSwwLjU2MzI3MSAwLjQ5MDkyNywwLjU2MzI3MSAwLjQ5MDkyNywxLjYyMjYzNSB6IgogICAgICAgaWQ9InBhdGgyNiIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0ibSA0NS40OTgyOCwyOC40NzcwMTQgcSAwLDEuNDY3NjA2IC0wLjY2NjYyNSwyLjE1NDkgLTAuNjY2NjIzLDAuNjg3Mjk0IC0yLjA1MTU0OCwwLjY4NzI5NCAtMC40NTk5MiwwIC0wLjg5OTE2OCwtMC4wNjcxOCAtMC40MzQwNzgsLTAuMDYyMDEgLTAuODU3ODI0LC0wLjE4MDg2NyB2IC0wLjk5MjE4NCBoIDAuMDUxNjggcSAwLjIzNzcxMiwwLjA5MzAyIDAuNzU0NDc1LDAuMjI3Mzc2IDAuNTE2NzYzLDAuMTM5NTI1IDEuMDMzNTIzLDAuMTM5NTI1IDAuNDk2MDk0LDAgMC44MjE2NTMsLTAuMTE4ODU1IDAuMzI1NTYyLC0wLjExODg1NSAwLjUwNjQyOCwtMC4zMzA3MjggMC4xODA4NjcsLTAuMjAxNTM4IDAuMjU4MzgyLC0wLjQ4NTc1NyAwLjA3NzUxLC0wLjI4NDIxOSAwLjA3NzUxLC0wLjYzNTYxOCB2IC0wLjUyNzA5OCBxIC0wLjQzOTI0OCwwLjM1MTM5OSAtMC44NDIzMjMsMC41MjcwOTggLTAuMzk3OTA2LDAuMTcwNTMyIC0xLjAxODAyNCwwLjE3MDUzMiAtMS4wMzM1MjMsMCAtMS42NDMzMDMsLTAuNzQ0MTM5IC0wLjYwNDYxMiwtMC43NDkzMDYgLTAuNjA0NjEyLC0yLjEwODM5MSAwLC0wLjc0NDEzOSAwLjIwNjcwNSwtMS4yODE1NzIgMC4yMTE4NzMsLTAuNTQyNjAxIDAuNTczNjA2LC0wLjkzNTM0IDAuMzM1ODk0LC0wLjM2NjkwMiAwLjgxNjQ4MywtMC41Njg0MzkgMC40ODA1OTIsLTAuMjA2NzA1IDAuOTU2MDExLC0wLjIwNjcwNSAwLjUwMTI2MSwwIDAuODM3MTU4LDAuMTAzMzUyIDAuMzQxMDY0LDAuMDk4MTkgMC43MTgyOTksMC4zMDQ4OSBsIDAuMDYyMDEsLTAuMjQ4MDQ2IGggMC45MDk1MDMgeiBNIDQ0LjUyNjc2NSwyNy41NDY4NDEgViAyNC4zOTk3NTYgUSA0NC4xMzkxOTIsMjQuMjI0MDU3IDQzLjgwMzI5OSwyNC4xNTE3MSA0My40NzI1NjksMjQuMDc0MiA0My4xNDE4NCwyNC4wNzQyIHEgLTAuODAwOTgxLDAgLTEuMjYwOTAxLDAuNTM3NDMzIC0wLjQ1OTkxNywwLjUzNzQzMyAtMC40NTk5MTcsMS41NjA2MjMgMCwwLjk3MTUxNCAwLjM0MTA2NCwxLjQ3Mjc3NCAwLjM0MTA2NCwwLjUwMTI2IDEuMTMxNzEsMC41MDEyNiAwLjQyMzc0MywwIDAuODQ3NDksLTAuMTYwMTk3IDAuNDI4OTEzLC0wLjE2NTM2NCAwLjc4NTQ3OSwtMC40MzkyNDggeiIKICAgICAgIGlkPSJwYXRoMjgiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogIDwvZz4KPC9zdmc+Cg==",{x:0,y:0},{width:100,height:100}),this.loadImageLocally(i).then(()=>t.log(i.name+"loadImageLocally promise finished: "+this._state)),this._progress=this._api.upload(i),this._ready=new Promise(function(){var o=te(function*(a,l){s._progress.Done.catch(c=>l(c)),s._progress.Done.then(function(){var c=te(function*(u){yield s.uploadAndPrepareFile(i,u[0],u[1]),t.log(i.name+" uploadAndPrepareFile promise finished: "+s._state),a(s._state)});return function(u){return c.apply(this,arguments)}}())});return function(a,l){return o.apply(this,arguments)}}())}get resourcePath(){switch(this._state){case Tt.NotLoaded:return"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgd2lkdGg9IjIwMCIKICAgaGVpZ2h0PSIyMDAiCiAgIHZpZXdCb3g9IjAgMCA1Mi45MTY2NjYgNTIuOTE2NjY2IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczMyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4wLjEgKDNiYzJlODEzZjUsIDIwMjAtMDktMDcpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJsb2FkaW5nX2JhY2suc3ZnIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzMjciPgogICAgPHBhdHRlcm4KICAgICAgIGlua3NjYXBlOmNvbGxlY3Q9ImFsd2F5cyIKICAgICAgIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiCiAgICAgICB3aWR0aD0iMiIKICAgICAgIGhlaWdodD0iMiIKICAgICAgIHBhdHRlcm5UcmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIHNjYWxlKDEwLDEwKSIKICAgICAgIGlkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTpzdG9ja2lkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTppc3N0b2NrPSJ0cnVlIj4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjAiCiAgICAgICAgIHk9IjAiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzNiIgLz4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjEiCiAgICAgICAgIHk9IjEiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzOCIgLz4KICAgIDwvcGF0dGVybj4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjIuOCIKICAgICBpbmtzY2FwZTpjeD0iNjQuODcyMzU3IgogICAgIGlua3NjYXBlOmN5PSIxMDUuMzU3ODQiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9Im1tIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC1yb3RhdGlvbj0iMCIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgdW5pdHM9InB4IgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDE3IgogICAgIGlua3NjYXBlOndpbmRvdy14PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIgLz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGEzMCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0i0KHQu9C+0LkgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOnVybCgjQ2hlY2tlcmJvYXJkKTtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2Utd2lkdGg6MS41OTAwODtvcGFjaXR5OjAuMiIKICAgICAgIGlkPSJyZWN0NjgiCiAgICAgICB3aWR0aD0iNTAiCiAgICAgICBoZWlnaHQ9IjUwIgogICAgICAgeD0iLTUuOTc1NzgzNGUtMDkiCiAgICAgICB5PSIwIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMTAuODk1ODUsMjkuMTMzMzAyIEggNi4wMjc5NDU3IHYgLTcuNjk0NTk2IGggMS4wMjMxOSBWIDI4LjIyMzggSCAxMC44OTU4NSBaIgogICAgICAgaWQ9InBhdGgxNiIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0ibSAxNi43NjExMDYsMjYuMjQ5NzY2IHEgMCwxLjQxMDc2MyAtMC43MjM0NjgsMi4yMjcyNDggLTAuNzIzNDY3LDAuODE2NDg1IC0xLjkzNzg2LDAuODE2NDg1IC0xLjIyNDcyNywwIC0xLjk0ODE5NSwtMC44MTY0ODUgLTAuNzE4MywtMC44MTY0ODUgLTAuNzE4MywtMi4yMjcyNDggMCwtMS40MTA3NjIgMC43MTgzLC0yLjIyNzI0NyAwLjcyMzQ2OCwtMC44MjE2NTIgMS45NDgxOTUsLTAuODIxNjUyIDEuMjE0MzkzLDAgMS45Mzc4NiwwLjgyMTY1MiAwLjcyMzQ2OCwwLjgxNjQ4NSAwLjcyMzQ2OCwyLjIyNzI0NyB6IG0gLTEuMDAyNTE5LDAgcSAwLC0xLjEyMTM3NSAtMC40MzkyNDksLTEuNjYzOTc1IC0wLjQzOTI0OCwtMC41NDc3NjkgLTEuMjE5NTYsLTAuNTQ3NzY5IC0wLjc5MDY0NiwwIC0xLjIyOTg5NSwwLjU0Nzc2OSAtMC40MzQwOCwwLjU0MjYgLTAuNDM0MDgsMS42NjM5NzUgMCwxLjA4NTIwMiAwLjQzOTI0OCwxLjY0ODQ3MyAwLjQzOTI0OCwwLjU1ODEwNCAxLjIyNDcyNywwLjU1ODEwNCAwLjc3NTE0NCwwIDEuMjE0MzkzLC0wLjU1MjkzNiAwLjQ0NDQxNiwtMC41NTgxMDQgMC40NDQ0MTYsLTEuNjUzNjQxIHoiCiAgICAgICBpZD0icGF0aDE4IgogICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MTAuNTgzM3B4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjt3aGl0ZS1zcGFjZTpwcmU7c2hhcGUtaW5zaWRlOnVybCgjcmVjdDEyKTtmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjAuNTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MSIgLz4KICAgIDxwYXRoCiAgICAgICBkPSJNIDIyLjc1MDM4NiwyOS4xMzMzMDIgSCAyMS43ODQwNCB2IC0wLjYxNDk0NyBxIC0wLjEyOTE5MSwwLjA4Nzg1IC0wLjM1MTM5OSwwLjI0ODA0NiAtMC4yMTcwNCwwLjE1NTAyOSAtMC40MjM3NDUsMC4yNDgwNDYgLTAuMjQyODc5LDAuMTE4ODU1IC0wLjU1ODEwNCwwLjE5NjM3IC0wLjMxNTIyNSwwLjA4MjY4IC0wLjczODk3MSwwLjA4MjY4IC0wLjc4MDMxMSwwIC0xLjMyMjkxMiwtMC41MTY3NjMgLTAuNTQyNjAxLC0wLjUxNjc2MyAtMC41NDI2MDEsLTEuMzE3NzQ1IDAsLTAuNjU2Mjg4IDAuMjc5MDUyLC0xLjA1OTM2MyAwLjI4NDIxOSwtMC40MDgyNDMgMC44MDYxNSwtMC42NDA3ODYgMC41MjcwOTgsLTAuMjMyNTQzIDEuMjY2MDY4LC0wLjMxNTIyNSAwLjczODk3MSwtMC4wODI2OCAxLjU4NjQ2MiwtMC4xMjQwMjMgViAyNS4xNjk3MyBxIDAsLTAuMzMwNzI4IC0wLjExODg1NiwtMC41NDc3NjggLTAuMTEzNjg4LC0wLjIxNzA0IC0wLjMzMDcyOCwtMC4zNDEwNjMgLTAuMjA2NzA1LC0wLjExODg1NiAtMC40OTYwOTIsLTAuMTYwMTk3IC0wLjI4OTM4NywtMC4wNDEzNCAtMC42MDQ2MTIsLTAuMDQxMzQgLTAuMzgyNDA1LDAgLTAuODUyNjU5LDAuMTAzMzUzIC0wLjQ3MDI1NCwwLjA5ODE5IC0wLjk3MTUxNCwwLjI4OTM4NyBoIC0wLjA1MTY4IHYgLTAuOTg3MDE3IHEgMC4yODQyMiwtMC4wNzc1MSAwLjgyMTY1MywtMC4xNzA1MzIgMC41Mzc0MzMsLTAuMDkzMDIgMS4wNTkzNjMsLTAuMDkzMDIgMC42MDk3OCwwIDEuMDU5MzY0LDAuMTAzMzUzIDAuNDU0NzUxLDAuMDk4MTkgMC43ODU0NzksMC4zNDEwNjMgMC4zMjU1NjEsMC4yMzc3MTEgMC40OTYwOTIsMC42MTQ5NDggMC4xNzA1MzIsMC4zNzcyMzYgMC4xNzA1MzIsMC45MzUzNCB6IE0gMjEuNzg0MDQsMjcuNzEyMjA1IHYgLTEuNjA3MTMyIHEgLTAuNDQ0NDE2LDAuMDI1ODQgLTEuMDQ5MDI5LDAuMDc3NTEgLTAuNTk5NDQ0LDAuMDUxNjggLTAuOTUwODQzLDAuMTQ5ODYyIC0wLjQxODU3OCwwLjExODg1NSAtMC42NzY5NTksMC4zNzIwNjkgLTAuMjU4MzgxLDAuMjQ4MDQ2IC0wLjI1ODM4MSwwLjY4NzI5NCAwLDAuNDk2MDkyIDAuMjk5NzIyLDAuNzQ5MzA2IDAuMjk5NzIyLDAuMjQ4MDQ2IDAuOTE0NjcsMC4yNDgwNDYgMC41MTE1OTUsMCAwLjkzNTM0LC0wLjE5NjM3IDAuNDIzNzQ2LC0wLjIwMTUzNyAwLjc4NTQ4LC0wLjQ4MDU4OSB6IgogICAgICAgaWQ9InBhdGgyMCIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0iTSAyOS4zMDI5MzYsMjkuMTMzMzAyIEggMjguMzMxNDIyIFYgMjguNTI4NjkgcSAtMC40MTg1NzgsMC4zNjE3MzQgLTAuODczMzI5LDAuNTYzMjcxIC0wLjQ1NDc1MSwwLjIwMTUzOCAtMC45ODcwMTcsMC4yMDE1MzggLTEuMDMzNTI1LDAgLTEuNjQzMzA1LC0wLjc5NTgxNSAtMC42MDQ2MTIsLTAuNzk1ODE0IC0wLjYwNDYxMiwtMi4yMDY1NzYgMCwtMC43MzM4MDMgMC4yMDY3MDUsLTEuMzA3NDEgMC4yMTE4NzMsLTAuNTczNjA3IDAuNTY4NDM5LC0wLjk3NjY4MiAwLjM1MTM5OCwtMC4zOTI3MzkgMC44MTY0ODUsLTAuNTk5NDQ0IDAuNDcwMjU0LC0wLjIwNjcwNSAwLjk3MTUxNCwtMC4yMDY3MDUgMC40NTQ3NTEsMCAwLjgwNjE0OSwwLjA5ODE5IDAuMzUxMzk5LDAuMDkzMDIgMC43Mzg5NzEsMC4yOTQ1NTQgViAyMS4wOTI0OCBoIDAuOTcxNTE0IHogbSAtMC45NzE1MTQsLTEuNDIxMDk3IHYgLTMuMzEyNDQ5IHEgLTAuMzkyNzQsLTAuMTc1Njk5IC0wLjcwMjc5NywtMC4yNDI4NzggLTAuMzEwMDU4LC0wLjA2NzE4IC0wLjY3Njk1OSwtMC4wNjcxOCAtMC44MTY0ODUsMCAtMS4yNzEyMzYsMC41Njg0MzggLTAuNDU0NzUyLDAuNTY4NDM5IC0wLjQ1NDc1MiwxLjYxMjMgMCwxLjAyODM1OCAwLjM1MTM5OSwxLjU2NTc5MSAwLjM1MTM5OSwwLjUzMjI2NSAxLjEyNjU0MywwLjUzMjI2NSAwLjQxMzQxLDAgMC44MzcxNTUsLTAuMTgwODY2IDAuNDIzNzQ2LC0wLjE4NjAzNSAwLjc5MDY0NywtMC40NzU0MjEgeiIKICAgICAgIGlkPSJwYXRoMjIiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMzIuMjU4ODE4LDIyLjM5NDcxNyBIIDMxLjE2MzI4MSBWIDIxLjM4NzAzIGggMS4wOTU1MzcgeiBtIC0wLjA2MjAxLDYuNzM4NTg1IGggLTAuOTcxNTE0IHYgLTUuNzcyMjM5IGggMC45NzE1MTQgeiIKICAgICAgIGlkPSJwYXRoMjQiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Im0gMzguOTQ1NzI5LDI5LjEzMzMwMiBoIC0wLjk3MTUxMyB2IC0zLjI4NjYxIHEgMCwtMC4zOTc5MDggLTAuMDQ2NTEsLTAuNzQ0MTM5IC0wLjA0NjUxLC0wLjM1MTM5OCAtMC4xNzA1MzMsLTAuNTQ3NzY4IC0wLjEyOTE5MSwtMC4yMTcwNCAtMC4zNzIwNjgsLTAuMzIwMzkzIC0wLjI0Mjg4LC0wLjEwODUyIC0wLjYzMDQ1MiwtMC4xMDg1MiAtMC4zOTc5MDcsMCAtMC44MzE5ODgsMC4xOTYzNyAtMC40MzQwOCwwLjE5NjM3IC0wLjgzMTk4NywwLjUwMTI2IHYgNC4zMDk4IGggLTAuOTcxNTE2IHYgLTUuNzcyMjM5IGggMC45NzE1MTYgdiAwLjY0MDc4NiBxIDAuNDU0NzUsLTAuMzc3MjM3IDAuOTQwNTA2LC0wLjU4OTExIDAuNDg1NzU5LC0wLjIxMTg3MiAwLjk5NzM1MywtMC4yMTE4NzIgMC45MzUzNDEsMCAxLjQyNjI2NSwwLjU2MzI3MSAwLjQ5MDkyNywwLjU2MzI3MSAwLjQ5MDkyNywxLjYyMjYzNSB6IgogICAgICAgaWQ9InBhdGgyNiIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0ibSA0NS40OTgyOCwyOC40NzcwMTQgcSAwLDEuNDY3NjA2IC0wLjY2NjYyNSwyLjE1NDkgLTAuNjY2NjIzLDAuNjg3Mjk0IC0yLjA1MTU0OCwwLjY4NzI5NCAtMC40NTk5MiwwIC0wLjg5OTE2OCwtMC4wNjcxOCAtMC40MzQwNzgsLTAuMDYyMDEgLTAuODU3ODI0LC0wLjE4MDg2NyB2IC0wLjk5MjE4NCBoIDAuMDUxNjggcSAwLjIzNzcxMiwwLjA5MzAyIDAuNzU0NDc1LDAuMjI3Mzc2IDAuNTE2NzYzLDAuMTM5NTI1IDEuMDMzNTIzLDAuMTM5NTI1IDAuNDk2MDk0LDAgMC44MjE2NTMsLTAuMTE4ODU1IDAuMzI1NTYyLC0wLjExODg1NSAwLjUwNjQyOCwtMC4zMzA3MjggMC4xODA4NjcsLTAuMjAxNTM4IDAuMjU4MzgyLC0wLjQ4NTc1NyAwLjA3NzUxLC0wLjI4NDIxOSAwLjA3NzUxLC0wLjYzNTYxOCB2IC0wLjUyNzA5OCBxIC0wLjQzOTI0OCwwLjM1MTM5OSAtMC44NDIzMjMsMC41MjcwOTggLTAuMzk3OTA2LDAuMTcwNTMyIC0xLjAxODAyNCwwLjE3MDUzMiAtMS4wMzM1MjMsMCAtMS42NDMzMDMsLTAuNzQ0MTM5IC0wLjYwNDYxMiwtMC43NDkzMDYgLTAuNjA0NjEyLC0yLjEwODM5MSAwLC0wLjc0NDEzOSAwLjIwNjcwNSwtMS4yODE1NzIgMC4yMTE4NzMsLTAuNTQyNjAxIDAuNTczNjA2LC0wLjkzNTM0IDAuMzM1ODk0LC0wLjM2NjkwMiAwLjgxNjQ4MywtMC41Njg0MzkgMC40ODA1OTIsLTAuMjA2NzA1IDAuOTU2MDExLC0wLjIwNjcwNSAwLjUwMTI2MSwwIDAuODM3MTU4LDAuMTAzMzUyIDAuMzQxMDY0LDAuMDk4MTkgMC43MTgyOTksMC4zMDQ4OSBsIDAuMDYyMDEsLTAuMjQ4MDQ2IGggMC45MDk1MDMgeiBNIDQ0LjUyNjc2NSwyNy41NDY4NDEgViAyNC4zOTk3NTYgUSA0NC4xMzkxOTIsMjQuMjI0MDU3IDQzLjgwMzI5OSwyNC4xNTE3MSA0My40NzI1NjksMjQuMDc0MiA0My4xNDE4NCwyNC4wNzQyIHEgLTAuODAwOTgxLDAgLTEuMjYwOTAxLDAuNTM3NDMzIC0wLjQ1OTkxNywwLjUzNzQzMyAtMC40NTk5MTcsMS41NjA2MjMgMCwwLjk3MTUxNCAwLjM0MTA2NCwxLjQ3Mjc3NCAwLjM0MTA2NCwwLjUwMTI2IDEuMTMxNzEsMC41MDEyNiAwLjQyMzc0MywwIDAuODQ3NDksLTAuMTYwMTk3IDAuNDI4OTEzLC0wLjE2NTM2NCAwLjc4NTQ3OSwtMC40MzkyNDggeiIKICAgICAgIGlkPSJwYXRoMjgiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogIDwvZz4KPC9zdmc+Cg==";case Tt.LoadedLocally:case Tt.LoadedToServer:case Tt.EndedConversion:return this._placement?.resourcePath;default:return"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgd2lkdGg9IjIwMCIKICAgaGVpZ2h0PSIyMDAiCiAgIHZpZXdCb3g9IjAgMCA1Mi45MTY2NjYgNTIuOTE2NjY2IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczMyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4wLjEgKDNiYzJlODEzZjUsIDIwMjAtMDktMDcpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJsb2FkaW5nX2JhY2suc3ZnIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzMjciPgogICAgPHBhdHRlcm4KICAgICAgIGlua3NjYXBlOmNvbGxlY3Q9ImFsd2F5cyIKICAgICAgIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiCiAgICAgICB3aWR0aD0iMiIKICAgICAgIGhlaWdodD0iMiIKICAgICAgIHBhdHRlcm5UcmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIHNjYWxlKDEwLDEwKSIKICAgICAgIGlkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTpzdG9ja2lkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTppc3N0b2NrPSJ0cnVlIj4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjAiCiAgICAgICAgIHk9IjAiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzNiIgLz4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjEiCiAgICAgICAgIHk9IjEiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzOCIgLz4KICAgIDwvcGF0dGVybj4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjIuOCIKICAgICBpbmtzY2FwZTpjeD0iNjQuODcyMzU3IgogICAgIGlua3NjYXBlOmN5PSIxMDUuMzU3ODQiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9Im1tIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC1yb3RhdGlvbj0iMCIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgdW5pdHM9InB4IgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDE3IgogICAgIGlua3NjYXBlOndpbmRvdy14PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIgLz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGEzMCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0i0KHQu9C+0LkgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOnVybCgjQ2hlY2tlcmJvYXJkKTtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2Utd2lkdGg6MS41OTAwODtvcGFjaXR5OjAuMiIKICAgICAgIGlkPSJyZWN0NjgiCiAgICAgICB3aWR0aD0iNTAiCiAgICAgICBoZWlnaHQ9IjUwIgogICAgICAgeD0iLTUuOTc1NzgzNGUtMDkiCiAgICAgICB5PSIwIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMTAuODk1ODUsMjkuMTMzMzAyIEggNi4wMjc5NDU3IHYgLTcuNjk0NTk2IGggMS4wMjMxOSBWIDI4LjIyMzggSCAxMC44OTU4NSBaIgogICAgICAgaWQ9InBhdGgxNiIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0ibSAxNi43NjExMDYsMjYuMjQ5NzY2IHEgMCwxLjQxMDc2MyAtMC43MjM0NjgsMi4yMjcyNDggLTAuNzIzNDY3LDAuODE2NDg1IC0xLjkzNzg2LDAuODE2NDg1IC0xLjIyNDcyNywwIC0xLjk0ODE5NSwtMC44MTY0ODUgLTAuNzE4MywtMC44MTY0ODUgLTAuNzE4MywtMi4yMjcyNDggMCwtMS40MTA3NjIgMC43MTgzLC0yLjIyNzI0NyAwLjcyMzQ2OCwtMC44MjE2NTIgMS45NDgxOTUsLTAuODIxNjUyIDEuMjE0MzkzLDAgMS45Mzc4NiwwLjgyMTY1MiAwLjcyMzQ2OCwwLjgxNjQ4NSAwLjcyMzQ2OCwyLjIyNzI0NyB6IG0gLTEuMDAyNTE5LDAgcSAwLC0xLjEyMTM3NSAtMC40MzkyNDksLTEuNjYzOTc1IC0wLjQzOTI0OCwtMC41NDc3NjkgLTEuMjE5NTYsLTAuNTQ3NzY5IC0wLjc5MDY0NiwwIC0xLjIyOTg5NSwwLjU0Nzc2OSAtMC40MzQwOCwwLjU0MjYgLTAuNDM0MDgsMS42NjM5NzUgMCwxLjA4NTIwMiAwLjQzOTI0OCwxLjY0ODQ3MyAwLjQzOTI0OCwwLjU1ODEwNCAxLjIyNDcyNywwLjU1ODEwNCAwLjc3NTE0NCwwIDEuMjE0MzkzLC0wLjU1MjkzNiAwLjQ0NDQxNiwtMC41NTgxMDQgMC40NDQ0MTYsLTEuNjUzNjQxIHoiCiAgICAgICBpZD0icGF0aDE4IgogICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MTAuNTgzM3B4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjt3aGl0ZS1zcGFjZTpwcmU7c2hhcGUtaW5zaWRlOnVybCgjcmVjdDEyKTtmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjAuNTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MSIgLz4KICAgIDxwYXRoCiAgICAgICBkPSJNIDIyLjc1MDM4NiwyOS4xMzMzMDIgSCAyMS43ODQwNCB2IC0wLjYxNDk0NyBxIC0wLjEyOTE5MSwwLjA4Nzg1IC0wLjM1MTM5OSwwLjI0ODA0NiAtMC4yMTcwNCwwLjE1NTAyOSAtMC40MjM3NDUsMC4yNDgwNDYgLTAuMjQyODc5LDAuMTE4ODU1IC0wLjU1ODEwNCwwLjE5NjM3IC0wLjMxNTIyNSwwLjA4MjY4IC0wLjczODk3MSwwLjA4MjY4IC0wLjc4MDMxMSwwIC0xLjMyMjkxMiwtMC41MTY3NjMgLTAuNTQyNjAxLC0wLjUxNjc2MyAtMC41NDI2MDEsLTEuMzE3NzQ1IDAsLTAuNjU2Mjg4IDAuMjc5MDUyLC0xLjA1OTM2MyAwLjI4NDIxOSwtMC40MDgyNDMgMC44MDYxNSwtMC42NDA3ODYgMC41MjcwOTgsLTAuMjMyNTQzIDEuMjY2MDY4LC0wLjMxNTIyNSAwLjczODk3MSwtMC4wODI2OCAxLjU4NjQ2MiwtMC4xMjQwMjMgViAyNS4xNjk3MyBxIDAsLTAuMzMwNzI4IC0wLjExODg1NiwtMC41NDc3NjggLTAuMTEzNjg4LC0wLjIxNzA0IC0wLjMzMDcyOCwtMC4zNDEwNjMgLTAuMjA2NzA1LC0wLjExODg1NiAtMC40OTYwOTIsLTAuMTYwMTk3IC0wLjI4OTM4NywtMC4wNDEzNCAtMC42MDQ2MTIsLTAuMDQxMzQgLTAuMzgyNDA1LDAgLTAuODUyNjU5LDAuMTAzMzUzIC0wLjQ3MDI1NCwwLjA5ODE5IC0wLjk3MTUxNCwwLjI4OTM4NyBoIC0wLjA1MTY4IHYgLTAuOTg3MDE3IHEgMC4yODQyMiwtMC4wNzc1MSAwLjgyMTY1MywtMC4xNzA1MzIgMC41Mzc0MzMsLTAuMDkzMDIgMS4wNTkzNjMsLTAuMDkzMDIgMC42MDk3OCwwIDEuMDU5MzY0LDAuMTAzMzUzIDAuNDU0NzUxLDAuMDk4MTkgMC43ODU0NzksMC4zNDEwNjMgMC4zMjU1NjEsMC4yMzc3MTEgMC40OTYwOTIsMC42MTQ5NDggMC4xNzA1MzIsMC4zNzcyMzYgMC4xNzA1MzIsMC45MzUzNCB6IE0gMjEuNzg0MDQsMjcuNzEyMjA1IHYgLTEuNjA3MTMyIHEgLTAuNDQ0NDE2LDAuMDI1ODQgLTEuMDQ5MDI5LDAuMDc3NTEgLTAuNTk5NDQ0LDAuMDUxNjggLTAuOTUwODQzLDAuMTQ5ODYyIC0wLjQxODU3OCwwLjExODg1NSAtMC42NzY5NTksMC4zNzIwNjkgLTAuMjU4MzgxLDAuMjQ4MDQ2IC0wLjI1ODM4MSwwLjY4NzI5NCAwLDAuNDk2MDkyIDAuMjk5NzIyLDAuNzQ5MzA2IDAuMjk5NzIyLDAuMjQ4MDQ2IDAuOTE0NjcsMC4yNDgwNDYgMC41MTE1OTUsMCAwLjkzNTM0LC0wLjE5NjM3IDAuNDIzNzQ2LC0wLjIwMTUzNyAwLjc4NTQ4LC0wLjQ4MDU4OSB6IgogICAgICAgaWQ9InBhdGgyMCIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0iTSAyOS4zMDI5MzYsMjkuMTMzMzAyIEggMjguMzMxNDIyIFYgMjguNTI4NjkgcSAtMC40MTg1NzgsMC4zNjE3MzQgLTAuODczMzI5LDAuNTYzMjcxIC0wLjQ1NDc1MSwwLjIwMTUzOCAtMC45ODcwMTcsMC4yMDE1MzggLTEuMDMzNTI1LDAgLTEuNjQzMzA1LC0wLjc5NTgxNSAtMC42MDQ2MTIsLTAuNzk1ODE0IC0wLjYwNDYxMiwtMi4yMDY1NzYgMCwtMC43MzM4MDMgMC4yMDY3MDUsLTEuMzA3NDEgMC4yMTE4NzMsLTAuNTczNjA3IDAuNTY4NDM5LC0wLjk3NjY4MiAwLjM1MTM5OCwtMC4zOTI3MzkgMC44MTY0ODUsLTAuNTk5NDQ0IDAuNDcwMjU0LC0wLjIwNjcwNSAwLjk3MTUxNCwtMC4yMDY3MDUgMC40NTQ3NTEsMCAwLjgwNjE0OSwwLjA5ODE5IDAuMzUxMzk5LDAuMDkzMDIgMC43Mzg5NzEsMC4yOTQ1NTQgViAyMS4wOTI0OCBoIDAuOTcxNTE0IHogbSAtMC45NzE1MTQsLTEuNDIxMDk3IHYgLTMuMzEyNDQ5IHEgLTAuMzkyNzQsLTAuMTc1Njk5IC0wLjcwMjc5NywtMC4yNDI4NzggLTAuMzEwMDU4LC0wLjA2NzE4IC0wLjY3Njk1OSwtMC4wNjcxOCAtMC44MTY0ODUsMCAtMS4yNzEyMzYsMC41Njg0MzggLTAuNDU0NzUyLDAuNTY4NDM5IC0wLjQ1NDc1MiwxLjYxMjMgMCwxLjAyODM1OCAwLjM1MTM5OSwxLjU2NTc5MSAwLjM1MTM5OSwwLjUzMjI2NSAxLjEyNjU0MywwLjUzMjI2NSAwLjQxMzQxLDAgMC44MzcxNTUsLTAuMTgwODY2IDAuNDIzNzQ2LC0wLjE4NjAzNSAwLjc5MDY0NywtMC40NzU0MjEgeiIKICAgICAgIGlkPSJwYXRoMjIiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMzIuMjU4ODE4LDIyLjM5NDcxNyBIIDMxLjE2MzI4MSBWIDIxLjM4NzAzIGggMS4wOTU1MzcgeiBtIC0wLjA2MjAxLDYuNzM4NTg1IGggLTAuOTcxNTE0IHYgLTUuNzcyMjM5IGggMC45NzE1MTQgeiIKICAgICAgIGlkPSJwYXRoMjQiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Im0gMzguOTQ1NzI5LDI5LjEzMzMwMiBoIC0wLjk3MTUxMyB2IC0zLjI4NjYxIHEgMCwtMC4zOTc5MDggLTAuMDQ2NTEsLTAuNzQ0MTM5IC0wLjA0NjUxLC0wLjM1MTM5OCAtMC4xNzA1MzMsLTAuNTQ3NzY4IC0wLjEyOTE5MSwtMC4yMTcwNCAtMC4zNzIwNjgsLTAuMzIwMzkzIC0wLjI0Mjg4LC0wLjEwODUyIC0wLjYzMDQ1MiwtMC4xMDg1MiAtMC4zOTc5MDcsMCAtMC44MzE5ODgsMC4xOTYzNyAtMC40MzQwOCwwLjE5NjM3IC0wLjgzMTk4NywwLjUwMTI2IHYgNC4zMDk4IGggLTAuOTcxNTE2IHYgLTUuNzcyMjM5IGggMC45NzE1MTYgdiAwLjY0MDc4NiBxIDAuNDU0NzUsLTAuMzc3MjM3IDAuOTQwNTA2LC0wLjU4OTExIDAuNDg1NzU5LC0wLjIxMTg3MiAwLjk5NzM1MywtMC4yMTE4NzIgMC45MzUzNDEsMCAxLjQyNjI2NSwwLjU2MzI3MSAwLjQ5MDkyNywwLjU2MzI3MSAwLjQ5MDkyNywxLjYyMjYzNSB6IgogICAgICAgaWQ9InBhdGgyNiIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjEwLjU4MzNweDtsaW5lLWhlaWdodDoxLjI1O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMik7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEiIC8+CiAgICA8cGF0aAogICAgICAgZD0ibSA0NS40OTgyOCwyOC40NzcwMTQgcSAwLDEuNDY3NjA2IC0wLjY2NjYyNSwyLjE1NDkgLTAuNjY2NjIzLDAuNjg3Mjk0IC0yLjA1MTU0OCwwLjY4NzI5NCAtMC40NTk5MiwwIC0wLjg5OTE2OCwtMC4wNjcxOCAtMC40MzQwNzgsLTAuMDYyMDEgLTAuODU3ODI0LC0wLjE4MDg2NyB2IC0wLjk5MjE4NCBoIDAuMDUxNjggcSAwLjIzNzcxMiwwLjA5MzAyIDAuNzU0NDc1LDAuMjI3Mzc2IDAuNTE2NzYzLDAuMTM5NTI1IDEuMDMzNTIzLDAuMTM5NTI1IDAuNDk2MDk0LDAgMC44MjE2NTMsLTAuMTE4ODU1IDAuMzI1NTYyLC0wLjExODg1NSAwLjUwNjQyOCwtMC4zMzA3MjggMC4xODA4NjcsLTAuMjAxNTM4IDAuMjU4MzgyLC0wLjQ4NTc1NyAwLjA3NzUxLC0wLjI4NDIxOSAwLjA3NzUxLC0wLjYzNTYxOCB2IC0wLjUyNzA5OCBxIC0wLjQzOTI0OCwwLjM1MTM5OSAtMC44NDIzMjMsMC41MjcwOTggLTAuMzk3OTA2LDAuMTcwNTMyIC0xLjAxODAyNCwwLjE3MDUzMiAtMS4wMzM1MjMsMCAtMS42NDMzMDMsLTAuNzQ0MTM5IC0wLjYwNDYxMiwtMC43NDkzMDYgLTAuNjA0NjEyLC0yLjEwODM5MSAwLC0wLjc0NDEzOSAwLjIwNjcwNSwtMS4yODE1NzIgMC4yMTE4NzMsLTAuNTQyNjAxIDAuNTczNjA2LC0wLjkzNTM0IDAuMzM1ODk0LC0wLjM2NjkwMiAwLjgxNjQ4MywtMC41Njg0MzkgMC40ODA1OTIsLTAuMjA2NzA1IDAuOTU2MDExLC0wLjIwNjcwNSAwLjUwMTI2MSwwIDAuODM3MTU4LDAuMTAzMzUyIDAuMzQxMDY0LDAuMDk4MTkgMC43MTgyOTksMC4zMDQ4OSBsIDAuMDYyMDEsLTAuMjQ4MDQ2IGggMC45MDk1MDMgeiBNIDQ0LjUyNjc2NSwyNy41NDY4NDEgViAyNC4zOTk3NTYgUSA0NC4xMzkxOTIsMjQuMjI0MDU3IDQzLjgwMzI5OSwyNC4xNTE3MSA0My40NzI1NjksMjQuMDc0MiA0My4xNDE4NCwyNC4wNzQyIHEgLTAuODAwOTgxLDAgLTEuMjYwOTAxLDAuNTM3NDMzIC0wLjQ1OTkxNywwLjUzNzQzMyAtMC40NTk5MTcsMS41NjA2MjMgMCwwLjk3MTUxNCAwLjM0MTA2NCwxLjQ3Mjc3NCAwLjM0MTA2NCwwLjUwMTI2IDEuMTMxNzEsMC41MDEyNiAwLjQyMzc0MywwIDAuODQ3NDksLTAuMTYwMTk3IDAuNDI4OTEzLC0wLjE2NTM2NCAwLjc4NTQ3OSwtMC40MzkyNDggeiIKICAgICAgIGlkPSJwYXRoMjgiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMC41ODMzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3doaXRlLXNwYWNlOnByZTtzaGFwZS1pbnNpZGU6dXJsKCNyZWN0MTIpO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC41O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}get positionInResource(){return this._state===Tt.LoadedToServer?this._placement.positionInResource:{x:0,y:0}}get sizeInResource(){return this._placement.sizeInResource}get progress(){return this._progress}get ready(){return this._ready}uploadAndPrepareFile(e,t,i){var r=this;return te(function*(){let s=fn.getFileTypeFromExtension(e);if(!fn.isTypeSupportedByBrowserNatively(s))throw"Use ImageConverter to load and convert this image: "+s;{const o=r._api.getImageUrlFromFolderAndFileName(t,i);r._placement=new Ui(o,r.positionInResource,r.sizeInResource),r._state=Tt.LoadedToServer}})()}loadImageLocally(e){var t=this;return te(function*(){let i=fn.getFileTypeFromExtension(e);if(fn.isTypeSupportedByBrowserNatively(i)){const r=yield fn.fileTodataURL(e),s=yield Yy(r);t._placement=new Ui(r,{x:0,y:0},{width:s.x,height:s.y}),t._state=Tt.LoadedLocally}})()}}let au=(()=>{class n{constructor(t,i){this._imageStorage=t,this._logger=i,this.forms=[],this.layerModels=[]}onFormCloseHandler(t,i){var r=this;return te(function*(){r._logger.log("form close in Manager",t,i),r._logger.log(r),r._logger.log(r.forms);for(var s=0;s<r.forms.length;s++)if(r.forms[s]===t){if(i){if(r.layerModels[s].type===k.TextLayer){let o=r.layerModels[s];r._logger.log("value of text layer",o),o.startTransaction(),o.name=r.forms[s].getParam("name"),o.text=r.forms[s].getParam("text"),o.commitTransaction(),r.removeForm(s);break}if(r.layerModels[s].type===k.RegularLayer){let o=r.layerModels[s];r._logger.log("value of regular layer",o);let c,a=r.forms[s].getParam("name"),l=r.forms[s].getParam("imageId");c=r._imageStorage.getImage(l);let d,u=r.forms[s].getParam("resizeBehavior");c instanceof yA&&(d=c),"original"==u&&d?.ready.then(()=>{o.startTransaction(),o.sizeX=c.sizeInResource.width,o.sizeY=c.sizeInResource.height,o.commitTransaction()}),r._imageStorage.replaceImage(o.id,c),o.startTransaction(),o.name=a,o.updateImageIdUsingServer(l),o.commitTransaction(),r._logger.log("replace regular layer image"),r._logger.log("ImageIdUpdated",r.forms[s].getParam("imageId")),r.removeForm(s);break}}r.removeForm(s);break}})()}removeForm(t){this.forms.splice(t,1),this.layerModels.splice(t,1),this._logger.log("form close + index"+t)}ShowForm(t){var i=this;return te(function*(){for(var r=0;r<i.forms.length;r++)if(i.layerModels[r]===t)return;var s;if(t.type===k.TextLayer)(s=new qr("textLayer","Text Layer Edit",[["name",t.name],["text",t.text]])).isVisible=!0;else{if(t.type!==k.RegularLayer)throw new Error("Unsupported type of Layer");{let o=t,a=i._imageStorage.getImage(t.id),l=yield function CA(n){let e=new Image;e.crossOrigin="anonymous";let t=new Promise((i,r)=>{e.onload=function(){try{let s=document.createElement("canvas");s.width=e.width,s.height=e.height;let o=s.getContext("2d");if(o){o.drawImage(e,0,0);let a=o.getImageData(n.positionInResource.x,n.positionInResource.y,n.sizeInResource.width,n.sizeInResource.height);i(a),document.removeChild(s)}else r()}catch(s){r(s)}}});return e.src=n.resourcePath,t}(a);s=new qr("regularLayer","Layer Update",[["name",o.name],["imagedata",l],["imageId",t.id],["path",i._imageStorage.getImage(t.id).resourcePath],["width",o.sizeX],["height",o.sizeY]])}}s.position={x:t.positionX,y:t.positionY},s.OnFormClose.on((o,a)=>{i.onFormCloseHandler(o,a)}),i.forms.push(s),i.layerModels.push(t),i._logger.log(i.forms)})()}}return n.\u0275fac=function(t){return new(t||n)(N(Hi),N(Oe))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IA(n,e){if(1&n){const t=oe();f(0,"div",1)(1,"div",2)(2,"div",3),T("click",function(r){return F(t),R(D().selectLayer(r))}),m()()()}if(2&n){const t=D();ze("left",t.positionX*t.psdImageScale,"px")("top",t.positionY*t.psdImageScale,"px")("transform","scale("+t.psdImageScale+","+t.psdImageScale+")"),Pi("selected",t.isSelected),y("title",t.name),C(2),ze("background-image","url("+t.getImagePath()+")")("background-position-x",-t.positionInResource.x,"px")("background-position-y",-t.positionInResource.y,"px")("transform","scale("+t.getResourceScaleX()+","+t.getResourceScaleY()+")")("width",t.resourceWidth,"px")("height",t.resourceHeight,"px")}}let Jy=(()=>{class n{constructor(t,i,r,s){this._api=t,this._uiState=i,this._imageStorage=r,this._logger=s,this.errorImage="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgd2lkdGg9IjIwMCIKICAgaGVpZ2h0PSIyMDAiCiAgIHZpZXdCb3g9IjAgMCA1Mi45MTY2NjYgNTIuOTE2NjY2IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczMyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4wLjEgKDNiYzJlODEzZjUsIDIwMjAtMDktMDcpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJlcnJvcl9iYWNsLnN2ZyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczI3Ij4KICAgIDxyZWN0CiAgICAgICB4PSItMjguNTM3MjAyIgogICAgICAgeT0iMjkuMDA5NjczIgogICAgICAgd2lkdGg9IjUzLjQ4MzYzMSIKICAgICAgIGhlaWdodD0iMTcuNTc1ODkzIgogICAgICAgaWQ9InJlY3QyODg0IiAvPgogICAgPHBhdHRlcm4KICAgICAgIGlua3NjYXBlOmNvbGxlY3Q9ImFsd2F5cyIKICAgICAgIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiCiAgICAgICB3aWR0aD0iMiIKICAgICAgIGhlaWdodD0iMiIKICAgICAgIHBhdHRlcm5UcmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIHNjYWxlKDEwLDEwKSIKICAgICAgIGlkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTpzdG9ja2lkPSJDaGVja2VyYm9hcmQiCiAgICAgICBpbmtzY2FwZTppc3N0b2NrPSJ0cnVlIj4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjAiCiAgICAgICAgIHk9IjAiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzNiIgLz4KICAgICAgPHJlY3QKICAgICAgICAgc3R5bGU9ImZpbGw6YmxhY2s7c3Ryb2tlOm5vbmUiCiAgICAgICAgIHg9IjEiCiAgICAgICAgIHk9IjEiCiAgICAgICAgIHdpZHRoPSIxIgogICAgICAgICBoZWlnaHQ9IjEiCiAgICAgICAgIGlkPSJyZWN0MTkzOCIgLz4KICAgIDwvcGF0dGVybj4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjIuOCIKICAgICBpbmtzY2FwZTpjeD0iLTcuNTI0NjY1NSIKICAgICBpbmtzY2FwZTpjeT0iOTEuMDcyMTIzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJtbSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJ0ZXh0Mjg4MiIKICAgICBpbmtzY2FwZTpkb2N1bWVudC1yb3RhdGlvbj0iMCIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgdW5pdHM9InB4IgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDE3IgogICAgIGlua3NjYXBlOndpbmRvdy14PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIgLz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGEzMCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0i0KHQu9C+0LkgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOnVybCgjQ2hlY2tlcmJvYXJkKTtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2Utd2lkdGg6MS41OTAwODtvcGFjaXR5OjAuMiIKICAgICAgIGlkPSJyZWN0NjgiCiAgICAgICB3aWR0aD0iNTAiCiAgICAgICBoZWlnaHQ9IjUwIgogICAgICAgeD0iLTUuOTc1NzgzNGUtMDkiCiAgICAgICB5PSIwIiAvPgogICAgPGcKICAgICAgIGFyaWEtbGFiZWw9IkVycm9yIgogICAgICAgaWQ9InRleHQyODgyIgogICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MTAuNTgzM3B4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjt3aGl0ZS1zcGFjZTpwcmU7c2hhcGUtaW5zaWRlOnVybCgjcmVjdDI4ODQpO2ZpbGw6IzU1MDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMTcuNTM2ODQsMjkuMjE1ODI2IGggLTUuMDY5NDQyIHYgLTcuNjk0NTk3IGggNS4wNjk0NDIgdiAwLjkwOTUwMyBoIC00LjA0NjI1MiB2IDIuMTA4MzkyIGggNC4wNDYyNTIgdiAwLjkwOTUwMiBoIC00LjA0NjI1MiB2IDIuODU3Njk3IGggNC4wNDYyNTIgeiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzU1MDAwMDtmaWxsLW9wYWNpdHk6MC41IgogICAgICAgICBpZD0icGF0aDI4ODgiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMjIuNjgzNzk2LDI0LjUwMjk1IGggLTAuMDUxNjggcSAtMC4yMTcwNCwtMC4wNTE2OCAtMC40MjM3NDYsLTAuMDcyMzUgLTAuMjAxNTM3LC0wLjAyNTg0IC0wLjQ4MDU4OSwtMC4wMjU4NCAtMC40NDk1ODMsMCAtMC44NjgxNjEsMC4yMDE1MzggLTAuNDE4NTc4LDAuMTk2MzY5IC0wLjgwNjE1LDAuNTExNTk1IHYgNC4wOTc5MjggaCAtMC45NzE1MTQgdiAtNS43NzIyMzkgaCAwLjk3MTUxNCB2IDAuODUyNjU4IHEgMC41Nzg3NzQsLTAuNDY1MDg2IDEuMDE4MDIzLC0wLjY1NjI4OSAwLjQ0NDQxNSwtMC4xOTYzNjkgMC45MDQzMzQsLTAuMTk2MzY5IDAuMjUzMjE0LDAgMC4zNjY5MDIsMC4wMTU1IDAuMTEzNjg4LDAuMDEwMzMgMC4zNDEwNjMsMC4wNDY1MSB6IgogICAgICAgICBzdHlsZT0iZmlsbDojNTUwMDAwO2ZpbGwtb3BhY2l0eTowLjUiCiAgICAgICAgIGlkPSJwYXRoMjg5MCIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAyNy4yMDAzMDEsMjQuNTAyOTUgaCAtMC4wNTE2OCBxIC0wLjIxNzA0LC0wLjA1MTY4IC0wLjQyMzc0NSwtMC4wNzIzNSAtMC4yMDE1MzgsLTAuMDI1ODQgLTAuNDgwNTksLTAuMDI1ODQgLTAuNDQ5NTgzLDAgLTAuODY4MTYxLDAuMjAxNTM4IC0wLjQxODU3OCwwLjE5NjM2OSAtMC44MDYxNSwwLjUxMTU5NSB2IDQuMDk3OTI4IGggLTAuOTcxNTEzIHYgLTUuNzcyMjM5IGggMC45NzE1MTMgdiAwLjg1MjY1OCBxIDAuNTc4Nzc1LC0wLjQ2NTA4NiAxLjAxODAyMywtMC42NTYyODkgMC40NDQ0MTYsLTAuMTk2MzY5IDAuOTA0MzM0LC0wLjE5NjM2OSAwLjI1MzIxNCwwIDAuMzY2OTAyLDAuMDE1NSAwLjExMzY4OCwwLjAxMDMzIDAuMzQxMDYzLDAuMDQ2NTEgeiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzU1MDAwMDtmaWxsLW9wYWNpdHk6MC41IgogICAgICAgICBpZD0icGF0aDI4OTIiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMzMuMDM0NTUzLDI2LjMzMjI5IHEgMCwxLjQxMDc2MiAtMC43MjM0NjgsMi4yMjcyNDcgLTAuNzIzNDY4LDAuODE2NDg1IC0xLjkzNzg2LDAuODE2NDg1IC0xLjIyNDcyOCwwIC0xLjk0ODE5NiwtMC44MTY0ODUgLTAuNzE4MywtMC44MTY0ODUgLTAuNzE4MywtMi4yMjcyNDcgMCwtMS40MTA3NjIgMC43MTgzLC0yLjIyNzI0NyAwLjcyMzQ2OCwtMC44MjE2NTMgMS45NDgxOTYsLTAuODIxNjUzIDEuMjE0MzkyLDAgMS45Mzc4NiwwLjgyMTY1MyAwLjcyMzQ2OCwwLjgxNjQ4NSAwLjcyMzQ2OCwyLjIyNzI0NyB6IG0gLTEuMDAyNTIsMCBxIDAsLTEuMTIxMzc1IC0wLjQzOTI0OCwtMS42NjM5NzYgLTAuNDM5MjQ5LC0wLjU0Nzc2OCAtMS4yMTk1NiwtMC41NDc3NjggLTAuNzkwNjQ3LDAgLTEuMjI5ODk2LDAuNTQ3NzY4IC0wLjQzNDA4LDAuNTQyNjAxIC0wLjQzNDA4LDEuNjYzOTc2IDAsMS4wODUyMDIgMC40MzkyNDgsMS42NDg0NzMgMC40MzkyNDgsMC41NTgxMDQgMS4yMjQ3MjgsMC41NTgxMDQgMC43NzUxNDQsMCAxLjIxNDM5MiwtMC41NTI5MzYgMC40NDQ0MTYsLTAuNTU4MTA0IDAuNDQ0NDE2LC0xLjY1MzY0MSB6IgogICAgICAgICBzdHlsZT0iZmlsbDojNTUwMDAwO2ZpbGwtb3BhY2l0eTowLjUiCiAgICAgICAgIGlkPSJwYXRoMjg5NCIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzOC4xNDAxNjksMjQuNTAyOTUgaCAtMC4wNTE2OCBxIC0wLjIxNzA0MSwtMC4wNTE2OCAtMC40MjM3NDYsLTAuMDcyMzUgLTAuMjAxNTM3LC0wLjAyNTg0IC0wLjQ4MDU4OSwtMC4wMjU4NCAtMC40NDk1ODQsMCAtMC44NjgxNjEsMC4yMDE1MzggLTAuNDE4NTc4LDAuMTk2MzY5IC0wLjgwNjE1LDAuNTExNTk1IHYgNC4wOTc5MjggaCAtMC45NzE1MTQgdiAtNS43NzIyMzkgaCAwLjk3MTUxNCB2IDAuODUyNjU4IHEgMC41Nzg3NzQsLTAuNDY1MDg2IDEuMDE4MDIyLC0wLjY1NjI4OSAwLjQ0NDQxNiwtMC4xOTYzNjkgMC45MDQzMzUsLTAuMTk2MzY5IDAuMjUzMjE0LDAgMC4zNjY5MDIsMC4wMTU1IDAuMTEzNjg3LDAuMDEwMzMgMC4zNDEwNjMsMC4wNDY1MSB6IgogICAgICAgICBzdHlsZT0iZmlsbDojNTUwMDAwO2ZpbGwtb3BhY2l0eTowLjUiCiAgICAgICAgIGlkPSJwYXRoMjg5NiIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=",this.model=Sn.createDefault(),this.isEditorActive=!1,this.model.setOnSelectHandler(o=>{this.onSelect(o)}),this.model.setOnDeselectHandler(o=>{this.onDeselect(o)})}get imagePlacement(){return this.model?this._imageStorage.getImage(this.model.imageId):new Ui(this.errorImage,{x:0,y:0},{width:100,height:100})}get positionX(){return this.model.positionX}get positionY(){return this.model.positionY}get resourceWidth(){return this.imagePlacement.sizeInResource.width}get resourceHeight(){return this.imagePlacement.sizeInResource.height}get name(){return this.model.name}get positionInResource(){return this.model?this._imageStorage.getImage(this.model.imageId).positionInResource:{x:0,y:0}}get typeIsTextLayer(){return this.model.type==k.TextLayer}get path(){return this.model&&this._imageStorage.getImage(this.model.imageId),this.imagePlacement.resourcePath}get isVisible(){return this.model.isVisible}get isSelected(){return this.model.isSelected}getImagePath(){if(this.model){const t=this.model.imageId;try{return this._imageStorage.getImage(t).resourcePath}catch{return this.errorImage}}return this.errorImage}get psdImageScale(){return this._uiState.imageScale}get psdImageTranslateX(){return this._uiState.imageTranslateX}get psdImageTranslateY(){return this._uiState.imageTranslateY}getResourceScaleX(){return this.model.sizeX/this.imagePlacement.sizeInResource.width}getResourceScaleY(){return this.model.sizeY/this.imagePlacement.sizeInResource.height}onSelect(t){this._logger.log("selected",this)}onDeselect(t){this._logger.log("deselect",this)}selectLayer(t){t.preventDefault(),t.stopPropagation(),this._uiState.selectedLayer=this.model}editRequest(){this.isEditorActive=!0}ngOnInit(){null!=this.model&&(this.model=this.model)}}return n.\u0275fac=function(t){return new(t||n)(b(Bi),b(Wn),b(Hi),b(Oe))},n.\u0275cmp=q({type:n,selectors:[["app-layerimage"]],inputs:{model:"model"},decls:1,vars:1,consts:[["class","layer-image",3,"title","left","top","transform","selected",4,"ngIf"],[1,"layer-image",3,"title"],[1,"rendered-layer-outline"],[1,"rendered-layer",3,"click"]],template:function(t,i){1&t&&S(0,IA,3,21,"div",0),2&t&&y("ngIf",i.isVisible)},dependencies:[Re],styles:["*{box-sizing:border-box}\n",'.layer-image{display:block;position:absolute;overflow:visible;transform-origin:left top;font-size:0}app-layerquickedit{position:absolute;left:100%;top:0}.layer-image>app-layerquickedit{display:none}.layer-image:hover>app-layerquickedit,.layer-image.selected>app-layerquickedit{display:block}.rendered-layer{content:"";box-sizing:border-box;border:none;position:relative;transform-origin:top left}.rendered-layer:hover{box-shadow:inset 0 0 5px 1px #c2db0a80}.layer-image.selected .rendered-layer.active{box-shadow:inset 0 0 5px 1px #06fa3b}.layer-image.selected .rendered-layer{box-shadow:0 0 5px 1px #81ead880}.rendered-layer-outline{position:relative}\n'],encapsulation:3}),n})();var rt=(()=>(function(n){n[n.None=0]="None",n[n.Resize=1]="Resize",n[n.Move=2]="Move"}(rt||(rt={})),rt))();class ko{constructor(e,t){this.model=e,this._logger=t,this._state=rt.None,this._corner={},this.initialClick={x:0,y:0,left:0,top:0,width:0,height:0}}get state(){return this._state}onMouseMove(e){if(this.model.isSelected&&this._state!==rt.None){const t={x:e.clientX,y:e.clientY};switch(this._logger?.log("onMouseMove mouse",t),this._logger?.log("onMouseMove initialClick",this.initialClick),this._state){case rt.Resize:this.resize(t);break;case rt.Move:this.move(t)}}}startResize(e,t){this.model.startTransaction(),this.setState(e,rt.Resize),this._state===rt.Resize&&(this._corner=t)}startMove(e){this.model.startTransaction(),this.setState(e,rt.Move)}stopTransform(e){this.setState(e,rt.None),this.model.isTransactionOpen&&this.model.commitTransaction()}resize(e){const r=(this._corner.left?-1:1)*(e.x-this.initialClick.x),s=(this._corner.top?-1:1)*(e.y-this.initialClick.y);let o=Math.min(3e4,Math.max(1,this.initialClick.width+r)),a=Math.min(3e4,Math.max(1,this.initialClick.height+s));void 0!==this._corner.left&&(this.model.sizeX=o,this._corner.left&&(this.model.positionX=this.initialClick.left-r)),void 0!==this._corner.top&&(this.model.sizeY=a,this._corner.top&&(this.model.positionY=this.initialClick.top-s))}move(e){const t=this.initialClick.left+(e.x-this.initialClick.x),i=this.initialClick.top+(e.y-this.initialClick.y);this._logger?.log("move",t,i),this.model.positionX=t,this.model.positionY=i}setState(e,t){if(this._logger?.log("model.isSelected",this.model.isSelected),this._logger?.log("setState",t),t===rt.None&&this._state!=rt.None){this._logger?.log("finish state",this._state),this.onMouseMove(e),this._state=t;let i=this.model.sizeX;i<0&&(this.model.sizeX=-i,this.model.positionX+=i);let r=this.model.sizeY;r<0&&(this.model.sizeY=-r,this.model.positionY+=r)}this.model.isSelected&&t!==rt.None&&(this.initialClick={x:e.clientX,y:e.clientY,left:this.model.positionX,top:this.model.positionY,width:this.model.sizeX,height:this.model.sizeY},this._logger?.log("setState initialClick",this.initialClick),this._state=t,e.stopPropagation())}}let Kr=(()=>{class n{constructor(){this.icon="unknown",this.size="16",this.svgs={question:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z",trash:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z",upload:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",paintbrush:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z",font:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z",squarefull:"M512 512H0V0h512v512z",adjust:"M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z",layergroup:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z",paperclip:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z",mask:"M320.67 64c-442.6 0-357.57 384-158.46 384 39.9 0 77.47-20.69 101.42-55.86l25.73-37.79c15.66-22.99 46.97-22.99 62.63 0l25.73 37.79C401.66 427.31 439.23 448 479.13 448c189.86 0 290.63-384-158.46-384zM184 308.36c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05zm272 0c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05z",chevronup:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z",chevrondown:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z",eye:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z",eyeslash:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z",edit:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z",frown:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160-64c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-80 128c-40.2 0-78 17.7-103.8 48.6-8.5 10.2-7.1 25.3 3.1 33.8 10.2 8.4 25.3 7.1 33.8-3.1 16.6-19.9 41-31.4 66.9-31.4s50.3 11.4 66.9 31.4c8.1 9.7 23.1 11.9 33.8 3.1 10.2-8.5 11.5-23.6 3.1-33.8C326 321.7 288.2 304 248 304z",check:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z",arrows:"M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z",expand:"M212.686 315.314L120 408l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C10.697 480 0 469.255 0 456V344c0-21.382 25.803-32.09 40.922-16.971L72 360l92.686-92.686c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.249 6.248 6.249 16.378 0 22.627zm22.628-118.628L328 104l-32.922-31.029C279.958 57.851 290.666 32 312.048 32h112C437.303 32 448 42.745 448 56v112c0 21.382-25.803 32.09-40.922 16.971L376 152l-92.686 92.686c-6.248 6.248-16.379 6.248-22.627 0l-25.373-25.373c-6.249-6.248-6.249-16.378 0-22.627z","minus-square":"M108 284c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h232c6.6 0 12 5.4 12 12v32c0 6.6-5.4 12-12 12H108zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z",star:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z",circle:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z",magic:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z",eraser:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z",pencil:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z","paint-brush":"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z",palette:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},this.bounds={question:"0 0 384 512",trash:"0 0 448 512",upload:"0 0 512 512",paintbrush:"0 0 512 512",font:"0 0 448 512",squarefull:"0 0 512 512",adjust:"0 0 512 512",layergroup:"0 0 512 512",paperclip:"0 0 448 512",mask:"0 0 640 512",chevronup:"0 0 448 512",chevrondown:"0 0 448 512",eye:"0 0 576 512",eyeslash:"0 0 640 512",edit:"0 0 576 512",frown:"0 0 496 512",check:"0 0 448 512",arrows:"0 0 496 512",expand:"0 0 448 512","minus-square":"0 0 448 512",star:"0 0 576 512",circle:"0 0 512 512",magic:"0 0 512 512",eraser:"0 0 512 512",pencil:"0 0 512 512","paint-brush":"0 0 512 512",palette:"0 0 512 512"}}get width(){return+this.size}get height(){return+this.size}get iconContent(){return this.svgs.hasOwnProperty(this.icon)?this.svgs[this.icon]:this.svgs.question}get iconBounds(){return this.bounds.hasOwnProperty(this.icon)?this.bounds[this.icon]:this.bounds.question}ngOnInit(){this.icon=this.icon.toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-icon"]],inputs:{icon:"icon",size:"size"},decls:2,vars:4,consts:[["fill","currentColor"]],template:function(t,i){1&t&&(function cd(){V.lFrame.currentNamespace="svg"}(),f(0,"svg"),O(1,"path",0),m()),2&t&&(Ks("width",i.width)("height",i.height)("viewBox",i.iconBounds),C(1),Ks("d",i.iconContent))},encapsulation:3}),n})();function _A(n,e){if(1&n){const t=oe();f(0,"span",18),T("click",function(){return F(t),R(D(2).toggleGroupExpansion())}),O(1,"app-icon",19),m()}}function wA(n,e){if(1&n){const t=oe();f(0,"span",20),T("click",function(){return F(t),R(D(2).toggleGroupExpansion())}),O(1,"app-icon",21),m()}}function vA(n,e){if(1&n&&(f(0,"div",15),S(1,_A,2,0,"span",16),S(2,wA,2,0,"span",17),m()),2&n){const t=D();C(1),y("ngIf",!t.isExpanded),C(1),y("ngIf",t.isExpanded)}}function DA(n,e){if(1&n){const t=oe();f(0,"span",22),T("click",function(){return F(t),R(D().toggleVisibility())}),O(1,"app-icon",23),m()}}function MA(n,e){if(1&n){const t=oe();f(0,"span",24),T("click",function(){return F(t),R(D().toggleVisibility())}),O(1,"app-icon",25),m()}}function bA(n,e){if(1&n){const t=oe();f(0,"div",26)(1,"span",27),T("click",function(){return F(t),R(D().replaceLayer())}),O(2,"app-icon",28),m()()}}function TA(n,e){if(1&n){const t=oe();f(0,"div",29)(1,"span",30),T("click",function(){return F(t),R(D().editText())}),O(2,"app-icon",28),m()()}}function AA(n,e){if(1&n){const t=oe();f(0,"div",31)(1,"span",32),T("mousedown",function(r){return F(t),R(D().startMove(r))}),O(2,"app-icon",33),m()()}}function xA(n,e){if(1&n){const t=oe();f(0,"div",34)(1,"span",35),T("mouseup",function(r){return F(t),R(D().stopTransform(r))},0,gr)("mousedown",function(r){return F(t),R(D().startResize(r))}),O(2,"app-icon",36),m()()}}function EA(n,e){if(1&n){const t=oe();f(0,"div",37)(1,"span",38),T("click",function(){return F(t),R(D().deselectLayer())}),O(2,"app-icon",39),m()()}}function SA(n,e){1&n&&O(0,"div",40)}let lu=(()=>{class n{constructor(t,i,r,s){this._uiState=t,this._formManager=i,this._logger=r,this._waiter=s,this.editRequest=new ve,this.model=Sn.createDefault(),this.isLeftAlignment=!0,this.isFullSet=!1}ngOnInit(){}isTextLayer(){return this.model.type==k.TextLayer}isReplaceableLayer(){return this.model.type==k.RegularLayer}isGroupLayer(){return this.model.type==k.GroupLayer}get isExpanded(){return this.model.type!=k.GroupLayer||this.model.isExpanded}onMouseMove(t){this._trasformer?.onMouseMove(t)}startResize(t){this.model.isSelected&&(this._trasformer=new ko(this.model,this._logger),this._trasformer?.startResize(t,{top:!0,left:!1}))}startMove(t){this.model.isSelected&&(this._trasformer=new ko(this.model,this._logger),this._trasformer?.startMove(t))}stopTransform(t){this._trasformer?.stopTransform(t),this._trasformer=void 0}toggleVisibility(){this.model.startTransaction(),this.model.isVisible=!this.model.isVisible,this.model.commitTransaction()}removeLayer(){this.model.startTransaction(),this.model.Delete(),this.deselectLayer(),this.model.commitTransaction()}isBlocked(){return this._waiter.isWaiting}deselectLayer(){this._uiState.deselectLayer()}editText(){this._formManager.ShowForm(this.model)}addLayer(){this._formManager.ShowForm(this.model)}replaceLayer(){this._formManager.ShowForm(this.model)}toggleGroupExpansion(){if(this.model.type!=k.GroupLayer)return;let t=this.model;t.isExpanded=!t.isExpanded}onClick(t){t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)(b(Wn),b(au),b(Oe),b(Po))},n.\u0275cmp=q({type:n,selectors:[["app-layerquickedit"]],hostBindings:function(t,i){1&t&&T("mousemove",function(s){return i.onMouseMove(s)},0,gr)},inputs:{model:"model",isLeftAlignment:"isLeftAlignment",isFullSet:"isFullSet"},outputs:{editRequest:"editRequest"},decls:15,vars:11,consts:[[1,"quick-edit",3,"click"],[1,"layer-commands"],["class","command expand",4,"ngIf"],[1,"command","visibility"],["title","Toggle PSD Layer Visibility Off","class","fa fa-lg fa-eye",3,"click",4,"ngIf"],["title","Toggle PSD Layer Visibility On","class","fa fa-lg fa-eye-slash",3,"click",4,"ngIf"],["class","command replacement",4,"ngIf"],["class","command editing",4,"ngIf"],["class","command move",4,"ngIf"],["class","command resize",4,"ngIf"],["class","command deselect",4,"ngIf"],[1,"command","removing"],["title","Delete layer",1,"fa","fa-lg","fa-trash",3,"click"],["icon","Trash","size","20"],["class","wait-block",4,"ngIf"],[1,"command","expand"],["title","Expand Group in PSD","class","fa fa-lg fa-chevron-down",3,"click",4,"ngIf"],["title","Collapse Group in PSD","class","fa fa-lg fa-chevron-up",3,"click",4,"ngIf"],["title","Expand Group in PSD",1,"fa","fa-lg","fa-chevron-down",3,"click"],["icon","ChevronDown","size","20"],["title","Collapse Group in PSD",1,"fa","fa-lg","fa-chevron-up",3,"click"],["icon","ChevronUp","size","20"],["title","Toggle PSD Layer Visibility Off",1,"fa","fa-lg","fa-eye",3,"click"],["icon","Eye","size","20"],["title","Toggle PSD Layer Visibility On",1,"fa","fa-lg","fa-eye-slash",3,"click"],["icon","EyeSlash","size","20"],[1,"command","replacement"],["title","Replace PSD Layer",1,"fa","fa-lg","fa-edit",3,"click"],["icon","Edit","size","20"],[1,"command","editing"],["title","Change Text Layer",1,"fa","fa-lg","fa-edit",3,"click"],[1,"command","move"],["title","Move Layer",1,"fa","fa-lg","fa-arrows",3,"mousedown"],["icon","Arrows","size","20"],[1,"command","resize"],["title","Resize Layer",1,"fa","fa-lg","fa-expand",3,"mouseup","mousedown"],["icon","Expand","size","20"],[1,"command","deselect"],["title","Deselect Layer",1,"fa","fa-lg","fa-minus-square",3,"click"],["icon","Minus-square","size","20"],[1,"wait-block"]],template:function(t,i){1&t&&(f(0,"div",0),T("click",function(s){return i.onClick(s)}),f(1,"div",1),S(2,vA,3,2,"div",2),f(3,"div",3),S(4,DA,2,0,"span",4),S(5,MA,2,0,"span",5),m(),S(6,bA,3,0,"div",6),S(7,TA,3,0,"div",7),S(8,AA,3,0,"div",8),S(9,xA,3,0,"div",9),S(10,EA,3,0,"div",10),f(11,"div",11)(12,"span",12),T("click",function(){return i.removeLayer()}),O(13,"app-icon",13),m()(),S(14,SA,1,0,"div",14),m()()),2&t&&(C(1),Pi("left-alignment",i.isLeftAlignment),C(1),y("ngIf",i.isGroupLayer()),C(2),y("ngIf",i.model.isVisible),C(1),y("ngIf",!i.model.isVisible),C(1),y("ngIf",i.isReplaceableLayer()),C(1),y("ngIf",i.isTextLayer()),C(1),y("ngIf",i.isFullSet),C(1),y("ngIf",i.isFullSet),C(1),y("ngIf",i.isFullSet),C(4),y("ngIf",i.isBlocked()))},dependencies:[Re,Kr],styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n',".command{float:left;cursor:pointer;padding:0 3px}.left-alignment .command{float:left}.layer-name{float:left;margin-right:10px;overflow:hidden;max-width:45%}.wait-block{position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(0,0,0,.25);cursor:wait}.layer-commands{float:right;color:#fff}.layer-commands .command{height:1em;margin-bottom:1px}.layer-commands.left-alignment{float:left;width:100%}.command>span{height:20px;display:inline-block;width:20px}.quick-edit{height:1.4em;display:inline}.block-ui-spinner,.block-ui-template{transform:none}.block-ui-template{z-index:99999;cursor:wait;position:relative;height:1.4em;background:rgba(32,32,32,.2)}app-icon{height:20px;width:20px;display:inline-block}.fa-lg,.command{font-size:1.33333333em;line-height:.75em;height:1.33em;width:1.33em}.command.replacement{margin-left:1px;margin-bottom:3px;margin-top:-1px}.command{margin-top:1px}\n"],encapsulation:3}),n})();function NA(n,e){1&n&&O(0,"app-layerimage",4),2&n&&y("model",D().$implicit)}function LA(n,e){1&n&&O(0,"app-grouplayerimage",5),2&n&&y("inputModel",D().$implicit)}function PA(n,e){if(1&n&&(f(0,"div"),S(1,NA,1,1,"app-layerimage",2),S(2,LA,1,1,"app-grouplayerimage",3),m()),2&n){const t=e.$implicit,i=D(2);C(1),y("ngIf",!i.isGroupLayer(t)),C(1),y("ngIf",i.isGroupLayer(t))}}function kA(n,e){if(1&n&&(f(0,"div"),S(1,PA,3,2,"div",1),m()),2&n){const t=D();C(1),y("ngForOf",t.model.children())}}let OA=(()=>{class n{constructor(){this.model=new su("","stub",{x:0,y:0},{x:0,y:0},!1,!1,[])}ngOnInit(){null!=this.inputModel&&(this.model=this.inputModel)}isGroupLayer(t){return t.type==k.GroupLayer}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-grouplayerimage"]],inputs:{inputModel:"inputModel"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"model",4,"ngIf"],[3,"inputModel",4,"ngIf"],[3,"model"],[3,"inputModel"]],template:function(t,i){1&t&&S(0,kA,2,1,"div",0),2&t&&y("ngIf",i.model.isVisible)},dependencies:[Dt,Re,Jy,n],styles:["*{box-sizing:border-box}\n",".layer-image{display:block;position:absolute}\n"],encapsulation:3}),n})();function FA(n,e){if(1&n){const t=oe();f(0,"div",1)(1,"div",2)(2,"div",3),T("mousedown",function(r){return F(t),R(D().onMouseDown(r))})("mouseup",function(r){return F(t),R(D().onMouseUp(r))}),f(3,"h4"),E(4),m()(),f(5,"div",4),Hn(6),m()()()}if(2&n){const t=D();ze("left",t.formLeft,"px")("top",t.formTop,"px"),C(4),Ot(t.headerText)}}const RA=["*"];let qy=(()=>{class n{constructor(){this._formCaptured=!1,this._formCaptureStartX=0,this._formCaptureStartY=0,this._formStartLeft=0,this._formStartTop=0,this.formLeft=0,this.formTop=0,this.formWidth=20,this.formHeight=10,this.isVisible=!1,this.headerText="Dialog"}onMouseDown(t){t.preventDefault(),this._formCaptureStartX=t.clientX,this._formCaptureStartY=t.clientY,this._formStartLeft=this.formLeft,this._formStartTop=this.formTop,this._formCaptured=!0}onMouseUp(t){t.preventDefault(),this._formCaptured&&(this.formLeft=this._formStartLeft+t.clientX-this._formCaptureStartX,this.formTop=this._formStartTop+t.clientY-this._formCaptureStartY,this.formLeft<0&&(this.formLeft=0),this.formTop<0&&(this.formTop=0)),this._formCaptured=!1}onHostMouseUp(t){this.onMouseUp(t)}onMouseMove(t){t.preventDefault(),this._formCaptured&&(this.formLeft=this._formStartLeft+t.clientX-this._formCaptureStartX,this.formTop=this._formStartTop+t.clientY-this._formCaptureStartY)}ngOnInit(){null!=this.startHeight&&(this.formHeight=this.startHeight),null!=this.startWidth&&(this.formWidth=this.startWidth),null!=this.startLeft&&(this.formLeft=this.startLeft),null!=this.startTop&&(this.formTop=this.startTop)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-popup-form"]],hostBindings:function(t,i){1&t&&T("mouseup",function(s){return i.onHostMouseUp(s)},0,zs)("mousemove",function(s){return i.onMouseMove(s)},!1,zs)},inputs:{startWidth:"startWidth",startHeight:"startHeight",startLeft:"startLeft",startTop:"startTop",headerText:"headerText",isVisible:"isVisible"},ngContentSelectors:RA,decls:1,vars:1,consts:[["class","popup-form text-edit",3,"left","top",4,"ngIf"],[1,"popup-form","text-edit"],[1,"wrapper"],[1,"block-header",3,"mousedown","mouseup"],[1,"content"]],template:function(t,i){1&t&&(Bn(),S(0,FA,7,5,"div",0)),2&t&&y("ngIf",i.isVisible)},dependencies:[Re],styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n',".popup-form{background-color:#12505c;position:absolute;z-index:1000;left:50%;top:50%}.wrapper{position:relative}.block-header{width:100%;margin-bottom:3px;background:#133139;clear:both}.block-header{background:#133139;width:100%;margin-bottom:.5em;cursor:pointer}.block-header h4{color:#fff;text-align:center;margin:0;padding-bottom:3px;width:100%}.popup-form{position:absolute;box-shadow:0 1px 2px 1px #202020cc;background:#19606e}.content{padding:0 5px}\n"],encapsulation:3}),n})();function zA(n,e){1&n&&(f(0,"div",4)(1,"span"),E(2,"Loading..."),m()())}const jA=["*"];let Ky=(()=>{class n{constructor(t){this._logger=t,this.onApply=new ve,this.onCancel=new ve}ngOnInit(){}onApplyHandler(){this._logger.log("template form apply"),this.onApply.emit()}onCancelHandler(){this._logger.log("template form CANCEL"),this.onCancel.emit()}}return n.\u0275fac=function(t){return new(t||n)(b(Oe))},n.\u0275cmp=q({type:n,selectors:[["app-templateform"]],inputs:{startWidth:"startWidth",startHeight:"startHeight",startLeft:"startLeft",startTop:"startTop"},outputs:{onApply:"onApply",onCancel:"onCancel"},ngContentSelectors:jA,decls:11,vars:5,consts:[[3,"startWidth","startHeight","startLeft","startTop","isVisible"],[1,"commands"],[1,"button",3,"click"],["blockTemplate",""],[1,"block-ui-template"]],template:function(t,i){1&t&&(Bn(),f(0,"app-popup-form",0),Hn(1),f(2,"div",1)(3,"div",2),T("click",function(){return i.onApplyHandler()}),f(4,"span"),E(5,"Apply"),m()(),f(6,"div",2),T("click",function(){return i.onCancelHandler()}),f(7,"span"),E(8,"Close"),m()()()(),S(9,zA,3,0,"ng-template",null,3,Rg)),2&t&&y("startWidth",i.startWidth)("startHeight",i.startHeight)("startLeft",i.startLeft)("startTop",i.startTop)("isVisible",!0)},dependencies:[qy],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}",'*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}',".button[_ngcontent-%COMP%]{float:right;border-radius:2px;background-color:#a5e5f2;margin:5px;cursor:pointer;padding:3px 6px 5px;box-shadow:inset -2px -2px 3px -2px #32323259}.button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px solid black}.commands[_ngcontent-%COMP%]{clear:both;width:100%}"]}),n})(),UA=(()=>{class n{constructor(t){this._logger=t,this.editFinished=new ve,this._model=new qr("null"),this.layerText="",this.layerName=""}onApply(){this._logger.log("APPLY"),this._model.setParam("name",this.layerName),this._model.setParam("text",this.layerText),this._model.saveAndClose()}onCancel(){this._logger.log("APPLY"),this._model.close(),this._logger.log("closing form"+this._model.isVisible),this.editFinished.emit(!1)}onNameChange(t){this.layerName=t.target.value}onTextChange(t){this.layerText=t.target.value}get name(){return this._model.getParam("name")}set name(t){this.layerName=t,this._logger.log(t)}set text(t){this.layerText=t}get text(){return this._model.getParam("text")}get isActive(){return this._model.isVisible}get position(){return this._model.position}ngOnInit(){null!=this.inputModel&&(this._model=this.inputModel,this.layerName=this._model.getParam("name"),this.layerText=this._model.getParam("text"))}}return n.\u0275fac=function(t){return new(t||n)(b(Oe))},n.\u0275cmp=q({type:n,selectors:[["app-textlayeredit"]],inputs:{inputModel:"inputModel"},outputs:{editFinished:"editFinished"},decls:14,vars:6,consts:[[3,"startWidth","startHeight","startLeft","startTop","onApply","onCancel"],[1,"content"],[1,"form-group"],["for","LayerNameInput"],["type","text","id","LayerNameInput","placeholder","Layer name",1,"form-control",3,"value","change","click"],["layerNameInput",""],["for","LayerTextInput"],["type","textarea","id","LayerTextInput","placeholder","Custom text",1,"form-control",3,"change","click"],["textInput",""]],template:function(t,i){if(1&t){const r=oe();f(0,"app-templateform",0),T("onApply",function(){return i.onApply()})("onCancel",function(){return i.onCancel()}),f(1,"div",1)(2,"div",2)(3,"label",3),E(4,"Layer\xa0name:"),m(),f(5,"input",4,5),T("change",function(o){return i.onNameChange(o)})("click",function(){return F(r),R(Dr(6).select())}),m()()(),f(7,"div",1)(8,"div",2)(9,"label",6),E(10,"Layer text"),m(),f(11,"textarea",7,8),T("change",function(o){return i.onTextChange(o)})("click",function(){return F(r),R(Dr(12).select())}),E(13),m()()()()}2&t&&(y("startWidth",25)("startHeight",12)("startLeft",i.position.x)("startTop",i.position.y),C(5),y("value",i.name),C(8),Ot(i.text))},dependencies:[Ky],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}",'*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}',".colntent[_ngcontent-%COMP%]{color:#fff}.form-group[_ngcontent-%COMP%]{margin-bottom:.5em;clear:both;width:100%;display:inline-block}label[_ngcontent-%COMP%]{width:30%;text-align:right;color:#fff}.content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}textarea[_ngcontent-%COMP%]{height:4em}.form-control[_ngcontent-%COMP%]{width:65%;float:right}#LayerNameInput[_ngcontent-%COMP%]{height:2em;font-size:1em}#LayerTextInput[_ngcontent-%COMP%]{font-size:1em}"]}),n})();function cu(n,e,t){const i=Math.floor(n/60)%6,r=n/60-Math.floor(n/60),s=(t/=100)*(1-(e/=100)),o=t*(1-r*e),a=t*(1-(1-r)*e);let l=0,c=0,u=0;switch(i){case 0:l=t,c=a,u=s;break;case 1:l=o,c=t,u=s;break;case 2:l=s,c=t,u=a;break;case 3:l=s,c=o,u=t;break;case 4:l=a,c=s,u=t;break;case 5:l=t,c=s,u=o}return[Math.round(255*l),Math.round(255*c),Math.round(255*u)]}function uu(n,e,t){let i="";return i+=("00"+n.toString(16)).substr(-2),i+=("00"+e.toString(16)).substr(-2),i+=("00"+t.toString(16)).substr(-2),i}let e0=(()=>{class n{constructor(t){this._logger=t,this._onPrimaryColorChange=new bt.Event,this._primaryColor={r:0,g:0,b:0},this.primaryColor={r:0,g:0,b:0}}get primaryColor(){return this._primaryColor}set primaryColor(t){t!=this._primaryColor&&(this._primaryColor=t,this._onPrimaryColorChange.trigger(this,this._primaryColor))}addOnPrimaryColorHandler(t){this._onPrimaryColorChange.on(t)}removeOnPrimaryColorHandler(t){this._onPrimaryColorChange.off(t)}}return n.\u0275fac=function(t){return new(t||n)(N(Oe))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HA=(()=>{class n{constructor(t){this._colors=t,this.hValue=0,this.sValue=100,this.vValue=0,this.rValue=0,this.gValue=0,this.bValue=0,this.hexValue="000000",this.componentH=0,this.componentS=100,this.componentV=0,this.positionHue=0,this.positionSaturationX=0,this.positionValueY=0}getRGBColor(){const t=cu(this.componentH,this.componentS,this.componentV);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}getRGBColorFromHue(){const t=cu(this.componentH,100,100);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}getXYfromClick(t){var i=t.target.getBoundingClientRect();return[(t.clientX-i.left)/i.width*100,100-(t.clientY-i.top)/i.height*100]}setCursorsByHSB(){this.positionHue=this.componentH/360*100,this.positionSaturationX=this.componentS,this.positionValueY=100-this.componentV}onSaturationSelect(t){t.preventDefault();const i=this.getXYfromClick(t);this.componentS=i[0],this.componentV=i[1],this.positionSaturationX=i[0],this.positionValueY=100-i[1],this.updateUi()}onHueSelect(t){t.preventDefault();const i=this.getXYfromClick(t);this.componentH=i[0]/100*360,this.positionHue=i[0],this.updateUi()}updateUi(){const t=cu(this.componentH,this.componentS,this.componentV);this.rValue=t[0],this.gValue=t[1],this.bValue=t[2],this.hValue=Math.round(100*(this.componentH+Number.EPSILON))/100,this.sValue=Math.round(100*(this.componentS+Number.EPSILON))/100,this.vValue=Math.round(100*(this.componentV+Number.EPSILON))/100;const i=uu(t[0],t[1],t[2]);this.hexValue=i,this._colors.primaryColor={r:this.rValue,g:this.gValue,b:this.bValue}}onHexValueChange(t){let i=t.target.value;if(6==i.length)try{const r=parseInt(i.substr(0,2),16),s=parseInt(i.substr(2,2),16),o=parseInt(i.substr(4,2),16);this.rValue=Math.min(255,Math.max(0,r)),this.gValue=Math.min(255,Math.max(0,s)),this.bValue=Math.min(255,Math.max(0,o)),this.onRgbValueChange()}catch{}console.log("HEX VALUE",i)}onHValueChange(t){this.componentH=Math.min(360,Math.max(0,+t.target.value)),this.onHsvValueChange()}onSValueChange(t){this.componentS=Math.min(100,Math.max(0,+t.target.value)),this.onHsvValueChange()}onVValueChange(t){this.componentV=Math.min(100,Math.max(0,+t.target.value)),this.onHsvValueChange()}onRValueChange(t){this.rValue=Math.min(255,Math.max(0,+t.target.value)),this.onRgbValueChange()}onGValueChange(t){this.gValue=Math.min(255,Math.max(0,+t.target.value)),this.onRgbValueChange()}onBValueChange(t){this.bValue=Math.min(255,Math.max(0,+t.target.value)),this.onRgbValueChange()}onRgbValueChange(){const t=function BA(n,e,t){const i=Math.min(n,Math.min(e,t)),r=Math.max(n,Math.max(e,t)),s=r-i+0;let o=0,a=0,l=r/255*100;return Math.abs(s)<1e-4?(o=0,a=0):(a=s/r*100,n==r?(o=(e-t)/s,e<t&&(o+=6)):e==r?o=2+(t-n)/s:t==r&&(o=4+(n-e)/s),o*=60),[o,a,l]}(this.rValue,this.gValue,this.bValue);this.componentH=t[0],this.componentS=t[1],this.componentV=t[2],this.hValue=Math.round(100*(this.componentH+Number.EPSILON))/100,this.sValue=Math.round(100*(this.componentS+Number.EPSILON))/100,this.vValue=Math.round(100*(this.componentV+Number.EPSILON))/100,this.setCursorsByHSB(),this._colors.primaryColor={r:this.rValue,g:this.gValue,b:this.bValue}}onHsvValueChange(){this.updateUi(),this.setCursorsByHSB()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(b(e0))},n.\u0275cmp=q({type:n,selectors:[["app-palette"]],decls:35,vars:15,consts:[[1,"palette",3,"backgound-color"],[1,"saturation-part",3,"mousedown"],[1,"palette-cursor"],[1,"hue-part",3,"mousedown"],[1,"content"],[1,"form-group"],[1,"rgb-color"],["for","rgbValue",1,"color-value-label"],["id","rValue",1,"color-value",3,"value","change"],["id","gValue",1,"color-value",3,"value","change"],["id","bValue",1,"color-value",3,"value","change"],[1,"hsv-color"],["id","hValue",1,"color-value",3,"value","change"],["id","sValue",1,"color-value",3,"value","change"],["id","vValue",1,"color-value",3,"value","change"],[1,"hex-color"],["for","hexValue",1,"color-value-label"],["id","hexValue",1,"color-value",3,"value","change"]],template:function(t,i){1&t&&(f(0,"div",0)(1,"div",1),T("mousedown",function(s){return i.onSaturationSelect(s)}),O(2,"div",2),m(),f(3,"div",3),T("mousedown",function(s){return i.onHueSelect(s)}),O(4,"div",2),m(),f(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),E(9,"R:"),m(),f(10,"input",8),T("change",function(s){return i.onRValueChange(s)}),m(),O(11,"br"),f(12,"label",7),E(13,"G:"),m(),f(14,"input",9),T("change",function(s){return i.onGValueChange(s)}),m(),O(15,"br"),f(16,"label",7),E(17,"B:"),m(),f(18,"input",10),T("change",function(s){return i.onBValueChange(s)}),m()(),f(19,"div",11)(20,"label",7),E(21,"H:"),m(),f(22,"input",12),T("change",function(s){return i.onHValueChange(s)}),m(),O(23,"br"),f(24,"label",7),E(25,"S:"),m(),f(26,"input",13),T("change",function(s){return i.onSValueChange(s)}),m(),O(27,"br"),f(28,"label",7),E(29,"V:"),m(),f(30,"input",14),T("change",function(s){return i.onVValueChange(s)}),m()(),f(31,"div",15)(32,"label",16),E(33,"#"),m(),f(34,"input",17),T("change",function(s){return i.onHexValueChange(s)}),m()()()()()),2&t&&(C(1),ze("background-color",i.getRGBColorFromHue()),C(1),ze("left",i.positionSaturationX,"%")("top",i.positionValueY,"%"),C(2),ze("left",i.positionHue,"%"),C(6),y("value",i.rValue),C(4),y("value",i.gValue),C(4),y("value",i.bValue),C(4),y("value",i.hValue),C(4),y("value",i.sValue),C(4),y("value",i.vValue),C(4),y("value",i.hexValue))},styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n',".saturation-part{background-image:linear-gradient(transparent,#000),linear-gradient(90deg,#fff,transparent);position:relative;width:100%;height:10em;-webkit-user-select:none;user-select:none}.hue-part{margin-top:5px;position:relative;width:100%;height:12px;background-image:linear-gradient(90deg,red,#ff0,#0f0,#0ff,#00f,#f0f,red);border-radius:10px;-webkit-user-select:none;user-select:none}.palette-cursor{position:absolute;width:20px;height:20px;border:2px solid #fff;border-radius:50%;box-sizing:border-box}.saturation-part .palette-cursor{box-shadow:0 0 15px #00000026;transform:translate(-10px,-10px)}.hue-part .palette-cursor{box-shadow:0 0 0 .5px #0003;transform:translate(-10px,-4px)}.rgb-color,.hsv-color{float:left;min-width:30%;padding-top:5px}.hex-color{padding:5px 0 0;display:block;width:100%;clear:both}.hex-color .color-value{width:10em}.color-value{width:4em;text-align:center}.color-value-label{width:1.5em;color:#fff;display:inline-block;text-align:right;padding-right:5px}.palette{background:#19606e;padding:5px;min-width:185px}\n"],encapsulation:3}),n})();var qt=(()=>(function(n){n[n.Number=1]="Number",n[n.Color=2]="Color"}(qt||(qt={})),qt))();class t0{get name(){return"Color"}get type(){return qt.Color}get description(){return"Set Color for Tool"}get pictogramName(){return"palette"}}class du{get name(){return"Size"}get description(){return"Set Size for Tool"}get pictogramName(){return"circle"}get type(){return qt.Number}}class VA{constructor(){this._settings=[new t0,new du],this.size=10}get settings(){return this._settings}get size(){return this._settings[1].value}set size(e){this._settings[1].value=e}get color(){return this._settings[0].value}set color(e){this._settings[0].value=e}get name(){return"Pencil"}get description(){return"Pencil paints hard-edged brush strokes"}get pictogramName(){return"pencil"}doPaint(e,t){const i=e-Math.trunc(this.size/2),r=t-Math.trunc(this.size/2);if(this._canvas)return this._canvas.fillStyle=this.color,void this._canvas.fillRect(i,r,this.size,this.size);throw new Error("Canvas wasn't specified")}startManipulation(e,t,i){this._canvas=e,this.doPaint(t,i)}updateManipulation(e,t){this.doPaint(e,t)}endManipulation(e,t){this.doPaint(e,t),this._canvas=void 0}}class $A{constructor(){this._settings=[new t0,new du],this.size=10}get settings(){return this._settings}get name(){return"Brush"}get description(){return"Brush paints custom brush strokes"}get pictogramName(){return"paint-brush"}get size(){return this._settings[1].value}set size(e){this._settings[1].value=e}get color(){return this._settings[0].value}set color(e){this._settings[0].value=e}doPaint(e,t){if(Math.trunc(this.size/2),Math.trunc(this.size/2),this._canvas)return this._canvas.beginPath(),this._canvas.fillStyle=this.color,this._canvas.ellipse(e,t,this.size,this.size,0,0,360),void this._canvas.fill();throw new Error("Canvas wasn't specified")}startManipulation(e,t,i){this._canvas=e,this.doPaint(t,i)}updateManipulation(e,t){this.doPaint(e,t)}endManipulation(e,t){this.doPaint(e,t),this._canvas=void 0}}class GA{constructor(){this._settings=[new du],this.size=10}get settings(){return this._settings}get size(){return this._settings[0].value}set size(e){this._settings[0].value=e}get name(){return"Eraser"}get description(){return"Pencil changes pixels to background or makes them transparent"}get pictogramName(){return"eraser"}doPaint(e,t){const i=e-Math.trunc(this.size/2),r=t-Math.trunc(this.size/2);if(!this._canvas)throw new Error("Canvas wasn't specified");this._canvas.clearRect(i,r,this.size,this.size)}startManipulation(e,t,i){this._canvas=e,this.doPaint(t,i)}updateManipulation(e,t){this.doPaint(e,t)}endManipulation(e,t){this.doPaint(e,t),this._canvas=void 0}}let hu=(()=>{class n{constructor(t){this._logger=t,this.availableTools=[new VA,new $A,new GA],this._onSelectedToolChange=new bt.Event}get selectedTool(){return this._selectedTool}set selectedTool(t){t!=this._selectedTool&&(this._selectedTool=t,this._onSelectedToolChange.trigger(this,this._selectedTool))}addOnSelectedToolChangeHandler(t){this._onSelectedToolChange.on(t)}removeOnSelectedToolChangeHandler(t){this._onSelectedToolChange.off(t)}}return n.\u0275fac=function(t){return new(t||n)(N(Oe))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YA=["canvas"];let WA=(()=>{class n{constructor(t){this._tools=t,this._startX=0,this._startY=0,this._isMouseDown=!1,this.imageWidth=0,this.imageHeight=0,this.imageChanged=new ve}ngOnInit(){}ngAfterViewInit(){this.startImage&&this.canvas&&this.canvas.nativeElement.getContext("2d")?.putImageData(this.startImage,0,0)}onMouseDown(t){if(t.preventDefault(),this._tools.selectedTool){this._isMouseDown=!0,this._startX=t.layerX,this._startY=t.layerY;let i=this.getCanvasContext(t);this._tools.selectedTool.startManipulation(i,this._startX,this._startY)}}onMouseUp(t){t.preventDefault(),this._isMouseDown&&this._tools.selectedTool?.endManipulation(t.layerX,t.layerY),this._isMouseDown=!1,this.canvas&&this.imageChanged.emit(this.canvas.nativeElement)}getCanvasContext(t){return t.target.getContext("2d")}onHostMouseUp(t){this.onMouseUp(t)}onMouseMove(t){t.preventDefault(),this._isMouseDown&&this._tools.selectedTool?.updateManipulation(t.layerX,t.layerY)}}return n.\u0275fac=function(t){return new(t||n)(b(hu))},n.\u0275cmp=q({type:n,selectors:[["app-editor-canvas"]],viewQuery:function(t,i){if(1&t&&Lg(YA,5),2&t){let r;Ng(r=function Pg(){return function uM(n,e){return n[19].queries[e].queryList}(w(),id())}())&&(i.canvas=r.first)}},hostBindings:function(t,i){1&t&&T("mouseup",function(s){return i.onHostMouseUp(s)},0,zs)},inputs:{imageWidth:"imageWidth",imageHeight:"imageHeight",startImage:"startImage"},outputs:{imageChanged:"imageChanged"},decls:3,vars:2,consts:[[1,"editor"],[3,"width","height","mousedown","mouseup","mousemove"],["canvas",""]],template:function(t,i){1&t&&(f(0,"div",0)(1,"canvas",1,2),T("mousedown",function(s){return i.onMouseDown(s)})("mouseup",function(s){return i.onMouseUp(s)})("mousemove",function(s){return i.onMouseMove(s)}),m()()),2&t&&(C(1),y("width",i.imageWidth)("height",i.imageHeight))},styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n',".editor{background-color:#444;position:relative;margin-left:7px;font-size:0}canvas{position:relative;background-color:#164751}\n"],encapsulation:3}),n})();function ZA(n,e){if(1&n){const t=oe();f(0,"div",2),T("click",function(){const s=F(t).$implicit;return R(D().selectTool(s))}),O(1,"app-icon",3),m()}if(2&n){const t=e.$implicit;Pi("selected",D().isToolSelected(t)),C(1),y("icon",t.pictogramName)("title",t.description)}}let QA=(()=>{class n{constructor(t){this._tools=t}selectTool(t){this._tools.selectedTool=t}getTools(){return this._tools.availableTools}isToolSelected(t){return this._tools.selectedTool===t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(b(hu))},n.\u0275cmp=q({type:n,selectors:[["app-tools-bar"]],decls:2,vars:1,consts:[[1,"tools"],["class","tool",3,"selected","click",4,"ngFor","ngForOf"],[1,"tool",3,"click"],["size","20",3,"icon","title"]],template:function(t,i){1&t&&(f(0,"div",0),S(1,ZA,2,4,"div",1),m()),2&t&&(C(1),y("ngForOf",i.getTools()))},dependencies:[Dt,Kr],styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n',".tool{background:linear-gradient(to bottom,#254351 5%,#12505C 100%);background-color:#133139;border-radius:6px;border:1px solid #dcdcdc;display:inline-block;cursor:pointer;color:#fff;font-family:Arial;font-size:15px;font-weight:700;padding:4px;text-decoration:none;height:30px;margin-bottom:2px}.tool:hover{background:linear-gradient(to bottom,#102836 5%,#133139 100%);background-color:#254351}.tool:active,.tool.selected{position:relative;border:1px solid #656565;background:linear-gradient(to bottom,#102836 5%,#133139 100%)}.tools{display:inline;position:relative}\n"],encapsulation:3}),n})();function XA(n,e){1&n&&(f(0,"div",3)(1,"span",4),E(2,"Please check the tool for settings"),m()())}function JA(n,e){if(1&n){const t=oe();f(0,"div",7)(1,"label",8),E(2),m(),f(3,"input",9),T("change",function(r){return F(t),R(D(2).onValueChange(r))}),m()()}if(2&n){const t=D(),i=t.$implicit,r=t.index,s=D();C(1),y("for",s.getId(i,r)),C(1),Ot(i.name),C(1),y("alt",i.description)("value",i.value)}}function qA(n,e){if(1&n&&(f(0,"div",7)(1,"label",8),E(2),m(),f(3,"div",10),E(4,"\xa0"),m()()),2&n){const t=D(),i=t.$implicit,r=t.index,s=D();C(1),y("for",s.getId(i,r)),C(1),Ot(i.name),C(1),ze("background-color",s.getColor()),y("title",i.description)}}function KA(n,e){if(1&n&&(f(0,"div",3),O(1,"app-icon",5),S(2,JA,4,4,"div",6),S(3,qA,5,5,"div",6),m()),2&n){const t=e.$implicit,i=D();C(1),y("icon",t.pictogramName)("title",t.description),C(1),y("ngIf",i.isNumber(t)),C(1),y("ngIf",i.isColor(t))}}let ex=(()=>{class n{constructor(t,i){this._tools=t,this._colors=i,this._colors.addOnPrimaryColorHandler((r,s)=>this.onPrimaryColorChange(s)),this._tools.addOnSelectedToolChangeHandler((r,s)=>this.onSelectedToolChange(s))}onSelectedToolChange(t){if(t&&this._colors.primaryColor){const r=t.settings;for(var i=0;i<r.length;i++)if(r[i].type==qt.Color){const s=this._colors.primaryColor;r[i].value="#"+uu(s.r,s.g,s.b);break}}}onPrimaryColorChange(t){if(this._tools.selectedTool&&t){const r=this._tools.selectedTool.settings;for(var i=0;i<r.length;i++)if(r[i].type==qt.Color){r[i].value="#"+uu(t.r,t.g,t.b);break}}}isColor(t){return t.type==qt.Color}isNumber(t){return t.type==qt.Number}getColor(){return"rgb("+this._colors.primaryColor.r+","+this._colors.primaryColor.g+","+this._colors.primaryColor.b+")"}get tool(){return this._tools.selectedTool}get settings(){return this._tools.selectedTool?this._tools.selectedTool.settings:[]}onValueChange(t){let i=Math.min(1024,Math.max(0,+t.target.value));if(this._tools.selectedTool){const s=this._tools.selectedTool.settings;for(var r=0;r<s.length;r++)if(s[r].type==qt.Number){s[r].value=i;break}}}getId(t,i){return t.name+i.toString()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(b(hu),b(e0))},n.\u0275cmp=q({type:n,selectors:[["app-tool-settings"]],decls:3,vars:2,consts:[[1,"tool-settings"],["class","setting",4,"ngIf"],["class","setting",4,"ngFor","ngForOf"],[1,"setting"],[1,"nosettings"],["size","10",1,"icon",3,"icon","title"],["class","input",4,"ngIf"],[1,"input"],[1,"setting-label",3,"for"],["id","getId(setting, settingIndex)",1,"number-value",3,"alt","value","change"],["id","getId(setting, settingIndex)",1,"color-value",3,"title"]],template:function(t,i){1&t&&(f(0,"div",0),S(1,XA,3,0,"div",1),S(2,KA,4,4,"div",2),m()),2&t&&(C(1),y("ngIf",0==i.settings.length),C(1),y("ngForOf",i.settings))},dependencies:[Dt,Re,Kr],styles:[".color-value[_ngcontent-%COMP%]{width:2em;height:1.4em;display:inline-block}.number-value[_ngcontent-%COMP%]{width:5em}.icon[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{float:left;margin-right:5px}.setting-label[_ngcontent-%COMP%]{margin-right:5px}.icon[_ngcontent-%COMP%]{padding-top:0;color:#fff}label[_ngcontent-%COMP%]{color:#fff}.setting[_ngcontent-%COMP%]{float:left;margin-right:10px}.nosettings[_ngcontent-%COMP%]{padding:2px 2px 2px 5px;display:block;color:#fff}.tool-settings[_ngcontent-%COMP%]{margin-left:36px}"]}),n})(),tx=(()=>{class n{constructor(){this.imageWidth=0,this.imageHeight=0,this.imageChanged=new ve}ngOnInit(){}onImageChange(t){this.imageChanged.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-edit-workspace"]],inputs:{imageWidth:"imageWidth",imageHeight:"imageHeight",startImage:"startImage"},outputs:{imageChanged:"imageChanged"},decls:6,vars:7,consts:[[1,"edit-workspace"],[1,"toolbar"],[1,"settings"],[1,"canvas",3,"imageWidth","imageHeight","startImage","imageChanged"],[3,"startWidth","startLeft","startTop","isVisible"],[1,"palette"]],template:function(t,i){1&t&&(f(0,"div",0),O(1,"app-tools-bar",1)(2,"app-tool-settings",2),f(3,"app-editor-canvas",3),T("imageChanged",function(s){return i.onImageChange(s)}),m(),f(4,"app-popup-form",4),O(5,"app-palette",5),m()()),2&t&&(C(3),y("imageWidth",i.imageWidth)("imageHeight",i.imageHeight)("startImage",i.startImage),C(1),y("startWidth",14)("startLeft",i.imageWidth+50)("startTop",0)("isVisible",!0))},dependencies:[qy,HA,WA,QA,ex],styles:[".settings[_ngcontent-%COMP%]{width:100%;height:2em;display:block}.toolbar[_ngcontent-%COMP%]{width:2em;float:left;position:relative;height:100%}.canvas[_ngcontent-%COMP%]{position:relative;display:block;margin-left:2em}"]}),n})(),nx=(()=>{class n{constructor(t,i,r,s){this._imageStorage=t,this._service=i,this._logger=r,this._growler=s,this._layerName="",this._imageId="",this._resizeBehavior="original",this._model=new qr("null")}get imagePath(){return this._model.getParam("path")}get imageData(){return this._model.getParam("imagedata")}get name(){return this._model.getParam("name")}get imageWidth(){return+this._model.getParam("width")}get imageHeight(){return+this._model.getParam("height")}set name(t){this._layerName=t}get position(){return this._model.position}onNameChange(t){this._layerName=t.target.value}onResizeBehaviorChange(t){this._resizeBehavior=t.target.value}onApply(){this.obtainImageIdForChangedCanvas().then(i=>{this._model.setParam("name",this._layerName),this._model.setParam("resizeBehavior",this._resizeBehavior),this._model.setParam("imageId",i),this._logger.log("APPLY FORM",this._model),this._model.saveAndClose()})}obtainImageIdForChangedCanvas(){var t=this;return te(function*(){let i=yield t.createImagePlacementFromChangedCanvas();return t._imageStorage.addImage(i)})()}createImagePlacementFromChangedCanvas(){var t=this;return te(function*(){let r=t._changedImage.toDataURL("image/png"),s=new Wy(t._service,t._logger,r);return yield s.ready,s})()}onCancel(){this._model.close(),this._logger.log("closing form"+this._model.isVisible)}get isActive(){return this._model.isVisible}onReplaceClicked(t){this._logger.log("onReplaceClicked",t)}onFilesUploaded(t){this._logger.log("FILE UPLOADED. UPDATE OF FORM",t),this._growler.growl("The file is uploaded successfully",Jt.Success)}onImageReadyForUse(t){this._logger.log("Image ready for use",t),this._imageId=t,this._growler.growl("The Image is ready for use.")}ngOnInit(){null!=this.inputModel&&(this._model=this.inputModel,this.name=this._model.getParam("name"),this._imageId=this._model.getParam("imageId"))}onImageChanged(t){this._changedImage=t}}return n.\u0275fac=function(t){return new(t||n)(b(Hi),b(Bi),b(Oe),b(Yn))},n.\u0275cmp=q({type:n,selectors:[["app-regularlayeredit"]],inputs:{inputModel:"inputModel"},decls:10,vars:6,consts:[[3,"startLeft","startTop","onApply","onCancel"],[1,"content"],[1,"form-group"],["for","LayerNameInput",1,"main-label"],["type","text","id","LayerNameInput","placeholder","Layer name",1,"form-control",3,"value","click","change"],["layerNameInput",""],[3,"imageWidth","imageHeight","startImage","imageChanged"]],template:function(t,i){if(1&t){const r=oe();f(0,"app-templateform",0),T("onApply",function(){return i.onApply()})("onCancel",function(){return i.onCancel()}),f(1,"div",1)(2,"div",2)(3,"label",3),E(4,"Layer\xa0name:"),m(),f(5,"input",4,5),T("click",function(){return F(r),R(Dr(6).select())})("change",function(o){return i.onNameChange(o)}),m()()(),f(7,"div",1)(8,"div",2)(9,"app-edit-workspace",6),T("imageChanged",function(o){return i.onImageChanged(o)}),m()()()()}2&t&&(y("startLeft",i.position.x)("startTop",i.position.y),C(5),y("value",i.name),C(4),y("imageWidth",i.imageWidth)("imageHeight",i.imageHeight)("startImage",i.imageData))},dependencies:[Ky,tx],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}",'*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}',".form-group[_ngcontent-%COMP%]{margin-bottom:.5em;clear:both;width:100%;display:inline-block}label[_ngcontent-%COMP%]{width:33%;color:#fff;text-align:right;padding-right:1%}textarea[_ngcontent-%COMP%]{height:4em}.form-control[_ngcontent-%COMP%]{width:63%}.resize-label[_ngcontent-%COMP%]{margin-right:8px}.resize-types[_ngcontent-%COMP%]{width:65%;float:left}.resize-radio[_ngcontent-%COMP%]{margin-top:6px;margin-bottom:6px}#LayerNameInput[_ngcontent-%COMP%]{height:2em;font-size:1em}label.main-label[_ngcontent-%COMP%]{width:34%;margin-right:1%}"]}),n})();function ix(n,e){1&n&&O(0,"app-textlayeredit",1),2&n&&y("inputModel",D().model)}function rx(n,e){1&n&&O(0,"app-regularlayeredit",1),2&n&&y("inputModel",D().model)}let sx=(()=>{class n{constructor(){this.model=new qr("null")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-formtemplaterselector"]],inputs:{model:"model"},decls:2,vars:2,consts:[[3,"inputModel",4,"ngIf"],[3,"inputModel"]],template:function(t,i){1&t&&(S(0,ix,1,1,"app-textlayeredit",0),S(1,rx,1,1,"app-regularlayeredit",0)),2&t&&(y("ngIf","textLayer"===i.model.type),C(1),y("ngIf","regularLayer"==i.model.type))},dependencies:[Re,UA,nx],styles:["*{box-sizing:border-box}\n"],encapsulation:3}),n})();function ox(n,e){if(1&n){const t=oe();f(0,"div")(1,"div",2),T("mousedown",function(r){return F(t),R(D().startResize(r,void 0,!0))}),m(),f(2,"div",3),T("mousedown",function(r){return F(t),R(D().startResize(r,void 0,!1))}),m(),f(3,"div",4),T("mousedown",function(r){return F(t),R(D().startResize(r,!0,void 0))}),m(),f(4,"div",5),T("mousedown",function(r){return F(t),R(D().startResize(r,!1,void 0))}),m(),f(5,"div",6),T("mousedown",function(r){return F(t),R(D().startResize(r,!0,!0))}),m(),f(6,"div",7),T("mousedown",function(r){return F(t),R(D().startResize(r,!0,!1))}),m(),f(7,"div",8),T("mousedown",function(r){return F(t),R(D().startResize(r,!1,!0))}),m(),f(8,"div",9),T("mousedown",function(r){return F(t),R(D().startResize(r,!1,!1))}),m()()}}let ax=(()=>{class n{constructor(t){this._logger=t,this.model=new Zy(0,0,100,100)}ngOnInit(){}get isResizeEnabled(){return this.model.isResizeEnabled??!0}onMouseMove(t){this._trasformer?.onMouseMove(t)}startResize(t,i,r){this.model.isSelected&&this.isResizeEnabled&&(this._trasformer=new ko(this.model,this._logger),this._trasformer?.startResize(t,{left:i,top:r}))}startMove(t){this._logger.info("startMove: ",t),this.model.isSelected&&(this._trasformer=new ko(this.model,this._logger),this._trasformer?.startMove(t))}stopTransform(t){this._trasformer&&(this._trasformer.stopTransform(t),this._trasformer=void 0,!0===this.model.isResizeEnabled&&(this.model.isResizeEnabled=!1,this.model.isSelected=!1))}}return n.\u0275fac=function(t){return new(t||n)(b(Oe))},n.\u0275cmp=q({type:n,selectors:[["app-transform-overlay"]],hostBindings:function(t,i){1&t&&T("mousemove",function(s){return i.onMouseMove(s)},0,gr)},inputs:{model:"model"},decls:2,vars:1,consts:[[1,"inner-move-overlay",3,"mousedown","mouseup"],[4,"ngIf"],[1,"resize-side","top",3,"mousedown"],[1,"resize-side","bottom",3,"mousedown"],[1,"resize-side","left",3,"mousedown"],[1,"resize-side","right",3,"mousedown"],[1,"resize-corner","lefttop",3,"mousedown"],[1,"resize-corner","leftbottom",3,"mousedown"],[1,"resize-corner","righttop",3,"mousedown"],[1,"resize-corner","rightbottom",3,"mousedown"]],template:function(t,i){1&t&&(f(0,"div",0),T("mousedown",function(s){return i.startMove(s)})("mouseup",function(s){return i.stopTransform(s)},!1,gr),m(),S(1,ox,9,0,"div",1)),2&t&&(C(1),y("ngIf",i.isResizeEnabled))},dependencies:[Re],styles:[".inner-move-overlay[_ngcontent-%COMP%]{width:100%;height:100%;box-shadow:inset 0 0 5px 1px #7e152780;z-index:1}.resize-side[_ngcontent-%COMP%]{position:absolute;z-index:2}.resize-side.top[_ngcontent-%COMP%]{left:2px;top:0;width:100%;width:calc(100% - 4px);height:2px}.resize-side.top[_ngcontent-%COMP%]:hover, .resize-side.top[_ngcontent-%COMP%]:active{cursor:n-resize}.resize-side.bottom[_ngcontent-%COMP%]{left:2px;top:100%;width:calc(100% - 4px);height:2px}.resize-side.bottom[_ngcontent-%COMP%]:hover, .resize-side.bottom[_ngcontent-%COMP%]:active{cursor:n-resize}.resize-side.left[_ngcontent-%COMP%]{left:0;top:2px;width:2px;height:calc(100% - 4px)}.resize-side.left[_ngcontent-%COMP%]:hover, .resize-side.left[_ngcontent-%COMP%]:active{cursor:e-resize}.resize-side.right[_ngcontent-%COMP%]{left:100%;top:2px;width:2px;height:calc(100% - 4px)}.resize-side.right[_ngcontent-%COMP%]:hover, .resize-side.right[_ngcontent-%COMP%]:active{cursor:e-resize}.resize-corner[_ngcontent-%COMP%]{position:absolute;border-style:solid;border-width:5px;z-index:3}.resize-corner.lefttop[_ngcontent-%COMP%]{left:0;top:0;transform:translate3d(-50%,-50%,0) rotate(45deg);border-color:transparent rgba(255,255,255,.5019607843) transparent transparent}.resize-corner.lefttop[_ngcontent-%COMP%]:hover, .resize-corner.lefttop[_ngcontent-%COMP%]:active{cursor:nwse-resize}.resize-corner.leftbottom[_ngcontent-%COMP%]{left:0;top:100%;transform:translate3d(-50%,-50%,0) rotate(45deg);border-color:rgba(255,255,255,.5019607843) transparent transparent transparent}.resize-corner.leftbottom[_ngcontent-%COMP%]:hover, .resize-corner.leftbottom[_ngcontent-%COMP%]:active{cursor:nesw-resize}.resize-corner.righttop[_ngcontent-%COMP%]{left:100%;top:0;transform:translate3d(-50%,-50%,0) rotate(45deg);border-color:transparent transparent rgba(255,255,255,.5019607843) transparent}.resize-corner.righttop[_ngcontent-%COMP%]:hover, .resize-corner.righttop[_ngcontent-%COMP%]:active{cursor:nesw-resize}.resize-corner.rightbottom[_ngcontent-%COMP%]{left:100%;top:100%;transform:translate3d(-50%,-50%,0) rotate(45deg);border-color:transparent transparent transparent rgba(255,255,255,.5019607843)}.resize-corner.rightbottom[_ngcontent-%COMP%]:hover, .resize-corner.rightbottom[_ngcontent-%COMP%]:active{cursor:nwse-resize}"]}),n})();function lx(n,e){1&n&&(f(0,"app-layerimage",7),O(1,"div"),m()),2&n&&y("model",D().$implicit)}function cx(n,e){1&n&&(f(0,"app-grouplayerimage",8),O(1,"div"),m()),2&n&&y("inputModel",D().$implicit)}function ux(n,e){if(1&n&&(f(0,"div"),S(1,lx,2,1,"app-layerimage",5),S(2,cx,2,1,"app-grouplayerimage",6),m()),2&n){const t=e.$implicit,i=D();C(1),y("ngIf",!i.isGroupLayer(t)),C(1),y("ngIf",i.isGroupLayer(t))}}function dx(n,e){if(1&n){const t=oe();f(0,"app-layerquickedit",9),T("editRequest",function(){return F(t),R(D().selectedEditRequest())}),m()}if(2&n){const t=D();ze("left",(t.selected.positionX+t.selected.sizeX)*t.imageScale+5,"px")("top",t.selected.positionY*t.imageScale,"px")("z-index",500),y("model",t.selected)("isFullSet",!0)("isLeftAlignment",!0)}}function hx(n,e){if(1&n&&O(0,"app-transform-overlay",7),2&n){const t=D();ze("width",t.selected.sizeX*t.imageScale,"px")("height",t.selected.sizeY*t.imageScale,"px")("left",t.selected.positionX*t.imageScale,"px")("top",t.selected.positionY*t.imageScale,"px"),y("model",t.selected)}}function px(n,e){if(1&n&&O(0,"app-transform-overlay",7),2&n){const t=D();ze("width",t.model.sizeX*t.imageScale,"px")("height",t.model.sizeY*t.imageScale,"px"),y("model",t.model)}}function fx(n,e){if(1&n&&(f(0,"div"),O(1,"app-formtemplaterselector",7),m()),2&n){const t=e.$implicit;C(1),y("model",t)}}let gx=(()=>{class n{constructor(t,i,r){this._dataProvider=t,this._formManager=i,this._uiState=r,this.forms=i.forms}get dataProvider(){return this._dataProvider}get model(){return this._uiState.canvas}get isCanvasSelected(){return this._uiState.isCanvasSelected}get selected(){if(this._uiState.isLayerSelected)return this._uiState.selectedLayer;throw new Error("Layer was not selected")}get isLayerSelected(){return this._uiState.isLayerSelected}get imageTranslateX(){return this._uiState.imageTranslateX}get imageTranslateY(){return this._uiState.imageTranslateY}get imageScale(){return this._uiState.imageScale}selectedEditRequest(){this._uiState.isLayerSelected&&this._formManager.ShowForm(this._uiState.selectedLayer)}isGroupLayer(t){return t.type===k.GroupLayer}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(b(Jr),b(au),b(Wn))},n.\u0275cmp=q({type:n,selectors:[["app-image-canvas"]],decls:6,vars:13,consts:[[1,"image-canvas"],[4,"ngFor","ngForOf"],[3,"model","left","top","z-index","isFullSet","isLeftAlignment","editRequest",4,"ngIf"],[3,"model","width","height","left","top",4,"ngIf"],[3,"model","width","height",4,"ngIf"],[3,"model",4,"ngIf"],[3,"inputModel",4,"ngIf"],[3,"model"],[3,"inputModel"],[3,"model","isFullSet","isLeftAlignment","editRequest"]],template:function(t,i){1&t&&(f(0,"div",0),S(1,ux,3,2,"div",1),S(2,dx,1,9,"app-layerquickedit",2),S(3,hx,1,9,"app-transform-overlay",3),S(4,px,1,5,"app-transform-overlay",4),m(),S(5,fx,2,1,"div",1)),2&t&&(ze("width",i.model.sizeX*i.imageScale,"px")("height",i.model.sizeY*i.imageScale,"px")("left",i.imageTranslateX,"px")("top",i.imageTranslateY,"px"),C(1),y("ngForOf",null==i.dataProvider?null:i.dataProvider.getLayers()),C(1),y("ngIf",i.isLayerSelected),C(1),y("ngIf",i.isLayerSelected),C(1),y("ngIf",i.isCanvasSelected),C(1),y("ngForOf",i.forms))},dependencies:[Dt,Re,Jy,lu,OA,sx,ax],styles:["app-layerimage,app-grouplayerimage{position:relative;font-size:0}app-layerquickedit{position:absolute}app-transform-overlay{position:absolute;box-shadow:0 0 5px 1px #81ead880}.image-canvas{box-sizing:border-box;position:absolute;background-image:-webkit-linear-gradient(45deg,#666 25%,transparent 25%,transparent 75%,#666 75%,#666 100%),-webkit-linear-gradient(45deg,#666 25%,transparent 25%,transparent 75%,#666 75%,#666 100%);background-size:30px 30px;-webkit-background-size:31px 31px;background-position:0 0,15px 15px;border:1px solid #666}\n"],encapsulation:3}),n})(),mx=(()=>{class n{constructor(t){this._uiState=t}ngOnInit(){}onMouseWheel(t){t.preventDefault(),t.stopPropagation();let i=Math.sign(t.deltaY);this._uiState.imageScale-=.1*i}onClick(t){var i=t.composedPath();(t.target==t.currentTarget||i&&i.length>=1&&("APP-TRANSFORM-OVERLAY"==i[1].tagName||"image-canvas"==i[0].className))&&(t.preventDefault(),t.stopPropagation(),this._uiState.isLayerSelected?this._uiState.deselectLayer():this._uiState.isCanvasSelected=!this._uiState.isCanvasSelected)}}return n.\u0275fac=function(t){return new(t||n)(b(Wn))},n.\u0275cmp=q({type:n,selectors:[["app-imageworkspace"]],decls:2,vars:0,consts:[[1,"image-workspace",3,"click","wheel"]],template:function(t,i){1&t&&(f(0,"div",0),T("click",function(s){return i.onClick(s)})("wheel",function(s){return i.onMouseWheel(s)}),O(1,"app-image-canvas"),m())},dependencies:[gx],styles:[".image-workspace{width:100%;height:100%}\n"],encapsulation:3}),n})();function yx(n,e){1&n&&O(0,"app-icon",6),2&n&&y("icon",e.$implicit)}let n0=(()=>{class n{constructor(){this.level=0,this.model=Sn.createDefault()}getIconForType(t){switch(t){case k.RegularLayer:return"PaintBrush";case k.TextLayer:return"Font";case k.FillLayer:return"SquareFull";case k.AdjustmentLayer:return"Adjust";case k.GroupLayer:return"LayerGroup";case k.SmartObjectLayer:return"Paperclip"}}get layerIcons(){let t=this.getIconForType(this.model.type);return this.model.isClipping?[t,"Mask"]:[t]}ngOnInit(){null!=this.inputModel&&(this.model=this.inputModel)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-layerlistview"]],inputs:{inputModel:"inputModel",level:"level"},decls:7,vars:10,consts:[[1,"layer"],[1,"layer-name",3,"title"],[1,"layer-pictograms"],[3,"icon",4,"ngFor","ngForOf"],[1,"layer-name-holder"],[3,"model","isLeftAlignment","isFullSet"],[3,"icon"]],template:function(t,i){1&t&&(f(0,"div",0)(1,"div",1)(2,"div",2),S(3,yx,1,1,"app-icon",3),m(),f(4,"div",4),E(5),m()(),O(6,"app-layerquickedit",5),m()),2&t&&(C(1),ze("padding-left",2*i.level,"%")("max-width",60-2*i.level,"%"),y("title",i.model.name),C(2),y("ngForOf",i.layerIcons),C(2),Ot(i.model.name),C(1),y("model",i.model)("isLeftAlignment",!1)("isFullSet",!1))},dependencies:[Dt,Kr,lu],styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n',".layer{color:#fff;clear:both}app-layerquickedit{display:none}:host(.layer:hover app-layerquickedit){display:block}.layer-pictograms{float:left;display:inline-block}app-icon{width:1em;height:1em;display:inline-block;font-size:.8em;padding-top:4px;margin:0 8px 0 2px}.layer{color:#fff;clear:both;width:100%}app-layerquickedit{min-width:2em}.layer-name{float:left;overflow:hidden;max-width:60%;height:1.5em;font-size:.95em}app-layerquickedit{float:right}.layer{display:inline-block;width:100%;float:left;clear:both;height:1.75em;padding-top:3px}.layer>app-layerquickedit{display:none}.layer:hover>app-layerquickedit{display:block}.layer-name{padding-left:2%}.layer-name-holder{width:auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:3}),n})();function Cx(n,e){if(1&n&&O(0,"app-layerlistview",7),2&n){const t=D().$implicit,i=D();y("inputModel",t)("level",i.level+1)}}function Ix(n,e){if(1&n&&O(0,"app-layergrouplistview",7),2&n){const t=D().$implicit,i=D();y("inputModel",t)("level",i.level+1)}}function _x(n,e){if(1&n&&(f(0,"div"),S(1,Cx,1,2,"app-layerlistview",6),S(2,Ix,1,2,"app-layergrouplistview",6),m()),2&n){const t=e.$implicit,i=D();C(1),y("ngIf",!i.isGroupLayer(t)),C(1),y("ngIf",i.isGroupLayer(t))}}let wx=(()=>{class n{constructor(){this.level=0,this.model=new su("","stub",{x:0,y:0},{x:0,y:0},!1,!1,[])}ngOnInit(){null!=this.inputModel&&(this.model=this.inputModel)}get isExpanded(){return this.model.type!=k.GroupLayer||this.model.isExpanded}isGroupLayer(t){return t.type==k.GroupLayer}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-layergrouplistview"]],inputs:{inputModel:"inputModel",level:"level"},decls:7,vars:12,consts:[[1,"layer","grouplayer"],[1,"header"],[1,"layer-name",3,"title"],[3,"model","isLeftAlignment","isFullSet"],[1,"content"],[4,"ngFor","ngForOf"],[3,"inputModel","level",4,"ngIf"],[3,"inputModel","level"]],template:function(t,i){1&t&&(f(0,"div",0)(1,"div",1)(2,"div",2),E(3),m(),O(4,"app-layerquickedit",3),m(),f(5,"div",4),S(6,_x,3,2,"div",5),m()()),2&t&&(C(2),ze("padding-left",2*i.level,"%")("max-width",60-2*i.level,"%"),y("title",i.model.name),C(1),Ot(i.model.name),C(1),y("model",i.model)("isLeftAlignment",!1)("isFullSet",!1),C(1),Pi("collapsed",!i.model.isExpanded),C(1),y("ngForOf",i.model.children()))},dependencies:[Dt,Re,lu,n0,n],styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n',".layer{color:#fff;clear:both}app-layerquickedit{width:40%}.layer-name{float:left;overflow:hidden;max-width:60%;height:1.5em;font-size:1em}app-layerquickedit{float:right}.header{display:inline-block;width:100%;height:1.5em;clear:both;float:left}.header>app-layerquickedit{display:none}.header:hover>app-layerquickedit{display:block}.content{clear:both}.layer{width:100%;clear:both;height:1.5em}.layer-name{padding-left:2%}.grouplayer{box-shadow:0 1px 2px 1px #202020cc;background:#19606e}.content{transition:all .3s ease-out;display:block}.content.collapsed{display:none}\n"],encapsulation:3}),n})();function vx(n,e){1&n&&O(0,"app-layerlistview",5),2&n&&y("inputModel",D().$implicit)}function Dx(n,e){1&n&&O(0,"app-layergrouplistview",5),2&n&&y("inputModel",D().$implicit)}function Mx(n,e){if(1&n&&(f(0,"div"),S(1,vx,1,1,"app-layerlistview",4),S(2,Dx,1,1,"app-layergrouplistview",4),m()),2&n){const t=e.$implicit,i=D();C(1),y("ngIf",!i.isGroupLayer(t)),C(1),y("ngIf",i.isGroupLayer(t))}}let bx=(()=>{class n{constructor(t,i){this._logger=i,this._logger.log("form manager",t)}ngOnInit(){this._logger.log("LayerListWorkspace Init"),this._logger.log("Layers "+this.dataProvider?.getLayers())}ngAfterViewInit(){}isGroupLayer(t){return t.type==k.GroupLayer}}return n.\u0275fac=function(t){return new(t||n)(b(au),b(Oe))},n.\u0275cmp=q({type:n,selectors:[["app-layerlistworkspace"]],inputs:{dataProvider:"dataProvider"},decls:4,vars:1,consts:[[1,"layerlist-workspace"],[1,"wrapper"],[1,"layerlist-list"],[4,"ngFor","ngForOf"],[3,"inputModel",4,"ngIf"],[3,"inputModel"]],template:function(t,i){1&t&&(f(0,"div",0)(1,"div",1)(2,"div",2),S(3,Mx,3,2,"div",3),m()()()),2&t&&(C(3),y("ngForOf",null==i.dataProvider?null:i.dataProvider.getReverseLayers()))},dependencies:[Dt,Re,n0,wx],styles:["*{box-sizing:border-box}\n",".layerlist-workspace{background-color:#12505c}.layerlist-workspace h4{color:#fff;text-align:center;margin:0;padding-bottom:3px}.layerlist-workspace .header{float:left;clear:both}.layerlist-workspace{padding:3px}.layerlist-workspace{height:100%}.layerlist-list{overflow-y:scroll;width:100%;padding-right:2%;height:100%}.header{background:#133139;width:100%;margin-bottom:3px}.wrapper{top:4px;bottom:0px;left:4px;right:0px;position:absolute}.layerlist-list::-webkit-scrollbar{background-color:#133e47}.layerlist-list::-webkit-scrollbar-thumb{background-color:#6f898f;border-radius:5px}\n"],encapsulation:3}),n})();const Tx=["*"];let Ax=(()=>{class n{constructor(t,i,r){this.modalService=t,this._logger=i,this.el=r,this.id="",this.autoClose=!0,this.headerText="Modal Dialog",this.canApply=()=>!0,this.onApply=new ve,this.element=r.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.autoClose&&this.element.addEventListener("click",t=>{"app-modal"===t.target.className&&this.close()}),this.modalService.add(this)):this._logger.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("app-modal-open")}close(){this.element.style.display="none",document.body.classList.remove("app-modal-open")}apply(){this.canApply()&&(this.onApply.emit(),this.close())}cancel(){this.close()}}return n.\u0275fac=function(t){return new(t||n)(b($y),b(Oe),b($t))},n.\u0275cmp=q({type:n,selectors:[["app-modal"]],inputs:{id:"id",autoClose:"autoClose",headerText:"headerText",canApply:"canApply"},outputs:{onApply:"onApply"},ngContentSelectors:Tx,decls:13,vars:1,consts:[[1,"app-modal"],[1,"app-modal-body"],[1,"block-header"],[1,"content"],[1,"commands"],[1,"button",3,"click"],[1,"app-modal-background"]],template:function(t,i){1&t&&(Bn(),f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),E(4),m()(),f(5,"div",3),Hn(6),f(7,"div",4)(8,"div",5),T("click",function(){return i.apply()}),E(9,"Apply"),m(),f(10,"div",5),T("click",function(){return i.cancel()}),E(11,"Close"),m()()()()(),O(12,"div",6)),2&t&&(C(4),Ot(i.headerText))},styles:["app-modal{display:none}app-modal .app-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;overflow:auto}app-modal .app-modal .app-modal-body{background:#19606e;box-shadow:0 1px 2px 1px #202020cc;font-family:Open Sans;max-width:470px;width:70%;margin:20% auto 0}app-modal .app-modal .app-modal-body .block-header{width:100%;background:#133139;clear:both;margin-bottom:.5em;cursor:pointer}app-modal .app-modal .app-modal-body .block-header h4{color:#fff;text-align:center;margin:0;padding-bottom:3px;width:100%}app-modal .app-modal .app-modal-body .content{padding:20px;min-height:64px;color:#fff}app-modal .app-modal .app-modal-body .content .commands{clear:both;width:100%;min-height:24px;color:#000}app-modal .app-modal .app-modal-body .content .commands .button{float:right;border-radius:2px;background-color:#a5e5f2;margin:5px;cursor:pointer;padding:3px 6px 5px;box-shadow:inset -2px -2px 3px -2px #32323259}app-modal .app-modal .app-modal-body .content .commands .button span{border-bottom:1px solid black}app-modal .app-modal-background{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;opacity:0;z-index:900}body.app-modal-open{overflow:hidden}\n"],encapsulation:2}),n})();function xx(n,e){if(1&n&&(f(0,"option",8),E(1),m()),2&n){const t=e.$implicit,i=D();jl("value",t.value),y("selected",i.selected==t.value),C(1),bn(" ",t.title," ")}}function Ex(n,e){if(1&n&&(f(0,"span"),E(1),m()),2&n){const t=D();C(1),bn(" ",t.errorMessage," ")}}let Sx=(()=>{class n{constructor(){this.labelText="Select a value:",this.items=[],this.select=()=>{}}ngOnChanges(t){if(this.items.length>0&&t.selected){const r=this.items.find(s=>s.value==this.selected);this.errorMessage=this.select(r??this.items[0])}}selectItem(t){const r=t?.target?.selectedIndex;null!=r&&(this.errorMessage=this.select(this.items[r]))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-dropdown"]],inputs:{labelText:"labelText",items:"items",selected:"selected",select:"select"},features:[Fn],decls:9,vars:3,consts:[[1,"select"],[1,"dropdown-header"],[1,"dropdown",3,"change"],["class","dropdown-item",3,"value","selected",4,"ngFor","ngForOf"],[1,"select_arrow_wrapper"],[1,"select_arrow"],[1,"errorMessage"],[4,"ngIf"],[1,"dropdown-item",3,"value","selected"]],template:function(t,i){1&t&&(f(0,"div",0)(1,"label",1),E(2),m(),f(3,"select",2),T("change",function(s){return i.selectItem(s)}),S(4,xx,2,3,"option",3),m()(),f(5,"div",4),O(6,"div",5),m(),f(7,"div",6),S(8,Ex,2,1,"span",7),m()),2&t&&(C(2),bn(" ",i.labelText," "),C(2),y("ngForOf",i.items),C(4),y("ngIf",i.errorMessage))},dependencies:[Dt,Re],styles:["select[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:3px;margin-bottom:5px;width:100%}.select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:inline-block;width:100%;cursor:pointer;padding:6px 15px;outline:0;border:1px solid #59c7de;border-radius:5px;background:#a5e5f2;color:#12505c;appearance:none;font-size:medium;font-family:Open Sans;font-weight:700;-webkit-appearance:none;-moz-appearance:none}.select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::-ms-expand{display:none}.select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{color:#12505c;background:#59c7de}.select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{opacity:.5;pointer-events:none}.select_arrow_wrapper[_ngcontent-%COMP%]{position:relative;top:-40px}.select_arrow[_ngcontent-%COMP%]{position:absolute;top:15px;right:12px;pointer-events:none;border-style:solid;border-width:8px 5px 0px 5px;border-color:#12505c transparent transparent transparent}.select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover ~ .select_arrow[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus ~ .select_arrow[_ngcontent-%COMP%]{border-top-color:#072d34}.select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled ~ .select_arrow[_ngcontent-%COMP%]{border-top-color:#ccc}.errorMessage[_ngcontent-%COMP%]{margin-bottom:5px}.errorMessage[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffb6c1}"]}),n})();function Nx(n,e){if(1&n&&O(0,"app-dropdown",4),2&n){const t=D();y("items",t.adjustmentLayerTypes)("select",t.setAdjustmentLayerItem)("selected",1)}}const Lx=["*"];let Px=(()=>{class n{constructor(t){this.addLayerService=t,this.layerTypes=No.enumSelector(k),this.adjustmentLayerTypes=No.enumSelector(Ve),this.canApply=()=>this.addLayerService.canApply(),this.setLayerTypeItem=i=>{if(!this.addLayerService.setLayerType(i.value))return`Adding ${i.title} is not supported`},this.setLayerItem=i=>{this.addLayerService.setPriorLayer(i.value)},this.setAdjustmentLayerItem=i=>{if(!this.addLayerService.setAdjustmentLayerType(i.value))return`Adding ${i.title} is not supported`}}ngOnInit(){}get priorLayerId(){return this.addLayerService.priorLayerId}get isAdjustmentLayerSelected(){return this.addLayerService.isAdjustmentLayerSelected}get layerItems(){return this._layerItems??(this._layerItems=this.addLayerService.layers.map(i=>({value:i.id,title:i.name})))}openAddLayerModal(){this._layerItems=void 0,this.addLayerService.openAddLayerModal()}apply(){this.addLayerService.doAddLayer()}}return n.\u0275fac=function(t){return new(t||n)(b(Xy))},n.\u0275cmp=q({type:n,selectors:[["app-add-layer-selector"]],ngContentSelectors:Lx,decls:5,vars:8,consts:[["id","add-layer-modal","headerText","Add Layer Dialog",2,"background-color","red",3,"autoClose","canApply","onApply"],["labelText","Select a layer type to add:",3,"items","select"],["labelText","Place a new layer after this layer:",3,"items","select","selected"],["labelText","Select a new adjustment layer type:",3,"items","select","selected",4,"ngIf"],["labelText","Select a new adjustment layer type:",3,"items","select","selected"]],template:function(t,i){1&t&&(Bn(),f(0,"app-modal",0),T("onApply",function(){return i.apply()}),O(1,"app-dropdown",1)(2,"app-dropdown",2),S(3,Nx,1,3,"app-dropdown",3),Hn(4),m()),2&t&&(y("autoClose",!1)("canApply",i.canApply),C(1),y("items",i.layerTypes)("select",i.setLayerTypeItem),C(1),y("items",i.layerItems)("select",i.setLayerItem)("selected",i.priorLayerId),C(1),y("ngIf",i.isAdjustmentLayerSelected))},dependencies:[Re,Ax,Sx],styles:[".errorMessage[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#db7093}"]}),n})();function kx(n,e){1&n&&(f(0,"div",2),O(1,"div")(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div"),m())}let Ox=(()=>{class n{constructor(t){this._waiter=t}get isWaiting(){return this._waiter.isWaiting}get waitingText(){return this._waiter.message}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(b(Po))},n.\u0275cmp=q({type:n,selectors:[["app-waitwidget"]],decls:5,vars:2,consts:[[1,"text-color"],["class","lds-spinner",4,"ngIf"],[1,"lds-spinner"]],template:function(t,i){1&t&&(f(0,"div")(1,"div")(2,"span",0),E(3),m()(),S(4,kx,13,0,"div",1),m()),2&t&&(C(3),Ot(i.waitingText),C(1),y("ngIf",i.isWaiting))},dependencies:[Re],styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n','.text-color{color:#fff}.lds-spinner{color:official;display:inline-block;position:relative;width:80px;height:80px;margin:5px auto}.lds-spinner div{transform-origin:40px 40px;animation:lds-spinner 1.2s linear infinite}.lds-spinner div:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner div:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner div:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner div:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner div:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner div:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner div:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner div:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner div:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner div:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner div:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner div:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner div:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes lds-spinner{0%{opacity:1}to{opacity:0}}\n'],encapsulation:3}),n})();function Fx(n,e){1&n&&(f(0,"div",2),O(1,"app-waitwidget"),m())}function Rx(n,e){if(1&n){const t=oe();f(0,"div")(1,"div",3),T("click",function(){return F(t),R(Dr(23).openAddLayerModal())}),f(2,"span"),E(3,"Add a layer"),m()(),f(4,"div",3),T("click",function(){return F(t),R(D().onShowAllLayers())}),f(5,"span"),E(6,"Show all layers"),m()(),f(7,"div",3),T("click",function(){return F(t),R(D().onEditAnotherFile())}),f(8,"span"),E(9,"Edit another file"),m()(),f(10,"div",3),T("click",function(){return F(t),R(D().onDownloadUpdatedImageAsPng())}),f(11,"span"),E(12,"Download as Png"),m()(),f(13,"div",3),T("click",function(){return F(t),R(D().onDownloadUpdatedImageAsJpg())}),f(14,"span"),E(15,"Download as Jpg"),m()(),f(16,"label",4)(17,"input",5),T("change",function(r){return F(t),R(D().changeResizeStatus(r))}),m(),E(18,"Image resize\n"),m(),f(19,"div",6),T("click",function(){return F(t),R(D().onDownloadUpdatedImage())}),f(20,"span"),E(21,"Download updated PSD Image"),m()(),O(22,"app-add-layer-selector",null,7),m()}if(2&n){const t=D();C(17),y("checked",t.isResizeEnabled)}}let zx=(()=>{class n{constructor(t,i,r){this._provider=t,this._uiState=i,this._waitingService=r}get isWaiting(){return this._waitingService.isWaiting}get isResizeEnabled(){return this._uiState.isCanvasSelected&&this._uiState.isResizeEnabled}onRestoreStartState(){}showLayers(t){for(var i=0;i<t.length;i++){let r=t[i];r.isVisible=!0,r.type==k.GroupLayer&&this.showLayers(r.children())}}changeResizeStatus(t){this._uiState.isResizeEnabled=t.target.checked}onShowAllLayers(){let t=this._provider.getImage();this.showLayers(t.layers)}onRestoreStartVisibility(){}onEditAnotherFile(){location.reload()}downloadInFormat(t){var i=this;return te(function*(){let r=i._provider.getInitParams();i._waitingService.start("Processing and downloading");var s=yield i._provider.getFinalImage(r[0],r[1],t);i.download(s)})()}onDownloadUpdatedImage(){var t=this;return te(function*(){yield t.downloadInFormat(fn.ImageFileType.Psd)})()}onDownloadUpdatedImageAsJpg(){var t=this;return te(function*(){yield t.downloadInFormat(fn.ImageFileType.Jpeg)})()}onDownloadUpdatedImageAsPng(){var t=this;return te(function*(){yield t.downloadInFormat(fn.ImageFileType.Png)})()}downloadViaLink(t){let i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("download",t),i.click(),this._waitingService.end()}download(t){this.downloadViaLink(t)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(b(Jr),b(Wn),b(Po))},n.\u0275cmp=q({type:n,selectors:[["app-quickcommands"]],decls:2,vars:2,consts:[["class","waiting",4,"ngIf"],[4,"ngIf"],[1,"waiting"],[1,"button",3,"click"],[1,"checkbox"],["type","checkbox",3,"checked","change"],[1,"button","big",3,"click"],["addLayerSelector",""]],template:function(t,i){1&t&&(S(0,Fx,2,0,"div",0),S(1,Rx,24,1,"div",1)),2&t&&(y("ngIf",i.isWaiting),C(1),y("ngIf",!i.isWaiting))},dependencies:[Re,Px,Ox],styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n',".button,.checkbox{float:left;border-radius:2px;background-color:#59c7de;padding:3px 6px;margin:5px;cursor:pointer;text-align-last:center;box-shadow:inset -2px -2px 3px -2px #32323259;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;user-select:none}.waiting{margin-top:10px;text-align:center}.button span{border-bottom:1px solid black}.big{width:90%;margin:8px 5%;height:2.5em;font-size:1.3em;font-weight:700;background-color:#62e95b;padding-top:5px}.big span{line-height:2em}.checkbox input{margin-left:0;margin-right:5px}\n"],encapsulation:3}),n})(),jx=(()=>{class n{constructor(){this.progress=0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-progress"]],inputs:{progress:"progress"},decls:2,vars:2,consts:[[1,"progress-cont"],[1,"progress"]],template:function(t,i){1&t&&(f(0,"div",0),O(1,"div",1),m()),2&t&&(C(1),ze("width",i.progress,"%"))},styles:["*{box-sizing:border-box}\n",".progress-cont{height:7px;width:100%;border-radius:4px;background-color:#d0d0d0;position:relative}.progress-cont .progress{width:0;height:100%;position:absolute;z-index:1;top:0;left:0;border-radius:4px;background-color:#4c97cb;transition:.5s all}\n"],encapsulation:3}),n})();function Ux(n,e){1&n&&(f(0,"p"),E(1,"* By uploading your files or using our service you agree with our "),f(2,"a",9),E(3,"Terms of Service"),m(),E(4," and "),f(5,"a",10),E(6,"Privacy Policy"),m()())}function Bx(n,e){1&n&&(f(0,"p")(1,"b",11),E(2,"!!!!!"),m(),E(3," You are using app in development mode. Please build "),f(4,"i"),E(5,"ProductTools\\PSD\\Template\\"),m(),E(6," using "),f(7,"i"),E(8,"ng build --prod --output-hashing none"),m(),E(9," then redeploy app "),f(10,"b",11),E(11,"!!!!!"),m()())}function Hx(n,e){if(1&n){const t=oe();f(0,"div",3),T("fileDropped",function(r){return F(t),R(D().onFileDropped(r))}),f(1,"input",4,5),T("change",function(r){return F(t),R(D().fileBrowseHandler(r))}),m(),O(3,"i",6),f(4,"h3"),E(5,"Drag and drop PSD or PSB file here for Start"),m(),f(6,"h4"),E(7,"You can open any supported raster image format such as PNG or JPG, but it will be converted to PSD file."),m(),S(8,Ux,7,0,"p",7),S(9,Bx,12,0,"p",7),f(10,"label",8),E(11,"Browse for file"),m()()}if(2&n){const t=D();C(8),y("ngIf",t.environment.production),C(1),y("ngIf",!t.environment.production)}}function Vx(n,e){if(1&n){const t=oe();f(0,"div",14)(1,"div",15)(2,"i",16),O(3,"app-icon",17),m()(),f(4,"div",18)(5,"h4",19),E(6),m(),f(7,"p",20),E(8),m(),O(9,"app-progress",21),f(10,"div",22),E(11,"After uploading the file, editing will start"),m()(),f(12,"div",23),T("click",function(){const s=F(t).index;return R(D(2).deleteFile(s))}),f(13,"i",24),O(14,"app-icon",25),m()()()}if(2&n){const t=e.$implicit,i=D(2);C(6),bn(" ",null==t?null:t.name," "),C(2),bn(" ",i.formatBytes(null==t?null:t.size,0)," "),C(1),y("progress",t.progress)}}function $x(n,e){if(1&n&&(f(0,"div",12),S(1,Vx,15,3,"div",13),m()),2&n){const t=D();C(1),y("ngForOf",t.files)}}let Gx=(()=>{class n{constructor(t,i,r){this._api=t,this._cd=i,this._logger=r,this.environment=Xr,this.filesUploaded=new ve,this._areFilesUploaded=!1,this.files=[]}ngOnInit(){}get areFilesUploded(){return this._areFilesUploaded}get areFilesAdded(){return this.files.length>0}onFileDropped(t){this.prepareFilesList(t)}fileBrowseHandler(t){this.prepareFilesList(t.target.files)}deleteFile(t){this.files.splice(t,1)}prepareFilesList(t){t.length>0&&this.files.push(t[0]),this.uploadFiles(0)}uploadFiles(t){var i=this;return te(function*(){i.files[t].progress=0;var r=i._api.upload(i.files[t]);i.subscribeUploading(r)})()}subscribeUploading(t){t.onProgress.on((i,r)=>{try{this.files[0].progress=r,this._cd.detectChanges()}catch(s){this._logger.log("error",s)}}),t.Done.then(i=>{this._areFilesUploaded=!0,this.filesUploaded.emit([i[0],i[1]]),this._cd.detectChanges()}).catch(i=>{this._logger.error("error done upload",i)})}formatBytes(t,i){if(0===t)return"0 Bytes";const s=i<=0?0:i||2,a=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,a)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}}return n.\u0275fac=function(t){return new(t||n)(b(Bi),b(Ic),b(Oe))},n.\u0275cmp=q({type:n,selectors:[["app-startfileupload"]],inputs:{dataProvider:"dataProvider"},outputs:{filesUploaded:"filesUploaded"},decls:3,vars:2,consts:[[1,"upload-component"],["class","container","appDnd","",3,"fileDropped",4,"ngIf"],["class","files-list",4,"ngIf"],["appDnd","",1,"container",3,"fileDropped"],["type","file","accept",".psd,.psb","id","fileDropRef","multiple","",3,"change"],["fileDropRef",""],["aria-hidden","true",1,"fa","fa-upload","fa-4","fa-4x"],[4,"ngIf"],["for","fileDropRef",1,"single-drop-file-label"],["href","https://about.aspose.app/legal/tos",2,"color","#fff"],["href","https://about.aspose.app/legal/privacy-policy",2,"color","#fff"],[2,"animation","blinker 1s step-start infinite"],[1,"files-list"],["class","single-file",4,"ngFor","ngForOf"],[1,"single-file"],[1,"file-icon",2,"width","50px","padding","8px"],["aria-hidden","true",1,"fa","fa-upload"],["icon","Upload","size","36"],[1,"info"],[1,"name"],[1,"size"],[3,"progress"],[1,"information"],[1,"delete","fa",2,"width","20px","height","20px",3,"click"],["aria-hidden","true",1,"fa","fa-trash",2,"width","20px","height","20px"],["icon","Trash",1,"fa"]],template:function(t,i){1&t&&(f(0,"div",0),S(1,Hx,12,2,"div",1),S(2,$x,2,1,"div",2),m()),2&t&&(C(1),y("ngIf",!i.areFilesAdded),C(1),y("ngIf",i.areFilesAdded))},dependencies:[Dt,Re,Kr,jx],styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n',".upload-component{position:relative;width:100%;height:100%;padding:1%}@keyframes blinker{50%{opacity:0}}.upload-component .container{box-sizing:border-box;width:100%;height:100%;text-align:center;border:dashed 1px #59c7de;color:#fff;position:relative;padding:1em;margin:0 auto;cursor:pointer}.upload-component .container input{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0;cursor:pointer}.upload-component .container .information{color:#fff;font-size:1.5em;text-align:center}.upload-component .container .fa{width:1em;height:1em}.upload-component .container label{color:#12505c;font-size:1.5em;font-weight:700;border-radius:5px;background-color:#59c7de;padding:8px 16px;margin-top:2px;display:inline-block;box-shadow:inset -2px -2px 3px -2px #32323266}.upload-component .container h3{font-size:20px;font-weight:600;color:#fff}.upload-component .fileover{animation:shake 1s;animation-iteration-count:infinite}.upload-component .files-list{width:100%;height:100%}.upload-component .files-list .single-file{padding:.5rem;justify-content:space-between;align-items:center;color:#fff;width:96%;height:100%;border:dashed 1px #59c7de;margin:0 auto 1rem;display:flex;flex-grow:1}.upload-component .files-list .single-file h4{color:#fff}.upload-component .files-list .single-file .delete{display:flex;margin-left:.5rem;cursor:pointer;align-self:flex-end}.upload-component .files-list .single-file .name{font-size:14px;font-weight:500;color:#fff;margin:0}.upload-component .files-list .single-file .size{font-size:12px;font-weight:500;color:#a4a4a4;margin:0;margin-bottom:.25rem}.upload-component .files-list .single-file .info{width:100%}.upload-component h3,.upload-component h4,.upload-component p{margin:7px 0}@keyframes shake{0%{transform:translate(1px,1px) rotate(0)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0)}to{transform:translate(1px,-2px) rotate(-1deg)}}.upload-component i{color:#fff}\n"],encapsulation:3}),n})(),Yx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-psdtemplatedescription"]],decls:9,vars:0,consts:[[1,"psd-app-description"],["href","/psd/PsdTemplateApp/3rdpartylicenses.txt"]],template:function(t,i){1&t&&(f(0,"div",0)(1,"p"),E(2,"PSD Template Editor can help you to quickly update some images on your PSD File. You can change text, or replace clipart from your Site or Booklet Templates"),m(),f(3,"p"),E(4,"PSD Template App is online, free and available from any device"),m(),f(5,"p"),E(6,"** "),f(7,"a",1),E(8,"Information about 3rd party licenses"),m()()())},styles:["*{box-sizing:border-box}\n",".psd-app-description{padding:5px;text-align:center}p,a{color:#fff}\n"],encapsulation:3}),n})(),Wx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-psdtemplateheaderdesc"]],decls:11,vars:0,consts:[[1,"psd-app-header-description"],["href","https://docs.aspose.com/psd/net/"],["href","https://products.aspose.com/psd"]],template:function(t,i){1&t&&(f(0,"div",0)(1,"h3"),E(2,"Free online app for quick and easy update of PSD File"),m(),f(3,"p"),E(4,"Supports Text Editing, Adjustment Layers, Clipping and much more. This app hasn't Adobe\xae Photoshop\xae dependency. It uses "),f(5,"a",1),E(6,"Aspose.PSD"),m(),E(7," on Back-end. "),f(8,"a",2),E(9,"Java and .Net versions"),m(),E(10," are available on premise"),m()())},styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n',"h2,h3{color:#fff}a{color:#e0e25a}.psd-app-header-description{padding:5px;text-align:center}p{color:#fff}\n"],encapsulation:3}),n})();function Zx(n,e){1&n&&(f(0,"gridster-item",3)(1,"div",4)(2,"h4"),E(3,"Aspose PSD Online Editor"),m()(),f(4,"app-imageworkspace",5),T("mousedown",function(i){return i.stopPropagation()})("touchstart",function(i){return i.stopPropagation()}),m()()),2&n&&y("item",D().dashboard[0])}function Qx(n,e){1&n&&(f(0,"gridster-item",3)(1,"div",4)(2,"h4"),E(3,"Quick commands"),m()(),f(4,"app-quickcommands",5),T("mousedown",function(i){return i.stopPropagation()})("touchstart",function(i){return i.stopPropagation()}),m()()),2&n&&y("item",D().dashboard[1])}function Xx(n,e){if(1&n&&(f(0,"gridster-item",3)(1,"div",4)(2,"h4"),E(3,"Layers"),m()(),f(4,"app-layerlistworkspace",6),T("mousedown",function(i){return i.stopPropagation()})("touchstart",function(i){return i.stopPropagation()}),m()()),2&n){const t=D();y("item",t.dashboard[2]),C(4),y("dataProvider",t.dataProvider)}}function Jx(n,e){if(1&n){const t=oe();f(0,"gridster-item",3)(1,"div",4)(2,"h4"),E(3,"Upload PSD File for Edit"),m()(),f(4,"app-startfileupload",7),T("filesUploaded",function(r){return F(t),R(D().onFilesUploaded(r))})("mousedown",function(r){return r.stopPropagation()})("touchstart",function(r){return r.stopPropagation()}),m()()}if(2&n){const t=D();y("item",t.dashboard[3]),C(4),y("dataProvider",t.dataProvider)}}function qx(n,e){1&n&&(f(0,"gridster-item",3)(1,"div",4)(2,"h4"),E(3,"How Aspose PSD Editor can help you?"),m()(),f(4,"app-psdtemplatedescription",5),T("mousedown",function(i){return i.stopPropagation()})("touchstart",function(i){return i.stopPropagation()}),m()()),2&n&&y("item",D().dashboard[4])}function Kx(n,e){1&n&&(f(0,"gridster-item",3)(1,"div",4)(2,"h1"),E(3,"PSD Editor "),f(4,"span",8),E(5,"(Ver. 0.3 Beta)"),m()()(),f(6,"app-psdtemplateheaderdesc",9),T("mousedown",function(i){return i.stopPropagation()})("touchstart",function(i){return i.stopPropagation()}),m()()),2&n&&y("item",D().dashboard[5])}let eE=(()=>{class n{constructor(t,i,r,s){this._provider=t,this._uiState=i,this._growler=r,this._logger=s,this.options={gridType:ee.Fit,compactType:le.None,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,mobileBreakpoint:640,minCols:12,maxCols:12,minRows:9,maxRows:9,maxItemCols:12,minItemCols:1,maxItemRows:9,minItemRows:1,minItemArea:1,defaultItemCols:1,defaultItemRows:1,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,scrollSensitivity:10,scrollSpeed:20,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{enabled:!0},resizable:{enabled:!0},swap:!1,pushItems:!0,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:Br.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1};let o={cols:9,rows:9,y:0,x:0,dragEnabled:!0,resizeEnabled:!0};o.initCallback=(a,l)=>{this.onWorkspaceAreaInit(a,l)},this.dashboard=[o,{cols:3,rows:3,y:0,x:10,dragEnabled:!0,resizeEnabled:!0},{cols:3,rows:4,y:3,x:10,dragEnabled:!0,resizeEnabled:!0},{cols:12,rows:3,y:2,x:0,minItemRows:3,maxItemRows:5,dragEnabled:!0,resizeEnabled:!0},{cols:12,rows:2,y:5,x:0,minItemRows:2,dragEnabled:!0,resizeEnabled:!0},{cols:12,rows:2,y:0,x:0,dragEnabled:!0,resizeEnabled:!1}]}get dataProvider(){return this._provider}onFilesUploaded(t){var i=this;return te(function*(){i._logger.log("Mainpanel start init",t),i._provider.init(t[0],t[1]),i._logger.log("Starting file was uploaded"),i._growler.growl("The file was uploaded",Jt.Success)})()}onWorkspaceAreaInit(t,i){this._logger.log(i),this._uiState.setWorkspaceBounds(i)}ngOnInit(){}changedOptions(){let i=this.options.api?.optionsChanged;i?.()}removeItem(t){this.dashboard.splice(this.dashboard.indexOf(t),1)}addItem(){this.dashboard.push({})}isImageUploaded(){return this._provider.isInited()}}return n.\u0275fac=function(t){return new(t||n)(b(Jr),b(Wn),b(Yn),b(Oe))},n.\u0275cmp=q({type:n,selectors:[["app-mainpanel"]],decls:8,vars:7,consts:[[2,"height","800px"],[2,"background","none",3,"options"],[3,"item",4,"ngIf"],[3,"item"],[1,"block-header"],[1,"gridster-item-content","block-content",3,"mousedown","touchstart"],[1,"gridster-item-content","block-content",3,"dataProvider","mousedown","touchstart"],[1,"gridster-item-content","block-content",3,"dataProvider","filesUploaded","mousedown","touchstart"],[2,"font-size","0.5em"],[1,"gridster-item-content","block-content-header",3,"mousedown","touchstart"]],template:function(t,i){1&t&&(f(0,"div",0)(1,"gridster",1),S(2,Zx,5,1,"gridster-item",2),S(3,Qx,5,1,"gridster-item",2),S(4,Xx,5,2,"gridster-item",2),S(5,Jx,5,2,"gridster-item",2),S(6,qx,5,1,"gridster-item",2),S(7,Kx,7,1,"gridster-item",2),m()()),2&t&&(C(1),y("options",i.options),C(1),y("ngIf",i.isImageUploaded()),C(1),y("ngIf",i.isImageUploaded()),C(1),y("ngIf",i.isImageUploaded()),C(1),y("ngIf",!i.isImageUploaded()),C(1),y("ngIf",!i.isImageUploaded()),C(1),y("ngIf",!i.isImageUploaded()))},dependencies:[Re,xy,eA,mx,bx,zx,Gx,Yx,Wx],styles:["*{box-sizing:border-box}\n",'*{box-sizing:border-box;font-family:Open Sans}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0b.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\n',".block-header,.block-header-big{background:#133139;width:100%;margin-bottom:3px}.wrapper{top:28px;bottom:0px;left:4px;right:0px;position:absolute}.block-header h4,.block-header h1{color:#fff;text-align:center;margin:0;padding-bottom:4px}.block-content,.block-content-header{top:22px;bottom:0px;left:0px;right:0px;position:absolute;background-color:#12505c}.block-content-header{top:45px}gridster{background:none}\n"],encapsulation:3}),n})(),tE=(()=>{class n{constructor(){this.title="Template"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=q({type:n,selectors:[["app-root"]],decls:3,vars:1,consts:[["role","main",1,"content"],["position","top-right",3,"timeout"],[1,"main-panel"]],template:function(t,i){1&t&&(f(0,"div",0),O(1,"app-growler",1)(2,"app-mainpanel",2),m()),2&t&&(C(1),y("timeout",3e3))},dependencies:[gA,eE],styles:["*{box-sizing:border-box}\n",".main-panel{width:100%;height:800px;margin:0 auto;clear:both;text-align:left}.content{height:800px}\n"],encapsulation:3}),n})(),nE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=at({type:n,bootstrap:[tE]}),n.\u0275inj=Ke({imports:[o2,tA,nA,hA]}),n})();Xr.production&&function JM(){Im=!1}(),s2().bootstrapModule(nE).catch(n=>console.error(n))}},Qn=>{Qn(Qn.s=26)}]);